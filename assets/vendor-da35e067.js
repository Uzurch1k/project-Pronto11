function Ua(n,e){return function(){return n.apply(e,arguments)}}const{toString:Id}=Object.prototype,{getPrototypeOf:hr}=Object,Ui=(n=>e=>{const t=Id.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ke=n=>(n=n.toLowerCase(),e=>Ui(e)===n),$i=n=>e=>typeof e===n,{isArray:Qt}=Array,In=$i("undefined");function xd(n){return n!==null&&!In(n)&&n.constructor!==null&&!In(n.constructor)&&Te(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const $a=ke("ArrayBuffer");function Pd(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&$a(n.buffer),e}const Ad=$i("string"),Te=$i("function"),Wa=$i("number"),Wi=n=>n!==null&&typeof n=="object",Md=n=>n===!0||n===!1,li=n=>{if(Ui(n)!=="object")return!1;const e=hr(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Rd=ke("Date"),Od=ke("File"),Nd=ke("Blob"),kd=ke("FileList"),Ld=n=>Wi(n)&&Te(n.pipe),Dd=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Te(n.append)&&((e=Ui(n))==="formdata"||e==="object"&&Te(n.toString)&&n.toString()==="[object FormData]"))},Fd=ke("URLSearchParams"),Bd=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Un(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),Qt(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{const r=t?Object.getOwnPropertyNames(n):Object.keys(n),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,n[a],a,n)}}function Va(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const Ga=n=>!In(n)&&n!=={};function Bs(){const{caseless:n}=Ga(this)&&this||{},e={},t=(i,s)=>{const r=n&&Va(e,s)||s;li(e[r])&&li(i)?e[r]=Bs(e[r],i):li(i)?e[r]=Bs({},i):Qt(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Un(arguments[i],t);return e}const zd=(n,e,t,{allOwnKeys:i}={})=>(Un(e,(s,r)=>{t&&Te(s)?n[r]=Ua(s,t):n[r]=s},{allOwnKeys:i}),n),Hd=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Ud=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},$d=(n,e,t,i)=>{let s,r,o;const a={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),r=s.length;r-- >0;)o=s[r],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&hr(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Wd=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},Vd=n=>{if(!n)return null;if(Qt(n))return n;let e=n.length;if(!Wa(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Gd=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&hr(Uint8Array)),jd=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(n,r[0],r[1])}},qd=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},Yd=ke("HTMLFormElement"),Xd=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),yo=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Kd=ke("RegExp"),ja=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Un(t,(s,r)=>{let o;(o=e(s,r,n))!==!1&&(i[r]=o||s)}),Object.defineProperties(n,i)},Qd=n=>{ja(n,(e,t)=>{if(Te(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Te(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Jd=(n,e)=>{const t={},i=s=>{s.forEach(r=>{t[r]=!0})};return Qt(n)?i(n):i(String(n).split(e)),t},Zd=()=>{},eu=(n,e)=>(n=+n,Number.isFinite(n)?n:e),hs="abcdefghijklmnopqrstuvwxyz",wo="0123456789",qa={DIGIT:wo,ALPHA:hs,ALPHA_DIGIT:hs+hs.toUpperCase()+wo},tu=(n=16,e=qa.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function nu(n){return!!(n&&Te(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const iu=n=>{const e=new Array(10),t=(i,s)=>{if(Wi(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=Qt(i)?[]:{};return Un(i,(o,a)=>{const l=t(o,s+1);!In(l)&&(r[a]=l)}),e[s]=void 0,r}}return i};return t(n,0)},su=ke("AsyncFunction"),ru=n=>n&&(Wi(n)||Te(n))&&Te(n.then)&&Te(n.catch),L={isArray:Qt,isArrayBuffer:$a,isBuffer:xd,isFormData:Dd,isArrayBufferView:Pd,isString:Ad,isNumber:Wa,isBoolean:Md,isObject:Wi,isPlainObject:li,isUndefined:In,isDate:Rd,isFile:Od,isBlob:Nd,isRegExp:Kd,isFunction:Te,isStream:Ld,isURLSearchParams:Fd,isTypedArray:Gd,isFileList:kd,forEach:Un,merge:Bs,extend:zd,trim:Bd,stripBOM:Hd,inherits:Ud,toFlatObject:$d,kindOf:Ui,kindOfTest:ke,endsWith:Wd,toArray:Vd,forEachEntry:jd,matchAll:qd,isHTMLForm:Yd,hasOwnProperty:yo,hasOwnProp:yo,reduceDescriptors:ja,freezeMethods:Qd,toObjectSet:Jd,toCamelCase:Xd,noop:Zd,toFiniteNumber:eu,findKey:Va,global:{},isContextDefined:Ga,ALPHABET:qa,generateString:tu,isSpecCompliantForm:nu,toJSONObject:iu,isAsyncFn:su,isThenable:ru};function X(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s)}L.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ya=X.prototype,Xa={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Xa[n]={value:n}});Object.defineProperties(X,Xa);Object.defineProperty(Ya,"isAxiosError",{value:!0});X.from=(n,e,t,i,s,r)=>{const o=Object.create(Ya);return L.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),X.call(o,n.message,e,t,i,s),o.cause=n,o.name=n.name,r&&Object.assign(o,r),o};const ou=null;function zs(n){return L.isPlainObject(n)||L.isArray(n)}function Ka(n){return L.endsWith(n,"[]")?n.slice(0,-2):n}function Eo(n,e,t){return n?n.concat(e).map(function(s,r){return s=Ka(s),!t&&r?"["+s+"]":s}).join(t?".":""):e}function au(n){return L.isArray(n)&&!n.some(zs)}const lu=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function Vi(n,e,t){if(!L.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=L.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!L.isUndefined(v[m])});const i=t.metaTokens,s=t.visitor||u,r=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(s))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(L.isDate(h))return h.toISOString();if(!l&&L.isBlob(h))throw new X("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(h)||L.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,m,v){let g=h;if(h&&!v&&typeof h=="object"){if(L.endsWith(m,"{}"))m=i?m:m.slice(0,-2),h=JSON.stringify(h);else if(L.isArray(h)&&au(h)||(L.isFileList(h)||L.endsWith(m,"[]"))&&(g=L.toArray(h)))return m=Ka(m),g.forEach(function(E,T){!(L.isUndefined(E)||E===null)&&e.append(o===!0?Eo([m],T,r):o===null?m:m+"[]",c(E))}),!1}return zs(h)?!0:(e.append(Eo(v,m,r),c(h)),!1)}const d=[],f=Object.assign(lu,{defaultVisitor:u,convertValue:c,isVisitable:zs});function p(h,m){if(!L.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(h),L.forEach(h,function(g,w){(!(L.isUndefined(g)||g===null)&&s.call(e,g,L.isString(w)?w.trim():w,m,f))===!0&&p(g,m?m.concat(w):[w])}),d.pop()}}if(!L.isObject(n))throw new TypeError("data must be an object");return p(n),e}function bo(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function pr(n,e){this._pairs=[],n&&Vi(n,this,e)}const Qa=pr.prototype;Qa.append=function(e,t){this._pairs.push([e,t])};Qa.toString=function(e){const t=e?function(i){return e.call(this,i,bo)}:bo;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function cu(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ja(n,e,t){if(!e)return n;const i=t&&t.encode||cu,s=t&&t.serialize;let r;if(s?r=s(e,t):r=L.isURLSearchParams(e)?e.toString():new pr(e,t).toString(i),r){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class du{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(i){i!==null&&e(i)})}}const To=du,Za={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uu=typeof URLSearchParams<"u"?URLSearchParams:pr,fu=typeof FormData<"u"?FormData:null,hu=typeof Blob<"u"?Blob:null,pu={isBrowser:!0,classes:{URLSearchParams:uu,FormData:fu,Blob:hu},protocols:["http","https","file","blob","url","data"]},el=typeof window<"u"&&typeof document<"u",mu=(n=>el&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),gu=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),vu=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:el,hasStandardBrowserEnv:mu,hasStandardBrowserWebWorkerEnv:gu},Symbol.toStringTag,{value:"Module"})),Me={...vu,...pu};function _u(n,e){return Vi(n,new Me.classes.URLSearchParams,Object.assign({visitor:function(t,i,s,r){return Me.isNode&&L.isBuffer(t)?(this.append(i,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function yu(n){return L.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function wu(n){const e={},t=Object.keys(n);let i;const s=t.length;let r;for(i=0;i<s;i++)r=t[i],e[r]=n[r];return e}function tl(n){function e(t,i,s,r){let o=t[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=t.length;return o=!o&&L.isArray(s)?s.length:o,l?(L.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!L.isObject(s[o]))&&(s[o]=[]),e(t,i,s[o],r)&&L.isArray(s[o])&&(s[o]=wu(s[o])),!a)}if(L.isFormData(n)&&L.isFunction(n.entries)){const t={};return L.forEachEntry(n,(i,s)=>{e(yu(i),s,t,0)}),t}return null}function Eu(n,e,t){if(L.isString(n))try{return(e||JSON.parse)(n),L.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const mr={transitional:Za,adapter:["xhr","http"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,r=L.isObject(e);if(r&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return s?JSON.stringify(tl(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return _u(e,this.formSerializer).toString();if((a=L.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Vi(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),Eu(e)):e}],transformResponse:[function(e){const t=this.transitional||mr.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(e&&L.isString(e)&&(i&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?X.from(a,X.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Me.classes.FormData,Blob:Me.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],n=>{mr.headers[n]={}});const gr=mr,bu=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tu=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!t||e[t]&&bu[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},So=Symbol("internals");function cn(n){return n&&String(n).trim().toLowerCase()}function ci(n){return n===!1||n==null?n:L.isArray(n)?n.map(ci):String(n)}function Su(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const Cu=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ps(n,e,t,i,s){if(L.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!L.isString(e)){if(L.isString(i))return e.indexOf(i)!==-1;if(L.isRegExp(i))return i.test(e)}}function Iu(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function xu(n,e){const t=L.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}class Gi{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function r(a,l,c){const u=cn(l);if(!u)throw new Error("header name must be a non-empty string");const d=L.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=ci(a))}const o=(a,l)=>L.forEach(a,(c,u)=>r(c,u,l));return L.isPlainObject(e)||e instanceof this.constructor?o(e,t):L.isString(e)&&(e=e.trim())&&!Cu(e)?o(Tu(e),t):e!=null&&r(t,e,i),this}get(e,t){if(e=cn(e),e){const i=L.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return Su(s);if(L.isFunction(t))return t.call(this,s,i);if(L.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=cn(e),e){const i=L.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||ps(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function r(o){if(o=cn(o),o){const a=L.findKey(i,o);a&&(!t||ps(i,i[a],a,t))&&(delete i[a],s=!0)}}return L.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const r=t[i];(!e||ps(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const t=this,i={};return L.forEach(this,(s,r)=>{const o=L.findKey(i,r);if(o){t[o]=ci(s),delete t[r];return}const a=e?Iu(r):String(r).trim();a!==r&&delete t[r],t[a]=ci(s),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return L.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&L.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[So]=this[So]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=cn(o);i[a]||(xu(s,o),i[a]=!0)}return L.isArray(e)?e.forEach(r):r(e),this}}Gi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(Gi.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});L.freezeMethods(Gi);const He=Gi;function ms(n,e){const t=this||gr,i=e||t,s=He.from(i.headers);let r=i.data;return L.forEach(n,function(a){r=a.call(t,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function nl(n){return!!(n&&n.__CANCEL__)}function $n(n,e,t){X.call(this,n??"canceled",X.ERR_CANCELED,e,t),this.name="CanceledError"}L.inherits($n,X,{__CANCEL__:!0});function Pu(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new X("Request failed with status code "+t.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const Au=Me.hasStandardBrowserEnv?{write(n,e,t,i,s,r){const o=[n+"="+encodeURIComponent(e)];L.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),L.isString(i)&&o.push("path="+i),L.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Mu(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Ru(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function il(n,e){return n&&!Mu(e)?Ru(n,e):e}const Ou=Me.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function s(r){let o=r;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=s(window.location.href),function(o){const a=L.isString(o)?s(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function Nu(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function ku(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[r];o||(o=c),t[s]=l,i[s]=c;let d=r,f=0;for(;d!==s;)f+=t[d++],d=d%n;if(s=(s+1)%n,s===r&&(r=(r+1)%n),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function Co(n,e){let t=0;const i=ku(50,250);return s=>{const r=s.loaded,o=s.lengthComputable?s.total:void 0,a=r-t,l=i(a),c=r<=o;t=r;const u={loaded:r,total:o,progress:o?r/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-r)/l:void 0,event:s};u[e?"download":"upload"]=!0,n(u)}}const Lu=typeof XMLHttpRequest<"u",Du=Lu&&function(n){return new Promise(function(t,i){let s=n.data;const r=He.from(n.headers).normalize();let{responseType:o,withXSRFToken:a}=n,l;function c(){n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let u;if(L.isFormData(s)){if(Me.hasStandardBrowserEnv||Me.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((u=r.getContentType())!==!1){const[m,...v]=u?u.split(";").map(g=>g.trim()).filter(Boolean):[];r.setContentType([m||"multipart/form-data",...v].join("; "))}}let d=new XMLHttpRequest;if(n.auth){const m=n.auth.username||"",v=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";r.set("Authorization","Basic "+btoa(m+":"+v))}const f=il(n.baseURL,n.url);d.open(n.method.toUpperCase(),Ja(f,n.params,n.paramsSerializer),!0),d.timeout=n.timeout;function p(){if(!d)return;const m=He.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:m,config:n,request:d};Pu(function(E){t(E),c()},function(E){i(E),c()},g),d=null}if("onloadend"in d?d.onloadend=p:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(p)},d.onabort=function(){d&&(i(new X("Request aborted",X.ECONNABORTED,n,d)),d=null)},d.onerror=function(){i(new X("Network Error",X.ERR_NETWORK,n,d)),d=null},d.ontimeout=function(){let v=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const g=n.transitional||Za;n.timeoutErrorMessage&&(v=n.timeoutErrorMessage),i(new X(v,g.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,n,d)),d=null},Me.hasStandardBrowserEnv&&(a&&L.isFunction(a)&&(a=a(n)),a||a!==!1&&Ou(f))){const m=n.xsrfHeaderName&&n.xsrfCookieName&&Au.read(n.xsrfCookieName);m&&r.set(n.xsrfHeaderName,m)}s===void 0&&r.setContentType(null),"setRequestHeader"in d&&L.forEach(r.toJSON(),function(v,g){d.setRequestHeader(g,v)}),L.isUndefined(n.withCredentials)||(d.withCredentials=!!n.withCredentials),o&&o!=="json"&&(d.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&d.addEventListener("progress",Co(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Co(n.onUploadProgress)),(n.cancelToken||n.signal)&&(l=m=>{d&&(i(!m||m.type?new $n(null,n,d):m),d.abort(),d=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const h=Nu(f);if(h&&Me.protocols.indexOf(h)===-1){i(new X("Unsupported protocol "+h+":",X.ERR_BAD_REQUEST,n));return}d.send(s||null)})},Hs={http:ou,xhr:Du};L.forEach(Hs,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Io=n=>`- ${n}`,Fu=n=>L.isFunction(n)||n===null||n===!1,sl={getAdapter:n=>{n=L.isArray(n)?n:[n];const{length:e}=n;let t,i;const s={};for(let r=0;r<e;r++){t=n[r];let o;if(i=t,!Fu(t)&&(i=Hs[(o=String(t)).toLowerCase()],i===void 0))throw new X(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+r]=i}if(!i){const r=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(Io).join(`
`):" "+Io(r[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Hs};function gs(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new $n(null,n)}function xo(n){return gs(n),n.headers=He.from(n.headers),n.data=ms.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),sl.getAdapter(n.adapter||gr.adapter)(n).then(function(i){return gs(n),i.data=ms.call(n,n.transformResponse,i),i.headers=He.from(i.headers),i},function(i){return nl(i)||(gs(n),i&&i.response&&(i.response.data=ms.call(n,n.transformResponse,i.response),i.response.headers=He.from(i.response.headers))),Promise.reject(i)})}const Po=n=>n instanceof He?n.toJSON():n;function $t(n,e){e=e||{};const t={};function i(c,u,d){return L.isPlainObject(c)&&L.isPlainObject(u)?L.merge.call({caseless:d},c,u):L.isPlainObject(u)?L.merge({},u):L.isArray(u)?u.slice():u}function s(c,u,d){if(L.isUndefined(u)){if(!L.isUndefined(c))return i(void 0,c,d)}else return i(c,u,d)}function r(c,u){if(!L.isUndefined(u))return i(void 0,u)}function o(c,u){if(L.isUndefined(u)){if(!L.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in n)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(Po(c),Po(u),!0)};return L.forEach(Object.keys(Object.assign({},n,e)),function(u){const d=l[u]||s,f=d(n[u],e[u],u);L.isUndefined(f)&&d!==a||(t[u]=f)}),t}const rl="1.6.7",vr={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{vr[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Ao={};vr.transitional=function(e,t,i){function s(r,o){return"[Axios v"+rl+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new X(s(o," has been removed"+(t?" in "+t:"")),X.ERR_DEPRECATED);return t&&!Ao[o]&&(Ao[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,o,a):!0}};function Bu(n,e,t){if(typeof n!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const a=n[r],l=a===void 0||o(a,r,n);if(l!==!0)throw new X("option "+r+" must be "+l,X.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new X("Unknown option "+r,X.ERR_BAD_OPTION)}}const Us={assertOptions:Bu,validators:vr},Ye=Us.validators;class gi{constructor(e){this.defaults=e,this.interceptors={request:new To,response:new To}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=$t(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:r}=t;i!==void 0&&Us.assertOptions(i,{silentJSONParsing:Ye.transitional(Ye.boolean),forcedJSONParsing:Ye.transitional(Ye.boolean),clarifyTimeoutError:Ye.transitional(Ye.boolean)},!1),s!=null&&(L.isFunction(s)?t.paramsSerializer={serialize:s}:Us.assertOptions(s,{encode:Ye.function,serialize:Ye.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&L.merge(r.common,r[t.method]);r&&L.forEach(["delete","get","head","post","put","patch","common"],h=>{delete r[h]}),t.headers=He.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const h=[xo.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,c),f=h.length,u=Promise.resolve(t);d<f;)u=u.then(h[d++],h[d++]);return u}f=a.length;let p=t;for(d=0;d<f;){const h=a[d++],m=a[d++];try{p=h(p)}catch(v){m.call(this,v);break}}try{u=xo.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=$t(this.defaults,e);const t=il(e.baseURL,e.url);return Ja(t,e.params,e.paramsSerializer)}}L.forEach(["delete","get","head","options"],function(e){gi.prototype[e]=function(t,i){return this.request($t(i||{},{method:e,url:t,data:(i||{}).data}))}});L.forEach(["post","put","patch"],function(e){function t(i){return function(r,o,a){return this.request($t(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}gi.prototype[e]=t(),gi.prototype[e+"Form"]=t(!0)});const di=gi;class _r{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new $n(r,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new _r(function(s){e=s}),cancel:e}}}const zu=_r;function Hu(n){return function(t){return n.apply(null,t)}}function Uu(n){return L.isObject(n)&&n.isAxiosError===!0}const $s={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($s).forEach(([n,e])=>{$s[e]=n});const $u=$s;function ol(n){const e=new di(n),t=Ua(di.prototype.request,e);return L.extend(t,di.prototype,e,{allOwnKeys:!0}),L.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return ol($t(n,s))},t}const se=ol(gr);se.Axios=di;se.CanceledError=$n;se.CancelToken=zu;se.isCancel=nl;se.VERSION=rl;se.toFormData=Vi;se.AxiosError=X;se.Cancel=se.CanceledError;se.all=function(e){return Promise.all(e)};se.spread=Hu;se.isAxiosError=Uu;se.mergeConfig=$t;se.AxiosHeaders=He;se.formToJSON=n=>tl(L.isHTMLForm(n)?new FormData(n):n);se.getAdapter=sl.getAdapter;se.HttpStatusCode=$u;se.default=se;const eE=se;var Nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var al={exports:{}};(function(n,e){(function(t,i){n.exports=i(t)})(typeof Nt<"u"?Nt:window||Nt.window||Nt.global,function(t){var i={},s="iziToast";document.querySelector("body");var r=!!/Mobi/.test(navigator.userAgent),o=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),a=typeof InstallTrigger<"u",l="ontouchstart"in document.documentElement,c=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],u={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},d=568,f={};i.children={};var p={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof window.CustomEvent!="function"){var h=function(I,P){P=P||{bubbles:!1,cancelable:!1,detail:void 0};var _=document.createEvent("CustomEvent");return _.initCustomEvent(I,P.bubbles,P.cancelable,P.detail),_};h.prototype=window.Event.prototype,window.CustomEvent=h}var m=function(I,P,_){if(Object.prototype.toString.call(I)==="[object Object]")for(var y in I)Object.prototype.hasOwnProperty.call(I,y)&&P.call(_,I[y],y,I);else if(I)for(var x=0,R=I.length;x<R;x++)P.call(_,I[x],x,I)},v=function(I,P){var _={};return m(I,function(y,x){_[x]=I[x]}),m(P,function(y,x){_[x]=P[x]}),_},g=function(I){var P=document.createDocumentFragment(),_=document.createElement("div");for(_.innerHTML=I;_.firstChild;)P.appendChild(_.firstChild);return P},w=function(I){var P=btoa(encodeURIComponent(I));return P.replace(/=/g,"")},E=function(I){return I.substring(0,1)=="#"||I.substring(0,3)=="rgb"||I.substring(0,3)=="hsl"},T=function(I){try{return btoa(atob(I))==I}catch{return!1}},A=function(){return{move:function(I,P,_,y){var x,R=.3,C=180;y!==0&&(I.classList.add(s+"-dragged"),I.style.transform="translateX("+y+"px)",y>0?(x=(C-y)/C,x<R&&P.hide(v(_,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),I,"drag")):(x=(C+y)/C,x<R&&P.hide(v(_,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),I,"drag")),I.style.opacity=x,x<R&&((o||a)&&(I.style.left=y+"px"),I.parentNode.style.opacity=R,this.stopMoving(I,null)))},startMoving:function(I,P,_,y){y=y||window.event;var x=l?y.touches[0].clientX:y.clientX,R=I.style.transform.replace("px)","");R=R.replace("translateX(","");var C=x-R;_.transitionIn&&I.classList.remove(_.transitionIn),_.transitionInMobile&&I.classList.remove(_.transitionInMobile),I.style.transition="",l?document.ontouchmove=function(b){b.preventDefault(),b=b||window.event;var S=b.touches[0].clientX,N=S-C;A.move(I,P,_,N)}:document.onmousemove=function(b){b.preventDefault(),b=b||window.event;var S=b.clientX,N=S-C;A.move(I,P,_,N)}},stopMoving:function(I,P){l?document.ontouchmove=function(){}:document.onmousemove=function(){},I.style.opacity="",I.style.transform="",I.classList.contains(s+"-dragged")&&(I.classList.remove(s+"-dragged"),I.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){I.style.transition=""},400))}}}();return i.setSetting=function(I,P,_){i.children[I][P]=_},i.getSetting=function(I,P){return i.children[I][P]},i.destroy=function(){m(document.querySelectorAll("."+s+"-overlay"),function(I,P){I.remove()}),m(document.querySelectorAll("."+s+"-wrapper"),function(I,P){I.remove()}),m(document.querySelectorAll("."+s),function(I,P){I.remove()}),this.children={},document.removeEventListener(s+"-opened",{},!1),document.removeEventListener(s+"-opening",{},!1),document.removeEventListener(s+"-closing",{},!1),document.removeEventListener(s+"-closed",{},!1),document.removeEventListener("keyup",{},!1),f={}},i.settings=function(I){i.destroy(),f=I,p=v(p,I||{})},m(u,function(I,P){i[P]=function(_){var y=v(f,_||{});y=v(I,y||{}),this.show(y)}}),i.progress=function(I,P,_){var y=this,x=P.getAttribute("data-iziToast-ref"),R=v(this.children[x],I||{}),C=P.querySelector("."+s+"-progressbar div");return{start:function(){typeof R.time.REMAINING>"u"&&(P.classList.remove(s+"-reseted"),C!==null&&(C.style.transition="width "+R.timeout+"ms "+R.progressBarEasing,C.style.width="0%"),R.time.START=new Date().getTime(),R.time.END=R.time.START+R.timeout,R.time.TIMER=setTimeout(function(){clearTimeout(R.time.TIMER),P.classList.contains(s+"-closing")||(y.hide(R,P,"timeout"),typeof _=="function"&&_.apply(y))},R.timeout),y.setSetting(x,"time",R.time))},pause:function(){if(typeof R.time.START<"u"&&!P.classList.contains(s+"-paused")&&!P.classList.contains(s+"-reseted")){if(P.classList.add(s+"-paused"),R.time.REMAINING=R.time.END-new Date().getTime(),clearTimeout(R.time.TIMER),y.setSetting(x,"time",R.time),C!==null){var b=window.getComputedStyle(C),S=b.getPropertyValue("width");C.style.transition="none",C.style.width=S}typeof _=="function"&&setTimeout(function(){_.apply(y)},10)}},resume:function(){typeof R.time.REMAINING<"u"?(P.classList.remove(s+"-paused"),C!==null&&(C.style.transition="width "+R.time.REMAINING+"ms "+R.progressBarEasing,C.style.width="0%"),R.time.END=new Date().getTime()+R.time.REMAINING,R.time.TIMER=setTimeout(function(){clearTimeout(R.time.TIMER),P.classList.contains(s+"-closing")||(y.hide(R,P,"timeout"),typeof _=="function"&&_.apply(y))},R.time.REMAINING),y.setSetting(x,"time",R.time)):this.start()},reset:function(){clearTimeout(R.time.TIMER),delete R.time.REMAINING,y.setSetting(x,"time",R.time),P.classList.add(s+"-reseted"),P.classList.remove(s+"-paused"),C!==null&&(C.style.transition="none",C.style.width="100%"),typeof _=="function"&&setTimeout(function(){_.apply(y)},10)}}},i.hide=function(I,P,_){typeof P!="object"&&(P=document.querySelector(P));var y=this,x=v(this.children[P.getAttribute("data-iziToast-ref")],I||{});x.closedBy=_||null,delete x.time.REMAINING,P.classList.add(s+"-closing"),function(){var b=document.querySelector("."+s+"-overlay");if(b!==null){var S=b.getAttribute("data-iziToast-ref");S=S.split(",");var N=S.indexOf(String(x.ref));N!==-1&&S.splice(N,1),b.setAttribute("data-iziToast-ref",S.join()),S.length===0&&(b.classList.remove("fadeIn"),b.classList.add("fadeOut"),setTimeout(function(){b.remove()},700))}}(),x.transitionIn&&P.classList.remove(x.transitionIn),x.transitionInMobile&&P.classList.remove(x.transitionInMobile),r||window.innerWidth<=d?x.transitionOutMobile&&P.classList.add(x.transitionOutMobile):x.transitionOut&&P.classList.add(x.transitionOut);var R=P.parentNode.offsetHeight;P.parentNode.style.height=R+"px",P.style.pointerEvents="none",(!r||window.innerWidth>d)&&(P.parentNode.style.transitionDelay="0.2s");try{var C=new CustomEvent(s+"-closing",{detail:x,bubbles:!0,cancelable:!0});document.dispatchEvent(C)}catch(b){console.warn(b)}setTimeout(function(){P.parentNode.style.height="0px",P.parentNode.style.overflow="",setTimeout(function(){delete y.children[x.ref],P.parentNode.remove();try{var b=new CustomEvent(s+"-closed",{detail:x,bubbles:!0,cancelable:!0});document.dispatchEvent(b)}catch(S){console.warn(S)}typeof x.onClosed<"u"&&x.onClosed.apply(null,[x,P,_])},1e3)},200),typeof x.onClosing<"u"&&x.onClosing.apply(null,[x,P,_])},i.show=function(I){var P=this,_=v(f,I||{});if(_=v(p,_),_.time={},_.id===null&&(_.id=w(_.title+_.message+_.color)),_.displayMode===1||_.displayMode=="once")try{if(document.querySelectorAll("."+s+"#"+_.id).length>0)return!1}catch{console.warn("["+s+"] Could not find an element with this selector: #"+_.id+". Try to set an valid id.")}if(_.displayMode===2||_.displayMode=="replace")try{m(document.querySelectorAll("."+s+"#"+_.id),function(C,b){P.hide(_,C,"replaced")})}catch{console.warn("["+s+"] Could not find an element with this selector: #"+_.id+". Try to set an valid id.")}_.ref=new Date().getTime()+Math.floor(Math.random()*1e7+1),i.children[_.ref]=_;var y={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:_.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};y.toast.setAttribute("data-iziToast-ref",_.ref),y.toast.appendChild(y.toastBody),y.toastCapsule.appendChild(y.toast),function(){if(y.toast.classList.add(s),y.toast.classList.add(s+"-opening"),y.toastCapsule.classList.add(s+"-capsule"),y.toastBody.classList.add(s+"-body"),y.toastTexts.classList.add(s+"-texts"),r||window.innerWidth<=d?_.transitionInMobile&&y.toast.classList.add(_.transitionInMobile):_.transitionIn&&y.toast.classList.add(_.transitionIn),_.class){var C=_.class.split(" ");m(C,function(b,S){y.toast.classList.add(b)})}_.id&&(y.toast.id=_.id),_.rtl&&(y.toast.classList.add(s+"-rtl"),y.toast.setAttribute("dir","rtl")),_.layout>1&&y.toast.classList.add(s+"-layout"+_.layout),_.balloon&&y.toast.classList.add(s+"-balloon"),_.maxWidth&&(isNaN(_.maxWidth)?y.toast.style.maxWidth=_.maxWidth:y.toast.style.maxWidth=_.maxWidth+"px"),(_.theme!==""||_.theme!=="light")&&y.toast.classList.add(s+"-theme-"+_.theme),_.color&&(E(_.color)?y.toast.style.background=_.color:y.toast.classList.add(s+"-color-"+_.color)),_.backgroundColor&&(y.toast.style.background=_.backgroundColor,_.balloon&&(y.toast.style.borderColor=_.backgroundColor))}(),function(){_.image&&(y.cover.classList.add(s+"-cover"),y.cover.style.width=_.imageWidth+"px",T(_.image.replace(/ /g,""))?y.cover.style.backgroundImage="url(data:image/png;base64,"+_.image.replace(/ /g,"")+")":y.cover.style.backgroundImage="url("+_.image+")",_.rtl?y.toastBody.style.marginRight=_.imageWidth+10+"px":y.toastBody.style.marginLeft=_.imageWidth+10+"px",y.toast.appendChild(y.cover))}(),function(){_.close?(y.buttonClose=document.createElement("button"),y.buttonClose.type="button",y.buttonClose.classList.add(s+"-close"),y.buttonClose.addEventListener("click",function(C){C.target,P.hide(_,y.toast,"button")}),y.toast.appendChild(y.buttonClose)):_.rtl?y.toast.style.paddingLeft="18px":y.toast.style.paddingRight="18px"}(),function(){_.progressBar&&(y.progressBar=document.createElement("div"),y.progressBarDiv=document.createElement("div"),y.progressBar.classList.add(s+"-progressbar"),y.progressBarDiv.style.background=_.progressBarColor,y.progressBar.appendChild(y.progressBarDiv),y.toast.appendChild(y.progressBar)),_.timeout&&(_.pauseOnHover&&!_.resetOnHover&&(y.toast.addEventListener("mouseenter",function(C){P.progress(_,y.toast).pause()}),y.toast.addEventListener("mouseleave",function(C){P.progress(_,y.toast).resume()})),_.resetOnHover&&(y.toast.addEventListener("mouseenter",function(C){P.progress(_,y.toast).reset()}),y.toast.addEventListener("mouseleave",function(C){P.progress(_,y.toast).start()})))}(),function(){_.iconUrl?(y.icon.setAttribute("class",s+"-icon"),y.icon.setAttribute("src",_.iconUrl)):_.icon&&(y.icon.setAttribute("class",s+"-icon "+_.icon),_.iconText&&y.icon.appendChild(document.createTextNode(_.iconText)),_.iconColor&&(y.icon.style.color=_.iconColor)),(_.icon||_.iconUrl)&&(_.rtl?y.toastBody.style.paddingRight="33px":y.toastBody.style.paddingLeft="33px",y.toastBody.appendChild(y.icon))}(),function(){_.title.length>0&&(y.strong=document.createElement("strong"),y.strong.classList.add(s+"-title"),y.strong.appendChild(g(_.title)),y.toastTexts.appendChild(y.strong),_.titleColor&&(y.strong.style.color=_.titleColor),_.titleSize&&(isNaN(_.titleSize)?y.strong.style.fontSize=_.titleSize:y.strong.style.fontSize=_.titleSize+"px"),_.titleLineHeight&&(isNaN(_.titleSize)?y.strong.style.lineHeight=_.titleLineHeight:y.strong.style.lineHeight=_.titleLineHeight+"px")),_.message.length>0&&(y.p=document.createElement("p"),y.p.classList.add(s+"-message"),y.p.appendChild(g(_.message)),y.toastTexts.appendChild(y.p),_.messageColor&&(y.p.style.color=_.messageColor),_.messageSize&&(isNaN(_.titleSize)?y.p.style.fontSize=_.messageSize:y.p.style.fontSize=_.messageSize+"px"),_.messageLineHeight&&(isNaN(_.titleSize)?y.p.style.lineHeight=_.messageLineHeight:y.p.style.lineHeight=_.messageLineHeight+"px")),_.title.length>0&&_.message.length>0&&(_.rtl?y.strong.style.marginLeft="10px":_.layout!==2&&!_.rtl&&(y.strong.style.marginRight="10px"))}(),y.toastBody.appendChild(y.toastTexts);var x;(function(){_.inputs.length>0&&(y.inputs.classList.add(s+"-inputs"),m(_.inputs,function(C,b){y.inputs.appendChild(g(C[0])),x=y.inputs.childNodes,x[b].classList.add(s+"-inputs-child"),C[3]&&setTimeout(function(){x[b].focus()},300),x[b].addEventListener(C[1],function(S){var N=C[2];return N(P,y.toast,this,S)})}),y.toastBody.appendChild(y.inputs))})(),function(){_.buttons.length>0&&(y.buttons.classList.add(s+"-buttons"),m(_.buttons,function(C,b){y.buttons.appendChild(g(C[0]));var S=y.buttons.childNodes;S[b].classList.add(s+"-buttons-child"),C[2]&&setTimeout(function(){S[b].focus()},300),S[b].addEventListener("click",function(N){N.preventDefault();var B=C[1];return B(P,y.toast,this,N,x)})})),y.toastBody.appendChild(y.buttons)}(),_.message.length>0&&(_.inputs.length>0||_.buttons.length>0)&&(y.p.style.marginBottom="0"),(_.inputs.length>0||_.buttons.length>0)&&(_.rtl?y.toastTexts.style.marginLeft="10px":y.toastTexts.style.marginRight="10px",_.inputs.length>0&&_.buttons.length>0&&(_.rtl?y.inputs.style.marginLeft="8px":y.inputs.style.marginRight="8px")),function(){y.toastCapsule.style.visibility="hidden",setTimeout(function(){var C=y.toast.offsetHeight,b=y.toast.currentStyle||window.getComputedStyle(y.toast),S=b.marginTop;S=S.split("px"),S=parseInt(S[0]);var N=b.marginBottom;N=N.split("px"),N=parseInt(N[0]),y.toastCapsule.style.visibility="",y.toastCapsule.style.height=C+N+S+"px",setTimeout(function(){y.toastCapsule.style.height="auto",_.target&&(y.toastCapsule.style.overflow="visible")},500),_.timeout&&P.progress(_,y.toast).start()},100)}(),function(){var C=_.position;if(_.target)y.wrapper=document.querySelector(_.target),y.wrapper.classList.add(s+"-target"),_.targetFirst?y.wrapper.insertBefore(y.toastCapsule,y.wrapper.firstChild):y.wrapper.appendChild(y.toastCapsule);else{if(c.indexOf(_.position)==-1){console.warn("["+s+`] Incorrect position.
It can be â€º `+c);return}r||window.innerWidth<=d?_.position=="bottomLeft"||_.position=="bottomRight"||_.position=="bottomCenter"?C=s+"-wrapper-bottomCenter":_.position=="topLeft"||_.position=="topRight"||_.position=="topCenter"?C=s+"-wrapper-topCenter":C=s+"-wrapper-center":C=s+"-wrapper-"+C,y.wrapper=document.querySelector("."+s+"-wrapper."+C),y.wrapper||(y.wrapper=document.createElement("div"),y.wrapper.classList.add(s+"-wrapper"),y.wrapper.classList.add(C),document.body.appendChild(y.wrapper)),_.position=="topLeft"||_.position=="topCenter"||_.position=="topRight"?y.wrapper.insertBefore(y.toastCapsule,y.wrapper.firstChild):y.wrapper.appendChild(y.toastCapsule)}isNaN(_.zindex)?console.warn("["+s+"] Invalid zIndex."):y.wrapper.style.zIndex=_.zindex}(),function(){_.overlay&&(document.querySelector("."+s+"-overlay.fadeIn")!==null?(y.overlay=document.querySelector("."+s+"-overlay"),y.overlay.setAttribute("data-iziToast-ref",y.overlay.getAttribute("data-iziToast-ref")+","+_.ref),!isNaN(_.zindex)&&_.zindex!==null&&(y.overlay.style.zIndex=_.zindex-1)):(y.overlay.classList.add(s+"-overlay"),y.overlay.classList.add("fadeIn"),y.overlay.style.background=_.overlayColor,y.overlay.setAttribute("data-iziToast-ref",_.ref),!isNaN(_.zindex)&&_.zindex!==null&&(y.overlay.style.zIndex=_.zindex-1),document.querySelector("body").appendChild(y.overlay)),_.overlayClose?(y.overlay.removeEventListener("click",{}),y.overlay.addEventListener("click",function(C){P.hide(_,y.toast,"overlay")})):y.overlay.removeEventListener("click",{}))}(),function(){if(_.animateInside){y.toast.classList.add(s+"-animateInside");var C=[200,100,300];(_.transitionIn=="bounceInLeft"||_.transitionIn=="bounceInRight")&&(C=[400,200,400]),_.title.length>0&&setTimeout(function(){y.strong.classList.add("slideIn")},C[0]),_.message.length>0&&setTimeout(function(){y.p.classList.add("slideIn")},C[1]),(_.icon||_.iconUrl)&&setTimeout(function(){y.icon.classList.add("revealIn")},C[2]);var b=150;_.buttons.length>0&&y.buttons&&setTimeout(function(){m(y.buttons.childNodes,function(S,N){setTimeout(function(){S.classList.add("revealIn")},b),b=b+150})},_.inputs.length>0?150:0),_.inputs.length>0&&y.inputs&&(b=150,m(y.inputs.childNodes,function(S,N){setTimeout(function(){S.classList.add("revealIn")},b),b=b+150}))}}(),_.onOpening.apply(null,[_,y.toast]);try{var R=new CustomEvent(s+"-opening",{detail:_,bubbles:!0,cancelable:!0});document.dispatchEvent(R)}catch(C){console.warn(C)}setTimeout(function(){y.toast.classList.remove(s+"-opening"),y.toast.classList.add(s+"-opened");try{var C=new CustomEvent(s+"-opened",{detail:_,bubbles:!0,cancelable:!0});document.dispatchEvent(C)}catch(b){console.warn(b)}_.onOpened.apply(null,[_,y.toast])},1e3),_.drag&&(l?(y.toast.addEventListener("touchstart",function(C){A.startMoving(this,P,_,C)},!1),y.toast.addEventListener("touchend",function(C){A.stopMoving(this,C)},!1)):(y.toast.addEventListener("mousedown",function(C){C.preventDefault(),A.startMoving(this,P,_,C)},!1),y.toast.addEventListener("mouseup",function(C){C.preventDefault(),A.stopMoving(this,C)},!1))),_.closeOnEscape&&document.addEventListener("keyup",function(C){C=C||window.event,C.keyCode==27&&P.hide(_,y.toast,"esc")}),_.closeOnClick&&y.toast.addEventListener("click",function(C){P.hide(_,y.toast,"toast")}),P.toast=y.toast},i})})(al);var Wu=al.exports;const tE=yr(Wu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(n,e){if(!n)throw Jt(e)},Jt=function(n){return new Error("Firebase Database ("+ll.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Vu=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[t++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[t++],o=n[t++],a=n[t++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=n[t++],o=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},wr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],o=s+1<n.length,a=o?n[s+1]:0,l=s+2<n.length,c=l?n[s+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),i.push(t[u],t[d],t[f],t[p])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cl(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Vu(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=t[n.charAt(s++)],a=s<n.length?t[n.charAt(s)]:0;++s;const c=s<n.length?t[n.charAt(s)]:64;++s;const d=s<n.length?t[n.charAt(s)]:64;if(++s,r==null||a==null||c==null||d==null)throw new Gu;const f=r<<2|a>>4;if(i.push(f),c!==64){const p=a<<4&240|c>>2;if(i.push(p),d!==64){const h=c<<6&192|d;i.push(h)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Gu extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dl=function(n){const e=cl(n);return wr.encodeByteArray(e,!0)},vi=function(n){return dl(n).replace(/\./g,"")},_i=function(n){try{return wr.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){return ul(void 0,n)}function ul(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!qu(t)||(n[t]=ul(n[t],e[t]));return n}function qu(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=()=>Yu().__FIREBASE_DEFAULTS__,Ku=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Qu=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_i(n[1]);return e&&JSON.parse(e)},Er=()=>{try{return Xu()||Ku()||Qu()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fl=n=>{var e,t;return(t=(e=Er())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ju=n=>{const e=fl(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},hl=()=>{var n;return(n=Er())===null||n===void 0?void 0:n.config},pl=n=>{var e;return(e=Er())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n),a="";return[vi(JSON.stringify(t)),vi(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function br(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fe())}function ef(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ml(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tf(){const n=fe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gl(){return ll.NODE_ADMIN===!0}function nf(){try{return typeof indexedDB=="object"}catch{return!1}}function sf(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="FirebaseError";class dt extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=rf,Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wn.prototype.create)}}class Wn{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?of(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new dt(s,a,i)}}function of(n,e){return n.replace(af,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const af=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(n){return JSON.parse(n)}function re(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=function(n){let e={},t={},i={},s="";try{const r=n.split(".");e=xn(_i(r[0])||""),t=xn(_i(r[1])||""),s=r[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:s}},lf=function(n){const e=vl(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},cf=function(n){const e=vl(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Wt(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Ws(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yi(n,e,t){const i={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=e.call(t,n[s],s,n));return i}function wi(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const r=n[s],o=e[s];if(Mo(r)&&Mo(o)){if(!wi(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function Mo(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mn(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function gn(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)i[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const f=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<t;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<t;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function uf(n,e){const t=new ff(n,e);return t.subscribe.bind(t)}class ff{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");hf(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=vs),s.error===void 0&&(s.error=vs),s.complete===void 0&&(s.complete=vs);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hf(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vs(){}function Tr(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,F(i<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},qi=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(n){return n&&n._delegate?n._delegate:n}class Et{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new ji;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vf(e))try{this.getOrInitializeService({instanceIdentifier:pt})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=pt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pt){return this.instances.has(e)}getOptions(e=pt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gf(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=pt){return this.component?this.component.multipleInstances?e:pt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gf(n){return n===pt?void 0:n}function vf(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mf(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Q||(Q={}));const yf={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},wf=Q.INFO,Ef={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},bf=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=Ef[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sr{constructor(e){this.name=e,this._logLevel=wf,this._logHandler=bf,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}}const Tf=(n,e)=>e.some(t=>n instanceof t);let Ro,Oo;function Sf(){return Ro||(Ro=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cf(){return Oo||(Oo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _l=new WeakMap,Vs=new WeakMap,yl=new WeakMap,_s=new WeakMap,Cr=new WeakMap;function If(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",o)},r=()=>{t(nt(n.result)),s()},o=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&_l.set(t,n)}).catch(()=>{}),Cr.set(e,n),e}function xf(n){if(Vs.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",o),n.removeEventListener("abort",o)},r=()=>{t(),s()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",o),n.addEventListener("abort",o)});Vs.set(n,e)}let Gs={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Vs.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yl.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return nt(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Pf(n){Gs=n(Gs)}function Af(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ys(this),e,...t);return yl.set(i,e.sort?e.sort():[e]),nt(i)}:Cf().includes(n)?function(...e){return n.apply(ys(this),e),nt(_l.get(this))}:function(...e){return nt(n.apply(ys(this),e))}}function Mf(n){return typeof n=="function"?Af(n):(n instanceof IDBTransaction&&xf(n),Tf(n,Sf())?new Proxy(n,Gs):n)}function nt(n){if(n instanceof IDBRequest)return If(n);if(_s.has(n))return _s.get(n);const e=Mf(n);return e!==n&&(_s.set(n,e),Cr.set(e,n)),e}const ys=n=>Cr.get(n);function Rf(n,e,{blocked:t,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(n,e),a=nt(o);return i&&o.addEventListener("upgradeneeded",l=>{i(nt(o.result),l.oldVersion,l.newVersion,nt(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Of=["get","getKey","getAll","getAllKeys","count"],Nf=["put","add","delete","clear"],ws=new Map;function No(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ws.get(e))return ws.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=Nf.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Of.includes(t)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),s&&l.done]))[0]};return ws.set(e,r),r}Pf(n=>({...n,get:(e,t,i)=>No(e,t)||n.get(e,t,i),has:(e,t)=>!!No(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Lf(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Lf(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const js="@firebase/app",ko="0.9.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt=new Sr("@firebase/app"),Df="@firebase/app-compat",Ff="@firebase/analytics-compat",Bf="@firebase/analytics",zf="@firebase/app-check-compat",Hf="@firebase/app-check",Uf="@firebase/auth",$f="@firebase/auth-compat",Wf="@firebase/database",Vf="@firebase/database-compat",Gf="@firebase/functions",jf="@firebase/functions-compat",qf="@firebase/installations",Yf="@firebase/installations-compat",Xf="@firebase/messaging",Kf="@firebase/messaging-compat",Qf="@firebase/performance",Jf="@firebase/performance-compat",Zf="@firebase/remote-config",eh="@firebase/remote-config-compat",th="@firebase/storage",nh="@firebase/storage-compat",ih="@firebase/firestore",sh="@firebase/firestore-compat",rh="firebase",oh="10.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]",ah={[js]:"fire-core",[Df]:"fire-core-compat",[Bf]:"fire-analytics",[Ff]:"fire-analytics-compat",[Hf]:"fire-app-check",[zf]:"fire-app-check-compat",[Uf]:"fire-auth",[$f]:"fire-auth-compat",[Wf]:"fire-rtdb",[Vf]:"fire-rtdb-compat",[Gf]:"fire-fn",[jf]:"fire-fn-compat",[qf]:"fire-iid",[Yf]:"fire-iid-compat",[Xf]:"fire-fcm",[Kf]:"fire-fcm-compat",[Qf]:"fire-perf",[Jf]:"fire-perf-compat",[Zf]:"fire-rc",[eh]:"fire-rc-compat",[th]:"fire-gcs",[nh]:"fire-gcs-compat",[ih]:"fire-fst",[sh]:"fire-fst-compat","fire-js":"fire-js",[rh]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Map,Ys=new Map;function lh(n,e){try{n.container.addComponent(e)}catch(t){bt.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vt(n){const e=n.name;if(Ys.has(e))return bt.debug(`There were multiple attempts to register component ${e}.`),!1;Ys.set(e,n);for(const t of Ei.values())lh(t,n);return!0}function Ir(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},it=new Wn("app","Firebase",ch);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Et("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw it.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=oh;function uh(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:qs,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw it.create("bad-app-name",{appName:String(s)});if(t||(t=hl()),!t)throw it.create("no-options");const r=Ei.get(s);if(r){if(wi(t,r.options)&&wi(i,r.config))return r;throw it.create("duplicate-app",{appName:s})}const o=new _f(s);for(const l of Ys.values())o.addComponent(l);const a=new dh(t,i,o);return Ei.set(s,a),a}function wl(n=qs){const e=Ei.get(n);if(!e&&n===qs&&hl())return uh();if(!e)throw it.create("no-app",{appName:n});return e}function st(n,e,t){var i;let s=(i=ah[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bt.warn(a.join(" "));return}Vt(new Et(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="firebase-heartbeat-database",hh=1,Pn="firebase-heartbeat-store";let Es=null;function El(){return Es||(Es=Rf(fh,hh,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pn)}catch(t){console.warn(t)}}}}).catch(n=>{throw it.create("idb-open",{originalErrorMessage:n.message})})),Es}async function ph(n){try{const t=(await El()).transaction(Pn),i=await t.objectStore(Pn).get(bl(n));return await t.done,i}catch(e){if(e instanceof dt)bt.warn(e.message);else{const t=it.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bt.warn(t.message)}}}async function Lo(n,e){try{const i=(await El()).transaction(Pn,"readwrite");await i.objectStore(Pn).put(e,bl(n)),await i.done}catch(t){if(t instanceof dt)bt.warn(t.message);else{const i=it.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});bt.warn(i.message)}}}function bl(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=1024,gh=30*24*60*60*1e3;class vh{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yh(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Do();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=gh}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Do(),{heartbeatsToSend:i,unsentEntries:s}=_h(this._heartbeatsCache.heartbeats),r=vi(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Do(){return new Date().toISOString().substring(0,10)}function _h(n,e=mh){const t=[];let i=n.slice();for(const s of n){const r=t.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Fo(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Fo(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class yh{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nf()?sf().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ph(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Lo(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Lo(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Fo(n){return vi(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(n){Vt(new Et("platform-logger",e=>new kf(e),"PRIVATE")),Vt(new Et("heartbeat",e=>new vh(e),"PRIVATE")),st(js,ko,n),st(js,ko,"esm2017"),st("fire-js","")}wh("");var Eh="firebase",bh="10.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */st(Eh,bh,"app");function xr(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function Tl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Th=Tl,Sl=new Wn("auth","Firebase",Tl());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Sr("@firebase/auth");function Sh(n,...e){bi.logLevel<=Q.WARN&&bi.warn(`Auth (${en}): ${n}`,...e)}function ui(n,...e){bi.logLevel<=Q.ERROR&&bi.error(`Auth (${en}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n,...e){throw Pr(n,...e)}function Re(n,...e){return Pr(n,...e)}function Ch(n,e,t){const i=Object.assign(Object.assign({},Th()),{[e]:t});return new Wn("auth","Firebase",i).create(e,{appName:n.name})}function Pr(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Sl.create(n,...e)}function W(n,e,...t){if(!n)throw Pr(e,...t)}function Fe(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ui(e),new Error(e)}function We(n,e){n||Fe(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ih(){return Bo()==="http:"||Bo()==="https:"}function Bo(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ih()||ef()||"connection"in navigator)?navigator.onLine:!0}function Ph(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t){this.shortDelay=e,this.longDelay=t,We(t>e,"Short delay should be less than long delay!"),this.isMobile=br()||ml()}get(){return xh()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(n,e){We(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Vn(3e4,6e4);function ut(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function je(n,e,t,i,s={}){return Il(n,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const a=Zt(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),Cl.fetch()(xl(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function Il(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Ah),e);try{const s=new Oh(n),r=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw si(n,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw si(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw si(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw si(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ch(n,u,c);Pe(n,u)}}catch(s){if(s instanceof dt)throw s;Pe(n,"network-request-failed",{message:String(s)})}}async function Gn(n,e,t,i,s={}){const r=await je(n,e,t,i,s);return"mfaPendingCredential"in r&&Pe(n,"multi-factor-auth-required",{_serverResponse:r}),r}function xl(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?Ar(n.config,s):`${n.config.apiScheme}://${s}`}function Rh(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Oh{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Re(this.auth,"network-request-failed")),Mh.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function si(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Re(n,e,i);return s.customData._tokenResponse=t,s}function zo(n){return n!==void 0&&n.enterprise!==void 0}class Nh{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Rh(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function kh(n,e){return je(n,"GET","/v2/recaptchaConfig",ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(n,e){return je(n,"POST","/v1/accounts:delete",e)}async function Dh(n,e){return je(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Fh(n,e=!1){const t=me(n),i=await t.getIdToken(e),s=Mr(i);W(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:wn(bs(s.auth_time)),issuedAtTime:wn(bs(s.iat)),expirationTime:wn(bs(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function bs(n){return Number(n)*1e3}function Mr(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ui("JWT malformed, contained fewer than 3 sections"),null;try{const s=_i(t);return s?JSON.parse(s):(ui("Failed to decode base64 JWT payload"),null)}catch(s){return ui("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Bh(n){const e=Mr(n);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gt(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof dt&&zh(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function zh({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wn(this.lastLoginAt),this.creationTime=wn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ti(n){var e;const t=n.auth,i=await n.getIdToken(),s=await Gt(n,Dh(t,{idToken:i}));W(s==null?void 0:s.users.length,t,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?Wh(r.providerUserInfo):[],a=$h(n.providerData,o),l=n.isAnonymous,c=!(n.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Pl(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(n,d)}async function Uh(n){const e=me(n);await Ti(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $h(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Wh(n){return n.map(e=>{var{providerId:t}=e,i=xr(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(n,e){const t=await Il(n,{},async()=>{const i=Zt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=n.config,o=xl(n,s,"/v1/token",`key=${r}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Cl.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Gh(n,e){return je(n,"POST","/v2/accounts:revokeToken",ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return W(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:r}=await Vh(e,t);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:r}=t,o=new An;return i&&(W(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(W(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(W(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new An,this.toJSON())}_performRefresh(){return Fe("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(n,e){W(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class _t{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,r=xr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Pl(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Gt(this,this.stsTokenManager.getToken(this.auth,e));return W(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Fh(this,e)}reload(){return Uh(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ti(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Gt(this,Lh(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,r,o,a,l,c,u;const d=(i=t.displayName)!==null&&i!==void 0?i:void 0,f=(s=t.email)!==null&&s!==void 0?s:void 0,p=(r=t.phoneNumber)!==null&&r!==void 0?r:void 0,h=(o=t.photoURL)!==null&&o!==void 0?o:void 0,m=(a=t.tenantId)!==null&&a!==void 0?a:void 0,v=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=t.createdAt)!==null&&c!==void 0?c:void 0,w=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:T,isAnonymous:A,providerData:I,stsTokenManager:P}=t;W(E&&P,e,"internal-error");const _=An.fromJSON(this.name,P);W(typeof E=="string",e,"internal-error"),Xe(d,e.name),Xe(f,e.name),W(typeof T=="boolean",e,"internal-error"),W(typeof A=="boolean",e,"internal-error"),Xe(p,e.name),Xe(h,e.name),Xe(m,e.name),Xe(v,e.name),Xe(g,e.name),Xe(w,e.name);const y=new _t({uid:E,auth:e,email:f,emailVerified:T,displayName:d,isAnonymous:A,photoURL:h,phoneNumber:p,tenantId:m,stsTokenManager:_,createdAt:g,lastLoginAt:w});return I&&Array.isArray(I)&&(y.providerData=I.map(x=>Object.assign({},x))),v&&(y._redirectEventId=v),y}static async _fromIdTokenResponse(e,t,i=!1){const s=new An;s.updateFromServerResponse(t);const r=new _t({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Ti(r),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new Map;function Be(n){We(n instanceof Function,"Expected a class definition");let e=Ho.get(n);return e?(We(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ho.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Al.type="NONE";const Uo=Al;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n,e,t){return`firebase:${n}:${e}:${t}`}class Dt{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=fi(this.userKey,s.apiKey,r),this.fullPersistenceKey=fi("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_t._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Dt(Be(Uo),e,i);const s=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||Be(Uo);const o=fi(i,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const d=_t._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Dt(r,e,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Dt(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ol(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ml(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kl(e))return"Blackberry";if(Ll(e))return"Webos";if(Rr(e))return"Safari";if((e.includes("chrome/")||Rl(e))&&!e.includes("edge/"))return"Chrome";if(Nl(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Ml(n=fe()){return/firefox\//i.test(n)}function Rr(n=fe()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rl(n=fe()){return/crios\//i.test(n)}function Ol(n=fe()){return/iemobile/i.test(n)}function Nl(n=fe()){return/android/i.test(n)}function kl(n=fe()){return/blackberry/i.test(n)}function Ll(n=fe()){return/webos/i.test(n)}function Yi(n=fe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jh(n=fe()){var e;return Yi(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qh(){return tf()&&document.documentMode===10}function Dl(n=fe()){return Yi(n)||Nl(n)||Ll(n)||kl(n)||/windows phone/i.test(n)||Ol(n)}function Yh(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(n,e=[]){let t;switch(n){case"Browser":t=$o(fe());break;case"Worker":t=`${$o(fe())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${en}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(n,e={}){return je(n,"GET","/v2/passwordPolicy",ut(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=6;class Jh{constructor(e){var t,i,s,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Qh,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wo(this),this.idTokenSubscription=new Wo(this),this.beforeStateQueue=new Xh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Be(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Dt.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ti(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ph()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?me(e):null;return t&&W(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Be(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Kh(this),t=new Jh(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wn("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Gh(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Be(e)||this._popupRedirectResolver;W(t,this,"argument-error"),this.redirectPersistenceManager=await Dt.create(this,[Be(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const r=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,i,s);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Sh(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function At(n){return me(n)}class Wo{constructor(e){this.auth=e,this.observer=null,this.addObserver=uf(t=>this.observer=t)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ep(n){Xi=n}function Bl(n){return Xi.loadJS(n)}function tp(){return Xi.recaptchaEnterpriseScript}function np(){return Xi.gapiScript}function ip(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const sp="recaptcha-enterprise",rp="NO_RECAPTCHA";class op{constructor(e){this.type=sp,this.auth=At(e)}async verify(e="verify",t=!1){async function i(r){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{kh(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Nh(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(r,o,a){const l=window.grecaptcha;zo(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(rp)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{i(this.auth).then(a=>{if(!t&&zo(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=tp();l.length!==0&&(l+=a),Bl(l).then(()=>{s(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Vo(n,e,t,i=!1){const s=new op(n);let r;try{r=await s.verify(t)}catch{r=await s.verify(t,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ks(n,e,t,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Vo(n,e,t,t==="getOobCode");return i(n,r)}else return i(n,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Vo(n,e,t,t==="getOobCode");return i(n,o)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n,e){const t=Ir(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),r=t.getOptions();if(wi(r,e??{}))return s;Pe(s,"already-initialized")}return t.initialize({options:e})}function lp(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Be);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function cp(n,e,t){const i=At(n);W(i._canInitEmulator,i,"emulator-config-failed"),W(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(t!=null&&t.disableWarnings),r=zl(e),{host:o,port:a}=dp(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||up()}function zl(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function dp(n){const e=zl(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:Go(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:Go(o)}}}function Go(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function up(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fe("not implemented")}_getIdTokenResponse(e){return Fe("not implemented")}_linkToIdToken(e,t){return Fe("not implemented")}_getReauthenticationResolver(e){return Fe("not implemented")}}async function fp(n,e){return je(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hp(n,e){return Gn(n,"POST","/v1/accounts:signInWithPassword",ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(n,e){return Gn(n,"POST","/v1/accounts:signInWithEmailLink",ut(n,e))}async function mp(n,e){return Gn(n,"POST","/v1/accounts:signInWithEmailLink",ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends Or{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Mn(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Mn(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ks(e,t,"signInWithPassword",hp);case"emailLink":return pp(e,{email:this._email,oobCode:this._password});default:Pe(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ks(e,i,"signUpPassword",fp);case"emailLink":return mp(e,{idToken:t,email:this._email,oobCode:this._password});default:Pe(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ft(n,e){return Gn(n,"POST","/v1/accounts:signInWithIdp",ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="http://localhost";class Tt extends Or{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Tt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pe("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,r=xr(t,["providerId","signInMethod"]);if(!i||!s)return null;const o=new Tt(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Ft(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ft(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ft(e,t)}buildRequest(){const e={requestUri:gp,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zt(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _p(n){const e=mn(gn(n)).link,t=e?mn(gn(e)).deep_link_id:null,i=mn(gn(n)).deep_link_id;return(i?mn(gn(i)).link:null)||i||t||e||n}class Nr{constructor(e){var t,i,s,r,o,a;const l=mn(gn(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=vp((s=l.mode)!==null&&s!==void 0?s:null);W(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=_p(e);try{return new Nr(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(){this.providerId=tn.PROVIDER_ID}static credential(e,t){return Mn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Nr.parseLink(t);return W(i,"argument-error"),Mn._fromEmailAndCode(e,i.code,i.tenantId)}}tn.PROVIDER_ID="password";tn.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends Hl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe extends jn{constructor(){super("facebook.com")}static credential(e){return Tt._fromParams({providerId:Qe.PROVIDER_ID,signInMethod:Qe.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qe.credentialFromTaggedObject(e)}static credentialFromError(e){return Qe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qe.credential(e.oauthAccessToken)}catch{return null}}}Qe.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qe.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends jn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Tt._fromParams({providerId:Je.PROVIDER_ID,signInMethod:Je.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Je.credentialFromTaggedObject(e)}static credentialFromError(e){return Je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Je.credential(t,i)}catch{return null}}}Je.GOOGLE_SIGN_IN_METHOD="google.com";Je.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze extends jn{constructor(){super("github.com")}static credential(e){return Tt._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ze.credential(e.oauthAccessToken)}catch{return null}}}Ze.GITHUB_SIGN_IN_METHOD="github.com";Ze.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et extends jn{constructor(){super("twitter.com")}static credential(e,t){return Tt._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return et.credential(t,i)}catch{return null}}}et.TWITTER_SIGN_IN_METHOD="twitter.com";et.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yp(n,e){return Gn(n,"POST","/v1/accounts:signUp",ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const r=await _t._fromIdTokenResponse(e,i,s),o=jo(i);return new St({user:r,providerId:o,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=jo(i);return new St({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function jo(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends dt{constructor(e,t,i,s){var r;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Si.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Si(e,t,i,s)}}function Ul(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Si._fromErrorAndOperation(n,r,e,i):r})}async function wp(n,e,t=!1){const i=await Gt(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return St._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(n,e,t=!1){const{auth:i}=n,s="reauthenticate";try{const r=await Gt(n,Ul(i,s,e,n),t);W(r.idToken,i,"internal-error");const o=Mr(r.idToken);W(o,i,"internal-error");const{sub:a}=o;return W(n.uid===a,i,"user-mismatch"),St._forOperation(n,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Pe(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(n,e,t=!1){const i="signIn",s=await Ul(n,i,e),r=await St._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(r.user),r}async function bp(n,e){return $l(At(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(n){const e=At(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nE(n,e,t){const i=At(n),o=await Ks(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yp).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Wl(n),l}),a=await St._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function iE(n,e,t){return bp(me(n),tn.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Wl(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(n,e){return je(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sE(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=me(n),r={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await Gt(i,Tp(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function Sp(n,e,t,i){return me(n).onIdTokenChanged(e,t,i)}function Cp(n,e,t){return me(n).beforeAuthStateChanged(e,t)}function rE(n,e,t,i){return me(n).onAuthStateChanged(e,t,i)}const Ci="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ci,"1"),this.storage.removeItem(Ci),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(){const n=fe();return Rr(n)||Yi(n)}const xp=1e3,Pp=10;class Gl extends Vl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Ip()&&Yh(),this.fallbackToPolling=Dl(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!t)return}const s=()=>{const o=this.storage.getItem(i);!t&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);qh()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Pp):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},xp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gl.type="LOCAL";const Ap=Gl;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Vl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jl.type="SESSION";const ql=jl;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Ki(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:r}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(t.origin,r)),l=await Mp(a);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ki.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=kr("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(){return window}function Op(n){Oe().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(){return typeof Oe().WorkerGlobalScope<"u"&&typeof Oe().importScripts=="function"}async function Np(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kp(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Lp(){return Yl()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="firebaseLocalStorageDb",Dp=1,Ii="firebaseLocalStorage",Kl="fbase_key";class qn{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qi(n,e){return n.transaction([Ii],e?"readwrite":"readonly").objectStore(Ii)}function Fp(){const n=indexedDB.deleteDatabase(Xl);return new qn(n).toPromise()}function Qs(){const n=indexedDB.open(Xl,Dp);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ii,{keyPath:Kl})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ii)?e(i):(i.close(),await Fp(),e(await Qs()))})})}async function qo(n,e,t){const i=Qi(n,!0).put({[Kl]:e,value:t});return new qn(i).toPromise()}async function Bp(n,e){const t=Qi(n,!1).get(e),i=await new qn(t).toPromise();return i===void 0?null:i.value}function Yo(n,e){const t=Qi(n,!0).delete(e);return new qn(t).toPromise()}const zp=800,Hp=3;class Ql{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qs(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Hp)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yl()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ki._getInstance(Lp()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Np(),!this.activeServiceWorker)return;this.sender=new Rp(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kp()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qs();return await qo(e,Ci,"1"),await Yo(e,Ci),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>qo(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Bp(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yo(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Qi(s,!1).getAll();return new qn(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ql.type="LOCAL";const Up=Ql;new Vn(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n,e){return e?Be(e):(W(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Or{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ft(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ft(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ft(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Wp(n){return $l(n.auth,new Lr(n),n.bypassAuthState)}function Vp(n){const{auth:e,user:t}=n;return W(t,e,"internal-error"),Ep(t,new Lr(n),n.bypassAuthState)}async function Gp(n){const{auth:e,user:t}=n;return W(t,e,"internal-error"),wp(t,new Lr(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,t,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wp;case"linkViaPopup":case"linkViaRedirect":return Gp;case"reauthViaPopup":case"reauthViaRedirect":return Vp;default:Pe(this.auth,"internal-error")}}resolve(e){We(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){We(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new Vn(2e3,1e4);class kt extends Jl{constructor(e,t,i,s,r){super(e,t,s,r),this.provider=i,this.authWindow=null,this.pollId=null,kt.currentPopupAction&&kt.currentPopupAction.cancel(),kt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){We(this.filter.length===1,"Popup operations only handle one event");const e=kr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Re(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jp.get())};e()}}kt.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="pendingRedirect",hi=new Map;class Yp extends Jl{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=hi.get(this.auth._key());if(!e){try{const i=await Xp(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}hi.set(this.auth._key(),e)}return this.bypassAuthState||hi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xp(n,e){const t=Jp(e),i=Qp(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function Kp(n,e){hi.set(n._key(),e)}function Qp(n){return Be(n._redirectPersistence)}function Jp(n){return fi(qp,n.config.apiKey,n.name)}async function Zp(n,e,t=!1){const i=At(n),s=$p(i,e),o=await new Yp(i,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=10*60*1e3;class tm{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nm(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Zl(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Re(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=em&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xo(e))}saveEventToCache(e){this.cachedEventUids.add(Xo(e)),this.lastProcessedEventTime=Date.now()}}function Xo(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Zl({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nm(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zl(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(n,e={}){return je(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rm=/^https?/;async function om(n){if(n.config.emulator)return;const{authorizedDomains:e}=await im(n);for(const t of e)try{if(am(t))return}catch{}Pe(n,"unauthorized-domain")}function am(n){const e=Xs(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!rm.test(t))return!1;if(sm.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=new Vn(3e4,6e4);function Ko(){const n=Oe().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function cm(n){return new Promise((e,t)=>{var i,s,r;function o(){Ko(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ko(),t(Re(n,"network-request-failed"))},timeout:lm.get()})}if(!((s=(i=Oe().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Oe().gapi)===null||r===void 0)&&r.load)o();else{const a=ip("iframefcb");return Oe()[a]=()=>{gapi.load?o():t(Re(n,"network-request-failed"))},Bl(`${np()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw pi=null,e})}let pi=null;function dm(n){return pi=pi||cm(n),pi}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new Vn(5e3,15e3),fm="__/auth/iframe",hm="emulator/auth/iframe",pm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gm(n){const e=n.config;W(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ar(e,hm):`https://${n.config.authDomain}/${fm}`,i={apiKey:e.apiKey,appName:n.name,v:en},s=mm.get(n.config.apiHost);s&&(i.eid=s);const r=n._getFrameworks();return r.length&&(i.fw=r.join(",")),`${t}?${Zt(i).slice(1)}`}async function vm(n){const e=await dm(n),t=Oe().gapi;return W(t,n,"internal-error"),e.open({where:document.body,url:gm(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pm,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Re(n,"network-request-failed"),a=Oe().setTimeout(()=>{r(o)},um.get());function l(){Oe().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ym=500,wm=600,Em="_blank",bm="http://localhost";class Qo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Tm(n,e,t,i=ym,s=wm){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_m),{width:i.toString(),height:s.toString(),top:r,left:o}),c=fe().toLowerCase();t&&(a=Rl(c)?Em:t),Ml(c)&&(e=e||bm,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,h])=>`${f}${p}=${h},`,"");if(jh(c)&&a!=="_self")return Sm(e||"",a),new Qo(null);const d=window.open(e||"",a,u);W(d,n,"popup-blocked");try{d.focus()}catch{}return new Qo(d)}function Sm(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="__/auth/handler",Im="emulator/auth/handler",xm=encodeURIComponent("fac");async function Jo(n,e,t,i,s,r){W(n.config.authDomain,n,"auth-domain-config-required"),W(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:en,eventId:s};if(e instanceof Hl){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Ws(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(r||{}))o[u]=d}if(e instanceof jn){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${xm}=${encodeURIComponent(l)}`:"";return`${Pm(n)}?${Zt(a).slice(1)}${c}`}function Pm({config:n}){return n.emulator?Ar(n,Im):`https://${n.authDomain}/${Cm}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="webStorageSupport";class Am{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ql,this._completeRedirectFn=Zp,this._overrideRedirectResult=Kp}async _openPopup(e,t,i,s){var r;We((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Jo(e,t,i,Xs(),s);return Tm(e,o,kr())}async _openRedirect(e,t,i,s){await this._originValidation(e);const r=await Jo(e,t,i,Xs(),s);return Op(r),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:r}=this.eventManagers[t];return s?Promise.resolve(s):(We(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await vm(e),i=new tm(e);return t.register("authEvent",s=>(W(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ts,{type:Ts},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Ts];o!==void 0&&t(!!o),Pe(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=om(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Dl()||Rr()||Yi()}}const Mm=Am;var Zo="@firebase/auth",ea="1.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Nm(n){Vt(new Et("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fl(n)},c=new Zh(i,s,r,l);return lp(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Vt(new Et("auth-internal",e=>{const t=At(e.getProvider("auth").getImmediate());return(i=>new Rm(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),st(Zo,ea,Om(n)),st(Zo,ea,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=5*60,Lm=pl("authIdTokenMaxAge")||km;let ta=null;const Dm=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Lm)return;const s=t==null?void 0:t.token;ta!==s&&(ta=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oE(n=wl()){const e=Ir(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ap(n,{popupRedirectResolver:Mm,persistence:[Up,Ap,ql]}),i=pl("authTokenSyncURL");if(i){const r=Dm(i);Cp(t,r,()=>r(t.currentUser)),Sp(t,o=>r(o))}const s=fl("auth");return s&&cp(t,`http://${s}`),t}function Fm(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ep({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const r=Re("internal-error");r.customData=s,t(r)},i.type="text/javascript",i.charset="UTF-8",Fm().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Nm("Browser");const na="@firebase/database",ia="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec="";function Bm(n){ec=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),re(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:xn(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ge(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new zm(e)}}catch{}return new Hm},gt=tc("localStorage"),Js=tc("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt=new Sr("@firebase/database"),Um=function(){let n=1;return function(){return n++}}(),nc=function(n){const e=pf(n),t=new df;t.update(e);const i=t.digest();return wr.encodeByteArray(i)},Yn=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Yn.apply(null,i):typeof i=="object"?e+=re(i):e+=i,e+=" "}return e};let yt=null,sa=!0;const $m=function(n,e){F(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(Bt.logLevel=Q.VERBOSE,yt=Bt.log.bind(Bt),e&&Js.set("logging_enabled",!0)):typeof n=="function"?yt=n:(yt=null,Js.remove("logging_enabled"))},ue=function(...n){if(sa===!0&&(sa=!1,yt===null&&Js.get("logging_enabled")===!0&&$m(!0)),yt){const e=Yn.apply(null,n);yt(e)}},Xn=function(n){return function(...e){ue(n,...e)}},Zs=function(...n){const e="FIREBASE INTERNAL ERROR: "+Yn(...n);Bt.error(e)},Ve=function(...n){const e=`FIREBASE FATAL ERROR: ${Yn(...n)}`;throw Bt.error(e),new Error(e)},ve=function(...n){const e="FIREBASE WARNING: "+Yn(...n);Bt.warn(e)},Wm=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ve("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ic=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Vm=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},jt="[MIN_NAME]",Ct="[MAX_NAME]",nn=function(n,e){if(n===e)return 0;if(n===jt||e===Ct)return-1;if(e===jt||n===Ct)return 1;{const t=ra(n),i=ra(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},Gm=function(n,e){return n===e?0:n<e?-1:1},dn=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+re(e))},Dr=function(n){if(typeof n!="object"||n===null)return re(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=re(e[i]),t+=":",t+=Dr(n[e[i]]);return t+="}",t},sc=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let s=0;s<t;s+=e)s+e>t?i.push(n.substring(s,t)):i.push(n.substring(s,s+e));return i};function _e(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const rc=function(n){F(!ic(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let s,r,o,a,l;n===0?(r=0,o=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),r=a+i,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(r=0,o=Math.round(n/Math.pow(2,1-i-t))));const c=[];for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},jm=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},qm=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ym(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const Xm=new RegExp("^-?(0*)\\d{1,10}$"),Km=-2147483648,Qm=2147483647,ra=function(n){if(Xm.test(n)){const e=Number(n);if(e>=Km&&e<=Qm)return e}return null},sn=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw ve("Exception was thrown by user callback.",t),e},Math.floor(0))}},Jm=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},En=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){ve(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ve(e)}}class zt{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}zt.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="5",oc="v",ac="s",lc="r",cc="f",dc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uc="ls",fc="p",er="ac",hc="websocket",pc="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t,i,s,r=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gt.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gt.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function tg(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function gc(n,e,t){F(typeof e=="string","typeof type must == string"),F(typeof t=="object","typeof params must == object");let i;if(e===hc)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===pc)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);tg(n)&&(t.ns=n.namespace);const s=[];return _e(t,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.counters_={}}incrementCounter(e,t=1){Ge(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ju(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss={},Cs={};function Br(n){const e=n.toString();return Ss[e]||(Ss[e]=new ng),Ss[e]}function ig(n,e){const t=n.toString();return Cs[t]||(Cs[t]=e()),Cs[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&sn(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="start",rg="close",og="pLPCommand",ag="pRTLPCB",vc="id",_c="pw",yc="ser",lg="cb",cg="seg",dg="ts",ug="d",fg="dframe",wc=1870,Ec=30,hg=wc-Ec,pg=25e3,mg=3e4;class Lt{constructor(e,t,i,s,r,o,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xn(e),this.stats_=Br(t),this.urlFn=l=>(this.appCheckToken&&(l[er]=this.appCheckToken),gc(t,pc,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new sg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(mg)),Vm(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zr((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===oa)this.id=a,this.password=l;else if(o===rg)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[oa]="t",i[yc]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[lg]=this.scriptTagHolder.uniqueCallbackIdentifier),i[oc]=Fr,this.transportSessionId&&(i[ac]=this.transportSessionId),this.lastSessionId&&(i[uc]=this.lastSessionId),this.applicationId&&(i[fc]=this.applicationId),this.appCheckToken&&(i[er]=this.appCheckToken),typeof location<"u"&&location.hostname&&dc.test(location.hostname)&&(i[lc]=cc);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lt.forceAllow_=!0}static forceDisallow(){Lt.forceDisallow_=!0}static isAvailable(){return Lt.forceAllow_?!0:!Lt.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!jm()&&!qm()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=re(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=dl(t),s=sc(i,hg);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[fg]="t",i[vc]=e,i[_c]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=re(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class zr{constructor(e,t,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Um(),window[og+this.uniqueCallbackIdentifier]=e,window[ag+this.uniqueCallbackIdentifier]=t,this.myIFrame=zr.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ue("frame writing exception"),a.stack&&ue(a.stack),ue(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ue("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[vc]=this.myID,e[_c]=this.myPW,e[yc]=this.currentSerial;let t=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ec+i.length<=wc;){const o=this.pendingSegs.shift();i=i+"&"+cg+s+"="+o.seg+"&"+dg+s+"="+o.ts+"&"+ug+s+"="+o.d,s++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(i,Math.floor(pg)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{ue("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=16384,vg=45e3;let xi=null;typeof MozWebSocket<"u"?xi=MozWebSocket:typeof WebSocket<"u"&&(xi=WebSocket);class Se{constructor(e,t,i,s,r,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xn(this.connId),this.stats_=Br(t),this.connURL=Se.connectionURL_(t,o,a,s,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,s,r){const o={};return o[oc]=Fr,typeof location<"u"&&location.hostname&&dc.test(location.hostname)&&(o[lc]=cc),t&&(o[ac]=t),i&&(o[uc]=i),s&&(o[er]=s),r&&(o[fc]=r),gc(e,hc,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gt.set("previous_websocket_failure",!0);try{let i;gl(),this.mySock=new xi(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Se.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&xi!==null&&!Se.forceDisallow_}static previouslyFailed(){return gt.isInMemoryStorage||gt.get("previous_websocket_failure")===!0}markConnectionHealthy(){gt.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=xn(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(F(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=re(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=sc(t,gg);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vg))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Se.responsesRequiredToBeHealthy=2;Se.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Lt,Se]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Se&&Se.isAvailable();let i=t&&!Se.previouslyFailed();if(e.webSocketOnly&&(t||ve("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Se];else{const s=this.transports_=[];for(const r of Rn.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);Rn.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Rn.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=6e4,yg=5e3,wg=10*1024,Eg=100*1024,Is="t",aa="d",bg="s",la="r",Tg="e",ca="o",da="a",ua="n",fa="p",Sg="h";class Cg{constructor(e,t,i,s,r,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xn("c:"+this.id+":"),this.transportManager_=new Rn(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=En(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Eg?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>wg?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Is in e){const t=e[Is];t===da?this.upgradeIfSecondaryHealthy_():t===la?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===ca&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=dn("t",e),i=dn("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fa,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:da,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ua,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=dn("t",e),i=dn("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=dn(Is,e);if(aa in e){const i=e[aa];if(t===Sg){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===ua){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===bg?this.onConnectionShutdown_(i):t===la?this.onReset_(i):t===Tg?Zs("Server Error: "+i):t===ca?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zs("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Fr!==i&&ve("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),En(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_g))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):En(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(yg))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fa,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{put(e,t,i,s){}merge(e,t,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.allowedEvents_=e,this.listeners_={},F(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const s=this.getInitialEvent(e);s&&t.apply(i,s)}off(e,t,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===t&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){F(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Tc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!br()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Pi}getInitialEvent(e){return F(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=32,pa=768;class J{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function K(){return new J("")}function q(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function at(n){return n.pieces_.length-n.pieceNum_}function Z(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new J(n.pieces_,e)}function Sc(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ig(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Cc(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Ic(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new J(e,0)}function oe(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof J)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&t.push(i[s])}return new J(t,0)}function j(n){return n.pieceNum_>=n.pieces_.length}function he(n,e){const t=q(n),i=q(e);if(t===null)return e;if(t===i)return he(Z(n),Z(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function xc(n,e){if(at(n)!==at(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ce(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(at(n)>at(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class xg{constructor(e,t){this.errorPrefix_=t,this.parts_=Cc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=qi(this.parts_[i]);Pc(this)}}function Pg(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=qi(e),Pc(n)}function Ag(n){const e=n.parts_.pop();n.byteLength_-=qi(e),n.parts_.length>0&&(n.byteLength_-=1)}function Pc(n){if(n.byteLength_>pa)throw new Error(n.errorPrefix_+"has a key path longer than "+pa+" bytes ("+n.byteLength_+").");if(n.parts_.length>ha)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ha+") or object contains a cycle "+mt(n))}function mt(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Tc{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Hr}getInitialEvent(e){return F(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=1e3,Mg=60*5*1e3,ma=30*1e3,Rg=1.3,Og=3e4,Ng="server_kill",ga=3;class Ue extends bc{constructor(e,t,i,s,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ue.nextPersistentConnectionId_++,this.log_=Xn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=un,this.maxReconnectDelay_=Mg,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!gl())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Hr.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Pi.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const s=++this.requestNumber_,r={r:s,a:e,b:t};this.log_(re(r)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const t=new ji,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?t.resolve(a):t.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:t,query:e,tag:i};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Ue.warnOnListenWarnings_(l,t),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Ge(e,"w")){const i=Wt(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();ve(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||cf(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ma)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=lf(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,t)}sendUnlisten_(e,t,i,s){this.log_("Unlisten on "+e+" for "+t);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,s){const r={p:t,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,t,i,s){this.putInternal("p",e,t,i,s)}merge(e,t,i,s){this.putInternal("m",e,t,i,s)}putInternal(e,t,i,s,r){this.initConnection_();const o={p:t,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,r=>{this.log_(t+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+re(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Zs("Unrecognized action received from server: "+re(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=un,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=un,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Og&&(this.reconnectDelay_=un),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Rg)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Ue.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(d){F(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?ue("getToken() completed but was canceled"):(ue("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new Cg(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,p=>{ve(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ng)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&ve(d),l())}}}interrupt(e){ue("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ue("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ws(this.interruptReasons_)&&(this.reconnectDelay_=un,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(r=>Dr(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const i=new J(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(t),r.delete(t),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,t){ue("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ga&&(this.reconnectDelay_=ma,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){ue("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ga&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+ec.replace(/\./g,"-")]=1,br()?e["framework.cordova"]=1:ml()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pi.getInstance().currentlyOnline();return Ws(this.interruptReasons_)&&e}}Ue.nextPersistentConnectionId_=0;Ue.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new G(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new G(jt,e),s=new G(jt,t);return this.compare(i,s)!==0}minPost(){return G.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ri;class Ac extends Ji{static get __EMPTY_NODE(){return ri}static set __EMPTY_NODE(e){ri=e}compare(e,t){return nn(e.name,t.name)}isDefinedOn(e){throw Jt("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return G.MIN}maxPost(){return new G(Ct,ri)}makePost(e,t){return F(typeof e=="string","KeyIndex indexValue must always be a string."),new G(e,ri)}toString(){return".key"}}const Ht=new Ac;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?i(e.key,t):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class le{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i??le.RED,this.left=s??ge.EMPTY_NODE,this.right=r??ge.EMPTY_NODE}copy(e,t,i,s,r){return new le(e??this.key,t??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,t,i),null):r===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ge.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,s;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return ge.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}le.RED=!0;le.BLACK=!1;class kg{copy(e,t,i,s,r){return this}insert(e,t,i){return new le(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ge{constructor(e,t=ge.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ge(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,le.BLACK,null,null))}remove(e){return new ge(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,le.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,s=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new oi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new oi(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new oi(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new oi(this.root_,null,this.comparator_,!0,e)}}ge.EMPTY_NODE=new kg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(n,e){return nn(n.name,e.name)}function Ur(n,e){return nn(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tr;function Dg(n){tr=n}const Mc=function(n){return typeof n=="number"?"number:"+rc(n):"string:"+n},Rc=function(n){if(n.isLeafNode()){const e=n.val();F(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ge(e,".sv"),"Priority must be a string or number.")}else F(n===tr||n.isEmpty(),"priority of unexpected type.");F(n===tr||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va;class ae{constructor(e,t=ae.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Rc(this.priorityNode_)}static set __childrenNodeConstructor(e){va=e}static get __childrenNodeConstructor(){return va}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ae(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ae.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return j(e)?this:q(e)===".priority"?this.priorityNode_:ae.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:ae.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=q(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(F(i!==".priority"||at(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,ae.__childrenNodeConstructor.EMPTY_NODE.updateChild(Z(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Mc(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=rc(this.value_):e+=this.value_,this.lazyHash_=nc(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ae.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ae.__childrenNodeConstructor?-1:(F(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,s=ae.VALUE_TYPE_ORDER.indexOf(t),r=ae.VALUE_TYPE_ORDER.indexOf(i);return F(s>=0,"Unknown leaf type: "+t),F(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}ae.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc,Nc;function Fg(n){Oc=n}function Bg(n){Nc=n}class zg extends Ji{compare(e,t){const i=e.node.getPriority(),s=t.node.getPriority(),r=i.compareTo(s);return r===0?nn(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return G.MIN}maxPost(){return new G(Ct,new ae("[PRIORITY-POST]",Nc))}makePost(e,t){const i=Oc(e);return new G(t,new ae("[PRIORITY-POST]",i))}toString(){return".priority"}}const te=new zg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=Math.log(2);class Ug{constructor(e){const t=r=>parseInt(Math.log(r)/Hg,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ai=function(n,e,t,i){n.sort(e);const s=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=n[l],f=t?t(d):d,new le(f,d.node,le.BLACK,null,null);{const p=parseInt(u/2,10)+l,h=s(l,p),m=s(p+1,c);return d=n[p],f=t?t(d):d,new le(f,d.node,le.BLACK,h,m)}},r=function(l){let c=null,u=null,d=n.length;const f=function(h,m){const v=d-h,g=d;d-=h;const w=s(v+1,g),E=n[v],T=t?t(E):E;p(new le(T,E.node,m,null,w))},p=function(h){c?(c.left=h,c=h):(u=h,c=h)};for(let h=0;h<l.count;++h){const m=l.nextBitIsOne(),v=Math.pow(2,l.count-(h+1));m?f(v,le.BLACK):(f(v,le.BLACK),f(v,le.RED))}return u},o=new Ug(n.length),a=r(o);return new ge(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs;const Ot={};class ze{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return F(Ot&&te,"ChildrenNode.ts has not been loaded"),xs=xs||new ze({".priority":Ot},{".priority":te}),xs}get(e){const t=Wt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ge?t:null}hasIndex(e){return Ge(this.indexSet_,e.toString())}addIndex(e,t){F(e!==Ht,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=t.getIterator(G.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let a;s?a=Ai(i,e.getCompare()):a=Ot;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new ze(u,c)}addToIndexes(e,t){const i=yi(this.indexes_,(s,r)=>{const o=Wt(this.indexSet_,r);if(F(o,"Missing index implementation for "+r),s===Ot)if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(G.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ai(a,o.getCompare())}else return Ot;else{const a=t.get(e.name);let l=s;return a&&(l=l.remove(new G(e.name,a))),l.insert(e,e.node)}});return new ze(i,this.indexSet_)}removeFromIndexes(e,t){const i=yi(this.indexes_,s=>{if(s===Ot)return s;{const r=t.get(e.name);return r?s.remove(new G(e.name,r)):s}});return new ze(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn;class U{constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Rc(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fn||(fn=new U(new ge(Ur),null,ze.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fn}updatePriority(e){return this.children_.isEmpty()?this:new U(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?fn:t}}getChild(e){const t=q(e);return t===null?this:this.getImmediateChild(t).getChild(Z(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(F(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new G(e,t);let s,r;t.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?fn:this.priorityNode_;return new U(s,o,r)}}updateChild(e,t){const i=q(e);if(i===null)return t;{F(q(e)!==".priority"||at(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Z(e),t);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,s=0,r=!0;if(this.forEachChild(te,(o,a)=>{t[o]=a.val(e),i++,r&&U.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const a in t)o[a]=t[a];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Mc(this.getPriority().val())+":"),this.forEachChild(te,(t,i)=>{const s=i.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":nc(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new G(e,t));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new G(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new G(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,G.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,G.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Kn?-1:0}withIndex(e){if(e===Ht||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new U(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ht||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(te),s=t.getIterator(te);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ht?null:this.indexMap_.get(e.toString())}}U.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class $g extends U{constructor(){super(new ge(Ur),U.EMPTY_NODE,ze.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return U.EMPTY_NODE}isEmpty(){return!1}}const Kn=new $g;Object.defineProperties(G,{MIN:{value:new G(jt,U.EMPTY_NODE)},MAX:{value:new G(Ct,Kn)}});Ac.__EMPTY_NODE=U.EMPTY_NODE;ae.__childrenNodeConstructor=U;Dg(Kn);Bg(Kn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=!0;function ce(n,e=null){if(n===null)return U.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),F(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new ae(t,ce(e))}if(!(n instanceof Array)&&Wg){const t=[];let i=!1;if(_e(n,(o,a)=>{if(o.substring(0,1)!=="."){const l=ce(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new G(o,l)))}}),t.length===0)return U.EMPTY_NODE;const r=Ai(t,Lg,o=>o.name,Ur);if(i){const o=Ai(t,te.getCompare());return new U(r,ce(e),new ze({".priority":o},{".priority":te}))}else return new U(r,ce(e),ze.Default)}else{let t=U.EMPTY_NODE;return _e(n,(i,s)=>{if(Ge(n,i)&&i.substring(0,1)!=="."){const r=ce(s);(r.isLeafNode()||!r.isEmpty())&&(t=t.updateImmediateChild(i,r))}}),t.updatePriority(ce(e))}}Fg(ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Ji{constructor(e){super(),this.indexPath_=e,F(!j(e)&&q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),s=this.extractChild(t.node),r=i.compareTo(s);return r===0?nn(e.name,t.name):r}makePost(e,t){const i=ce(e),s=U.EMPTY_NODE.updateChild(this.indexPath_,i);return new G(t,s)}maxPost(){const e=U.EMPTY_NODE.updateChild(this.indexPath_,Kn);return new G(Ct,e)}toString(){return Cc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg extends Ji{compare(e,t){const i=e.node.compareTo(t.node);return i===0?nn(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return G.MIN}maxPost(){return G.MAX}makePost(e,t){const i=ce(e);return new G(t,i)}toString(){return".value"}}const jg=new Gg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(n){return{type:"value",snapshotNode:n}}function qt(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function On(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Nn(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function qg(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.index_=e}updateChild(e,t,i,s,r,o){F(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(s).equals(i.getChild(s))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(t)?o.trackChildChange(On(t,a)):F(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(qt(t,i)):o.trackChildChange(Nn(t,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(te,(s,r)=>{t.hasChild(s)||i.trackChildChange(On(s,r))}),t.isLeafNode()||t.forEachChild(te,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(Nn(s,r,o))}else i.trackChildChange(qt(s,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?U.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.indexedFilter_=new $r(e.getIndex()),this.index_=e.getIndex(),this.startPost_=kn.getStartPost_(e),this.endPost_=kn.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,s,r,o){return this.matches(new G(t,i))||(i=U.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,s,r,o)}updateFullNode(e,t,i){t.isLeafNode()&&(t=U.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(U.EMPTY_NODE);const r=this;return t.forEachChild(te,(o,a)=>{r.matches(new G(o,a))||(s=s.updateImmediateChild(o,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new kn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,s,r,o){return this.rangedFilter_.matches(new G(t,i))||(i=U.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,s,r,o):this.fullLimitUpdateChild_(e,t,i,r,o)}updateFullNode(e,t,i){let s;if(t.isLeafNode()||t.isEmpty())s=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){s=U.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=t.withIndex(this.index_),s=s.updatePriority(U.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,s,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=e;F(a.numChildren()===this.limit_,"");const l=new G(t,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const d=a.getImmediateChild(t);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===t||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(u&&!i.isEmpty()&&p>=0)return r!=null&&r.trackChildChange(Nn(t,i,d)),a.updateImmediateChild(t,i);{r!=null&&r.trackChildChange(On(t,d));const m=a.updateImmediateChild(t,U.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(qt(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return i.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(On(c.name,c.node)),r.trackChildChange(qt(t,i))),a.updateImmediateChild(t,i).updateImmediateChild(c.name,U.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=te}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jt}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ct}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===te}copy(){const e=new Wr;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Xg(n){return n.loadsAllData()?new $r(n.getIndex()):n.hasLimit()?new Yg(n):new kn(n)}function _a(n){const e={};if(n.isDefault())return e;let t;if(n.index_===te?t="$priority":n.index_===jg?t="$value":n.index_===Ht?t="$key":(F(n.index_ instanceof Vg,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=re(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=re(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+re(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=re(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+re(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function ya(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==te&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends bc{constructor(e,t,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Xn("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Mi.getListenId_(e,i),a={};this.listens_[o]=a;const l=_a(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,i),Wt(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,t){const i=Mi.getListenId_(e,t);delete this.listens_[i]}get(e){const t=_a(e._queryParams),i=e._path.toString(),s=new ji;return this.restRequest_(i+".json",t,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(t.auth=s.accessToken),r&&r.token&&(t.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Zt(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=xn(a.responseText)}catch{ve("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&ve("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return{value:null,children:new Map}}function Lc(n,e,t){if(j(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=q(e);n.children.has(i)||n.children.set(i,Ri());const s=n.children.get(i);e=Z(e),Lc(s,e,t)}}function nr(n,e,t){n.value!==null?t(e,n.value):Qg(n,(i,s)=>{const r=new J(e.toString()+"/"+i);nr(s,r,t)})}function Qg(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&_e(this.last_,(i,s)=>{t[i]=t[i]-s}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=10*1e3,Zg=30*1e3,ev=5*60*1e3;class tv{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Jg(e);const i=wa+(Zg-wa)*Math.random();En(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;_e(e,(s,r)=>{r>0&&Ge(this.statsToReport_,s)&&(t[s]=r,i=!0)}),i&&this.server_.reportStats(t),En(this.reportStats_.bind(this),Math.floor(Math.random()*2*ev))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ie||(Ie={}));function Dc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vr(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gr(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Ie.ACK_USER_WRITE,this.source=Dc()}operationForChild(e){if(j(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new J(e));return new Oi(K(),t,this.revert)}}else return F(q(this.path)===e,"operationForChild called for unrelated child."),new Oi(Z(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,t){this.source=e,this.path=t,this.type=Ie.LISTEN_COMPLETE}operationForChild(e){return j(this.path)?new Ln(this.source,K()):new Ln(this.source,Z(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Ie.OVERWRITE}operationForChild(e){return j(this.path)?new It(this.source,K(),this.snap.getImmediateChild(e)):new It(this.source,Z(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Ie.MERGE}operationForChild(e){if(j(this.path)){const t=this.children.subtree(new J(e));return t.isEmpty()?null:t.value?new It(this.source,K(),t.value):new Dn(this.source,K(),t)}else return F(q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Dn(this.source,Z(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(j(e))return this.isFullyInitialized()&&!this.filtered_;const t=q(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function iv(n,e,t,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(qg(o.childName,o.snapshotNode))}),hn(n,s,"child_removed",e,i,t),hn(n,s,"child_added",e,i,t),hn(n,s,"child_moved",r,i,t),hn(n,s,"child_changed",e,i,t),hn(n,s,"value",e,i,t),s}function hn(n,e,t,i,s,r){const o=i.filter(a=>a.type===t);o.sort((a,l)=>rv(n,a,l)),o.forEach(a=>{const l=sv(n,a,r);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function sv(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function rv(n,e,t){if(e.childName==null||t.childName==null)throw Jt("Should only compare child_ events.");const i=new G(e.childName,e.snapshotNode),s=new G(t.childName,t.snapshotNode);return n.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(n,e){return{eventCache:n,serverCache:e}}function bn(n,e,t,i){return Zi(new lt(e,t,i),n.serverCache)}function Fc(n,e,t,i){return Zi(n.eventCache,new lt(e,t,i))}function Ni(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function xt(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ps;const ov=()=>(Ps||(Ps=new ge(Gm)),Ps);class ee{constructor(e,t=ov()){this.value=e,this.children=t}static fromObject(e){let t=new ee(null);return _e(e,(i,s)=>{t=t.set(new J(i),s)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:K(),value:this.value};if(j(e))return null;{const i=q(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Z(e),t);return r!=null?{path:oe(new J(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(j(e))return this;{const t=q(e),i=this.children.get(t);return i!==null?i.subtree(Z(e)):new ee(null)}}set(e,t){if(j(e))return new ee(t,this.children);{const i=q(e),r=(this.children.get(i)||new ee(null)).set(Z(e),t),o=this.children.insert(i,r);return new ee(this.value,o)}}remove(e){if(j(e))return this.children.isEmpty()?new ee(null):new ee(null,this.children);{const t=q(e),i=this.children.get(t);if(i){const s=i.remove(Z(e));let r;return s.isEmpty()?r=this.children.remove(t):r=this.children.insert(t,s),this.value===null&&r.isEmpty()?new ee(null):new ee(this.value,r)}else return this}}get(e){if(j(e))return this.value;{const t=q(e),i=this.children.get(t);return i?i.get(Z(e)):null}}setTree(e,t){if(j(e))return t;{const i=q(e),r=(this.children.get(i)||new ee(null)).setTree(Z(e),t);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new ee(this.value,o)}}fold(e){return this.fold_(K(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(oe(e,s),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,K(),t)}findOnPath_(e,t,i){const s=this.value?i(t,this.value):!1;if(s)return s;if(j(e))return null;{const r=q(e),o=this.children.get(r);return o?o.findOnPath_(Z(e),oe(t,r),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,K(),t)}foreachOnPath_(e,t,i){if(j(e))return this;{this.value&&i(t,this.value);const s=q(e),r=this.children.get(s);return r?r.foreachOnPath_(Z(e),oe(t,s),i):new ee(null)}}foreach(e){this.foreach_(K(),e)}foreach_(e,t){this.children.inorderTraversal((i,s)=>{s.foreach_(oe(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.writeTree_=e}static empty(){return new xe(new ee(null))}}function Tn(n,e,t){if(j(e))return new xe(new ee(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=he(s,e);return r=r.updateChild(o,t),new xe(n.writeTree_.set(s,r))}else{const s=new ee(t),r=n.writeTree_.setTree(e,s);return new xe(r)}}}function Ea(n,e,t){let i=n;return _e(t,(s,r)=>{i=Tn(i,oe(e,s),r)}),i}function ba(n,e){if(j(e))return xe.empty();{const t=n.writeTree_.setTree(e,new ee(null));return new xe(t)}}function ir(n,e){return Mt(n,e)!=null}function Mt(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(he(t.path,e)):null}function Ta(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(te,(i,s)=>{e.push(new G(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new G(i,s.value))}),e}function rt(n,e){if(j(e))return n;{const t=Mt(n,e);return t!=null?new xe(new ee(t)):new xe(n.writeTree_.subtree(e))}}function sr(n){return n.writeTree_.isEmpty()}function Yt(n,e){return Bc(K(),n.writeTree_,e)}function Bc(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(F(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):t=Bc(oe(n,s),r,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(oe(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(n,e){return $c(e,n)}function av(n,e,t,i,s){F(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:s}),s&&(n.visibleWrites=Tn(n.visibleWrites,e,t)),n.lastWriteId=i}function lv(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function cv(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);F(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let s=i.visible,r=!1,o=n.allWrites.length-1;for(;s&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&dv(a,i.path)?s=!1:Ce(i.path,a.path)&&(r=!0)),o--}if(s){if(r)return uv(n),!0;if(i.snap)n.visibleWrites=ba(n.visibleWrites,i.path);else{const a=i.children;_e(a,l=>{n.visibleWrites=ba(n.visibleWrites,oe(i.path,l))})}return!0}else return!1}function dv(n,e){if(n.snap)return Ce(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ce(oe(n.path,t),e))return!0;return!1}function uv(n){n.visibleWrites=zc(n.allWrites,fv,K()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function fv(n){return n.visible}function zc(n,e,t){let i=xe.empty();for(let s=0;s<n.length;++s){const r=n[s];if(e(r)){const o=r.path;let a;if(r.snap)Ce(t,o)?(a=he(t,o),i=Tn(i,a,r.snap)):Ce(o,t)&&(a=he(o,t),i=Tn(i,K(),r.snap.getChild(a)));else if(r.children){if(Ce(t,o))a=he(t,o),i=Ea(i,a,r.children);else if(Ce(o,t))if(a=he(o,t),j(a))i=Ea(i,K(),r.children);else{const l=Wt(r.children,q(a));if(l){const c=l.getChild(Z(a));i=Tn(i,K(),c)}}}else throw Jt("WriteRecord should have .snap or .children")}}return i}function Hc(n,e,t,i,s){if(!i&&!s){const r=Mt(n.visibleWrites,e);if(r!=null)return r;{const o=rt(n.visibleWrites,e);if(sr(o))return t;if(t==null&&!ir(o,K()))return null;{const a=t||U.EMPTY_NODE;return Yt(o,a)}}}else{const r=rt(n.visibleWrites,e);if(!s&&sr(r))return t;if(!s&&t==null&&!ir(r,K()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Ce(c.path,e)||Ce(e,c.path))},a=zc(n.allWrites,o,e),l=t||U.EMPTY_NODE;return Yt(a,l)}}}function hv(n,e,t){let i=U.EMPTY_NODE;const s=Mt(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(te,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(t){const r=rt(n.visibleWrites,e);return t.forEachChild(te,(o,a)=>{const l=Yt(rt(r,new J(o)),a);i=i.updateImmediateChild(o,l)}),Ta(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=rt(n.visibleWrites,e);return Ta(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function pv(n,e,t,i,s){F(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=oe(e,t);if(ir(n.visibleWrites,r))return null;{const o=rt(n.visibleWrites,r);return sr(o)?s.getChild(t):Yt(o,s.getChild(t))}}function mv(n,e,t,i){const s=oe(e,t),r=Mt(n.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(t)){const o=rt(n.visibleWrites,s);return Yt(o,i.getNode().getImmediateChild(t))}else return null}function gv(n,e){return Mt(n.visibleWrites,e)}function vv(n,e,t,i,s,r,o){let a;const l=rt(n.visibleWrites,e),c=Mt(l,K());if(c!=null)a=c;else if(t!=null)a=Yt(l,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let p=f.getNext();for(;p&&u.length<s;)d(p,i)!==0&&u.push(p),p=f.getNext();return u}else return[]}function _v(){return{visibleWrites:xe.empty(),allWrites:[],lastWriteId:-1}}function ki(n,e,t,i){return Hc(n.writeTree,n.treePath,e,t,i)}function jr(n,e){return hv(n.writeTree,n.treePath,e)}function Sa(n,e,t,i){return pv(n.writeTree,n.treePath,e,t,i)}function Li(n,e){return gv(n.writeTree,oe(n.treePath,e))}function yv(n,e,t,i,s,r){return vv(n.writeTree,n.treePath,e,t,i,s,r)}function qr(n,e,t){return mv(n.writeTree,n.treePath,e,t)}function Uc(n,e){return $c(oe(n.treePath,e),n.writeTree)}function $c(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;F(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),F(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(t==="child_added"&&r==="child_removed")this.changeMap.set(i,Nn(i,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&r==="child_changed")this.changeMap.set(i,On(i,s.oldSnap));else if(t==="child_changed"&&r==="child_added")this.changeMap.set(i,qt(i,e.snapshotNode));else if(t==="child_changed"&&r==="child_changed")this.changeMap.set(i,Nn(i,e.snapshotNode,s.oldSnap));else throw Jt("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const Wc=new Ev;class Yr{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new lt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qr(this.writes_,e,i)}}getChildAfterChild(e,t,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xt(this.viewCache_),r=yv(this.writes_,s,t,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(n){return{filter:n}}function Tv(n,e){F(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),F(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Sv(n,e,t,i,s){const r=new wv;let o,a;if(t.type===Ie.OVERWRITE){const c=t;c.source.fromUser?o=rr(n,e,c.path,c.snap,i,s,r):(F(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!j(c.path),o=Di(n,e,c.path,c.snap,i,s,a,r))}else if(t.type===Ie.MERGE){const c=t;c.source.fromUser?o=Iv(n,e,c.path,c.children,i,s,r):(F(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=or(n,e,c.path,c.children,i,s,a,r))}else if(t.type===Ie.ACK_USER_WRITE){const c=t;c.revert?o=Av(n,e,c.path,i,s,r):o=xv(n,e,c.path,c.affectedTree,i,s,r)}else if(t.type===Ie.LISTEN_COMPLETE)o=Pv(n,e,t.path,i,r);else throw Jt("Unknown operation type: "+t.type);const l=r.getChanges();return Cv(e,o,l),{viewCache:o,changes:l}}function Cv(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Ni(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&t.push(kc(Ni(e)))}}function Vc(n,e,t,i,s,r){const o=e.eventCache;if(Li(i,t)!=null)return e;{let a,l;if(j(t))if(F(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=xt(e),u=c instanceof U?c:U.EMPTY_NODE,d=jr(i,u);a=n.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=ki(i,xt(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=q(t);if(c===".priority"){F(at(t)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Sa(i,t,u,l);d!=null?a=n.filter.updatePriority(u,d):a=o.getNode()}else{const u=Z(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=Sa(i,t,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=qr(i,c,e.serverCache);d!=null?a=n.filter.updateChild(o.getNode(),c,d,u,s,r):a=o.getNode()}}return bn(e,a,o.isFullyInitialized()||j(t),n.filter.filtersNodes())}}function Di(n,e,t,i,s,r,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(j(t))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(t,i);c=u.updateFullNode(l.getNode(),p,null)}else{const p=q(t);if(!l.isCompleteForPath(t)&&at(t)>1)return e;const h=Z(t),v=l.getNode().getImmediateChild(p).updateChild(h,i);p===".priority"?c=u.updatePriority(l.getNode(),v):c=u.updateChild(l.getNode(),p,v,h,Wc,null)}const d=Fc(e,c,l.isFullyInitialized()||j(t),u.filtersNodes()),f=new Yr(s,d,r);return Vc(n,d,t,s,f,a)}function rr(n,e,t,i,s,r,o){const a=e.eventCache;let l,c;const u=new Yr(s,e,r);if(j(t))c=n.filter.updateFullNode(e.eventCache.getNode(),i,o),l=bn(e,c,!0,n.filter.filtersNodes());else{const d=q(t);if(d===".priority")c=n.filter.updatePriority(e.eventCache.getNode(),i),l=bn(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Z(t),p=a.getNode().getImmediateChild(d);let h;if(j(f))h=i;else{const m=u.getCompleteChild(d);m!=null?Sc(f)===".priority"&&m.getChild(Ic(f)).isEmpty()?h=m:h=m.updateChild(f,i):h=U.EMPTY_NODE}if(p.equals(h))l=e;else{const m=n.filter.updateChild(a.getNode(),d,h,f,u,o);l=bn(e,m,a.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function Ca(n,e){return n.eventCache.isCompleteForChild(e)}function Iv(n,e,t,i,s,r,o){let a=e;return i.foreach((l,c)=>{const u=oe(t,l);Ca(e,q(u))&&(a=rr(n,a,u,c,s,r,o))}),i.foreach((l,c)=>{const u=oe(t,l);Ca(e,q(u))||(a=rr(n,a,u,c,s,r,o))}),a}function Ia(n,e,t){return t.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function or(n,e,t,i,s,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;j(t)?c=i:c=new ee(null).setTree(t,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),h=Ia(n,p,f);l=Di(n,l,new J(d),h,s,r,o,a)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const h=e.serverCache.getNode().getImmediateChild(d),m=Ia(n,h,f);l=Di(n,l,new J(d),m,s,r,o,a)}}),l}function xv(n,e,t,i,s,r,o){if(Li(s,t)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(j(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Di(n,e,t,l.getNode().getChild(t),s,r,a,o);if(j(t)){let c=new ee(null);return l.getNode().forEachChild(Ht,(u,d)=>{c=c.set(new J(u),d)}),or(n,e,t,c,s,r,a,o)}else return e}else{let c=new ee(null);return i.foreach((u,d)=>{const f=oe(t,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),or(n,e,t,c,s,r,a,o)}}function Pv(n,e,t,i,s){const r=e.serverCache,o=Fc(e,r.getNode(),r.isFullyInitialized()||j(t),r.isFiltered());return Vc(n,o,t,i,Wc,s)}function Av(n,e,t,i,s,r){let o;if(Li(i,t)!=null)return e;{const a=new Yr(i,e,s),l=e.eventCache.getNode();let c;if(j(t)||q(t)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=ki(i,xt(e));else{const d=e.serverCache.getNode();F(d instanceof U,"serverChildren would be complete if leaf node"),u=jr(i,d)}u=u,c=n.filter.updateFullNode(l,u,r)}else{const u=q(t);let d=qr(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=n.filter.updateChild(l,u,d,Z(t),a,r):e.eventCache.getNode().hasChild(u)?c=n.filter.updateChild(l,u,U.EMPTY_NODE,Z(t),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ki(i,xt(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Li(i,K())!=null,bn(e,c,o,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new $r(i.getIndex()),r=Xg(i);this.processor_=bv(r);const o=t.serverCache,a=t.eventCache,l=s.updateFullNode(U.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(U.EMPTY_NODE,a.getNode(),null),u=new lt(l,o.isFullyInitialized(),s.filtersNodes()),d=new lt(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Zi(d,u),this.eventGenerator_=new nv(this.query_)}get query(){return this.query_}}function Rv(n){return n.viewCache_.serverCache.getNode()}function Ov(n){return Ni(n.viewCache_)}function Nv(n,e){const t=xt(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!j(e)&&!t.getImmediateChild(q(e)).isEmpty())?t.getChild(e):null}function xa(n){return n.eventRegistrations_.length===0}function kv(n,e){n.eventRegistrations_.push(e)}function Pa(n,e,t){const i=[];if(t){F(e==null,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(t,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<n.eventRegistrations_.length;++r){const o=n.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(r+1));break}}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function Aa(n,e,t,i){e.type===Ie.MERGE&&e.source.queryId!==null&&(F(xt(n.viewCache_),"We should always have a full cache before handling merges"),F(Ni(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,r=Sv(n.processor_,s,e,t,i);return Tv(n.processor_,r.viewCache),F(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=r.viewCache,Gc(n,r.changes,r.viewCache.eventCache.getNode(),null)}function Lv(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(te,(r,o)=>{i.push(qt(r,o))}),t.isFullyInitialized()&&i.push(kc(t.getNode())),Gc(n,i,t.getNode(),e)}function Gc(n,e,t,i){const s=i?[i]:n.eventRegistrations_;return iv(n.eventGenerator_,e,t,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fi;class jc{constructor(){this.views=new Map}}function Dv(n){F(!Fi,"__referenceConstructor has already been defined"),Fi=n}function Fv(){return F(Fi,"Reference.ts has not been loaded"),Fi}function Bv(n){return n.views.size===0}function Xr(n,e,t,i){const s=e.source.queryId;if(s!==null){const r=n.views.get(s);return F(r!=null,"SyncTree gave us an op for an invalid query."),Aa(r,e,t,i)}else{let r=[];for(const o of n.views.values())r=r.concat(Aa(o,e,t,i));return r}}function qc(n,e,t,i,s){const r=e._queryIdentifier,o=n.views.get(r);if(!o){let a=ki(t,s?i:null),l=!1;a?l=!0:i instanceof U?(a=jr(t,i),l=!1):(a=U.EMPTY_NODE,l=!1);const c=Zi(new lt(a,l,!1),new lt(i,s,!1));return new Mv(e,c)}return o}function zv(n,e,t,i,s,r){const o=qc(n,e,i,s,r);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),kv(o,t),Lv(o,t)}function Hv(n,e,t,i){const s=e._queryIdentifier,r=[];let o=[];const a=ct(n);if(s==="default")for(const[l,c]of n.views.entries())o=o.concat(Pa(c,t,i)),xa(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=n.views.get(s);l&&(o=o.concat(Pa(l,t,i)),xa(l)&&(n.views.delete(s),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!ct(n)&&r.push(new(Fv())(e._repo,e._path)),{removed:r,events:o}}function Yc(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ot(n,e){let t=null;for(const i of n.views.values())t=t||Nv(i,e);return t}function Xc(n,e){if(e._queryParams.loadsAllData())return ts(n);{const i=e._queryIdentifier;return n.views.get(i)}}function Kc(n,e){return Xc(n,e)!=null}function ct(n){return ts(n)!=null}function ts(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bi;function Uv(n){F(!Bi,"__referenceConstructor has already been defined"),Bi=n}function $v(){return F(Bi,"Reference.ts has not been loaded"),Bi}let Wv=1;class Ma{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ee(null),this.pendingWriteTree_=_v(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Qc(n,e,t,i,s){return av(n.pendingWriteTree_,e,t,i,s),s?Jn(n,new It(Dc(),e,t)):[]}function vt(n,e,t=!1){const i=lv(n.pendingWriteTree_,e);if(cv(n.pendingWriteTree_,e)){let r=new ee(null);return i.snap!=null?r=r.set(K(),!0):_e(i.children,o=>{r=r.set(new J(o),!0)}),Jn(n,new Oi(i.path,r,t))}else return[]}function Qn(n,e,t){return Jn(n,new It(Vr(),e,t))}function Vv(n,e,t){const i=ee.fromObject(t);return Jn(n,new Dn(Vr(),e,i))}function Gv(n,e){return Jn(n,new Ln(Vr(),e))}function jv(n,e,t){const i=Qr(n,t);if(i){const s=Jr(i),r=s.path,o=s.queryId,a=he(r,e),l=new Ln(Gr(o),a);return Zr(n,r,l)}else return[]}function Jc(n,e,t,i,s=!1){const r=e._path,o=n.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||Kc(o,e))){const l=Hv(o,e,t,i);Bv(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=n.syncPointTree_.findOnPath(r,(f,p)=>ct(p));if(u&&!d){const f=n.syncPointTree_.subtree(r);if(!f.isEmpty()){const p=Kv(f);for(let h=0;h<p.length;++h){const m=p[h],v=m.query,g=nd(n,m);n.listenProvider_.startListening(Sn(v),Fn(n,v),g.hashFn,g.onComplete)}}}!d&&c.length>0&&!i&&(u?n.listenProvider_.stopListening(Sn(e),null):c.forEach(f=>{const p=n.queryToTagMap.get(ns(f));n.listenProvider_.stopListening(Sn(f),p)}))}Qv(n,c)}return a}function Zc(n,e,t,i){const s=Qr(n,i);if(s!=null){const r=Jr(s),o=r.path,a=r.queryId,l=he(o,e),c=new It(Gr(a),l,t);return Zr(n,o,c)}else return[]}function qv(n,e,t,i){const s=Qr(n,i);if(s){const r=Jr(s),o=r.path,a=r.queryId,l=he(o,e),c=ee.fromObject(t),u=new Dn(Gr(a),l,c);return Zr(n,o,u)}else return[]}function Yv(n,e,t,i=!1){const s=e._path;let r=null,o=!1;n.syncPointTree_.foreachOnPath(s,(f,p)=>{const h=he(f,s);r=r||ot(p,h),o=o||ct(p)});let a=n.syncPointTree_.get(s);a?(o=o||ct(a),r=r||ot(a,K())):(a=new jc,n.syncPointTree_=n.syncPointTree_.set(s,a));let l;r!=null?l=!0:(l=!1,r=U.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((p,h)=>{const m=ot(h,K());m&&(r=r.updateImmediateChild(p,m))}));const c=Kc(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=ns(e);F(!n.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=Jv();n.queryToTagMap.set(f,p),n.tagToQueryMap.set(p,f)}const u=es(n.pendingWriteTree_,s);let d=zv(a,e,t,u,r,l);if(!c&&!o&&!i){const f=Xc(a,e);d=d.concat(Zv(n,e,f))}return d}function Kr(n,e,t){const s=n.pendingWriteTree_,r=n.syncPointTree_.findOnPath(e,(o,a)=>{const l=he(o,e),c=ot(a,l);if(c)return c});return Hc(s,e,r,t,!0)}function Xv(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(c,u)=>{const d=he(c,t);i=i||ot(u,d)});let s=n.syncPointTree_.get(t);s?i=i||ot(s,K()):(s=new jc,n.syncPointTree_=n.syncPointTree_.set(t,s));const r=i!=null,o=r?new lt(i,!0,!1):null,a=es(n.pendingWriteTree_,e._path),l=qc(s,e,a,r?o.getNode():U.EMPTY_NODE,r);return Ov(l)}function Jn(n,e){return ed(e,n.syncPointTree_,null,es(n.pendingWriteTree_,K()))}function ed(n,e,t,i){if(j(n.path))return td(n,e,t,i);{const s=e.get(K());t==null&&s!=null&&(t=ot(s,K()));let r=[];const o=q(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=Uc(i,o);r=r.concat(ed(a,l,c,u))}return s&&(r=r.concat(Xr(s,n,i,t))),r}}function td(n,e,t,i){const s=e.get(K());t==null&&s!=null&&(t=ot(s,K()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=Uc(i,o),u=n.operationForChild(o);u&&(r=r.concat(td(u,a,l,c)))}),s&&(r=r.concat(Xr(s,n,i,t))),r}function nd(n,e){const t=e.query,i=Fn(n,t);return{hashFn:()=>(Rv(e)||U.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?jv(n,t._path,i):Gv(n,t._path);{const r=Ym(s,t);return Jc(n,t,null,r)}}}}function Fn(n,e){const t=ns(e);return n.queryToTagMap.get(t)}function ns(n){return n._path.toString()+"$"+n._queryIdentifier}function Qr(n,e){return n.tagToQueryMap.get(e)}function Jr(n){const e=n.indexOf("$");return F(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new J(n.substr(0,e))}}function Zr(n,e,t){const i=n.syncPointTree_.get(e);F(i,"Missing sync point for query tag that we're tracking");const s=es(n.pendingWriteTree_,e);return Xr(i,t,s,null)}function Kv(n){return n.fold((e,t,i)=>{if(t&&ct(t))return[ts(t)];{let s=[];return t&&(s=Yc(t)),_e(i,(r,o)=>{s=s.concat(o)}),s}})}function Sn(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new($v())(n._repo,n._path):n}function Qv(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const s=ns(i),r=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(r)}}}function Jv(){return Wv++}function Zv(n,e,t){const i=e._path,s=Fn(n,e),r=nd(n,t),o=n.listenProvider_.startListening(Sn(e),s,r.hashFn,r.onComplete),a=n.syncPointTree_.subtree(i);if(s)F(!ct(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!j(c)&&u&&ct(u))return[ts(u).query];{let f=[];return u&&(f=f.concat(Yc(u).map(p=>p.query))),_e(d,(p,h)=>{f=f.concat(h)}),f}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(Sn(u),Fn(n,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new eo(t)}node(){return this.node_}}class to{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=oe(this.path_,e);return new to(this.syncTree_,t)}node(){return Kr(this.syncTree_,this.path_)}}const e_=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Ra=function(n,e,t){if(!n||typeof n!="object")return n;if(F(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return t_(n[".sv"],e,t);if(typeof n[".sv"]=="object")return n_(n[".sv"],e);F(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},t_=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:F(!1,"Unexpected server value: "+n)}},n_=function(n,e,t){n.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&F(!1,"Unexpected increment value: "+i);const s=e.node();if(F(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},i_=function(n,e,t,i){return no(e,new to(t,n),i)},id=function(n,e,t){return no(n,new eo(e),t)};function no(n,e,t){const i=n.getPriority().val(),s=Ra(i,e.getImmediateChild(".priority"),t);let r;if(n.isLeafNode()){const o=n,a=Ra(o.getValue(),e,t);return a!==o.getValue()||s!==o.getPriority().val()?new ae(a,ce(s)):n}else{const o=n;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new ae(s))),o.forEachChild(te,(a,l)=>{const c=no(l,e.getImmediateChild(a),t);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function so(n,e){let t=e instanceof J?e:new J(e),i=n,s=q(t);for(;s!==null;){const r=Wt(i.node.children,s)||{children:{},childCount:0};i=new io(s,i,r),t=Z(t),s=q(t)}return i}function rn(n){return n.node.value}function sd(n,e){n.node.value=e,ar(n)}function rd(n){return n.node.childCount>0}function s_(n){return rn(n)===void 0&&!rd(n)}function is(n,e){_e(n.node.children,(t,i)=>{e(new io(t,n,i))})}function od(n,e,t,i){t&&!i&&e(n),is(n,s=>{od(s,e,!0,i)}),t&&i&&e(n)}function r_(n,e,t){let i=t?n:n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Zn(n){return new J(n.parent===null?n.name:Zn(n.parent)+"/"+n.name)}function ar(n){n.parent!==null&&o_(n.parent,n.name,n)}function o_(n,e,t){const i=s_(t),s=Ge(n.node.children,e);i&&s?(delete n.node.children[e],n.node.childCount--,ar(n)):!i&&!s&&(n.node.children[e]=t.node,n.node.childCount++,ar(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=/[\[\].#$\/\u0000-\u001F\u007F]/,l_=/[\[\].#$\u0000-\u001F\u007F]/,As=10*1024*1024,ad=function(n){return typeof n=="string"&&n.length!==0&&!a_.test(n)},ld=function(n){return typeof n=="string"&&n.length!==0&&!l_.test(n)},c_=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ld(n)},d_=function(n,e,t,i){i&&e===void 0||ro(Tr(n,"value"),e,t)},ro=function(n,e,t){const i=t instanceof J?new xg(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+mt(i));if(typeof e=="function")throw new Error(n+"contains a function "+mt(i)+" with contents = "+e.toString());if(ic(e))throw new Error(n+"contains "+e.toString()+" "+mt(i));if(typeof e=="string"&&e.length>As/3&&qi(e)>As)throw new Error(n+"contains a string greater than "+As+" utf8 bytes "+mt(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(_e(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!ad(o)))throw new Error(n+" contains an invalid key ("+o+") "+mt(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Pg(i,o),ro(n,a,i),Ag(i)}),s&&r)throw new Error(n+' contains ".value" child '+mt(i)+" in addition to actual children.")}},cd=function(n,e,t,i){if(!(i&&t===void 0)&&!ld(t))throw new Error(Tr(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},u_=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cd(n,e,t,i)},f_=function(n,e){if(q(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},h_=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ad(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!c_(t))throw new Error(Tr(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dd(n,e){let t=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();t!==null&&!xc(r,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:r}),t.events.push(s)}t&&n.eventLists_.push(t)}function Ne(n,e,t){dd(n,t),m_(n,i=>Ce(i,e)||Ce(e,i))}function m_(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const r=s.path;e(r)?(g_(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function g_(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();yt&&ue("event: "+t.toString()),sn(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="repo_interrupt",__=25;class y_{constructor(e,t,i,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new p_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ri(),this.transactionQueueTree_=new io,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function w_(n,e,t){if(n.stats_=Br(n.repoInfo_),n.forceRestClient_||Jm())n.server_=new Mi(n.repoInfo_,(i,s,r,o)=>{Oa(n,i,s,r,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Na(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{re(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ue(n.repoInfo_,e,(i,s,r,o)=>{Oa(n,i,s,r,o)},i=>{Na(n,i)},i=>{b_(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=ig(n.repoInfo_,()=>new tv(n.stats_,n.server_)),n.infoData_=new Kg,n.infoSyncTree_=new Ma({startListening:(i,s,r,o)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=Qn(n.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),ao(n,"connected",!1),n.serverSyncTree_=new Ma({startListening:(i,s,r,o)=>(n.server_.listen(i,r,s,(a,l)=>{const c=o(a,l);Ne(n.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function E_(n){const t=n.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function oo(n){return e_({timestamp:E_(n)})}function Oa(n,e,t,i,s){n.dataUpdateCount++;const r=new J(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(s)if(i){const l=yi(t,c=>ce(c));o=qv(n.serverSyncTree_,r,l,s)}else{const l=ce(t);o=Zc(n.serverSyncTree_,r,l,s)}else if(i){const l=yi(t,c=>ce(c));o=Vv(n.serverSyncTree_,r,l)}else{const l=ce(t);o=Qn(n.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=rs(n,r)),Ne(n.eventQueue_,a,o)}function Na(n,e){ao(n,"connected",e),e===!1&&C_(n)}function b_(n,e){_e(e,(t,i)=>{ao(n,t,i)})}function ao(n,e,t){const i=new J("/.info/"+e),s=ce(t);n.infoData_.updateSnapshot(i,s);const r=Qn(n.infoSyncTree_,i,s);Ne(n.eventQueue_,i,r)}function ud(n){return n.nextWriteId_++}function T_(n,e,t){const i=Xv(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(s=>{const r=ce(s).withIndex(e._queryParams.getIndex());Yv(n.serverSyncTree_,e,t,!0);let o;if(e._queryParams.loadsAllData())o=Qn(n.serverSyncTree_,e._path,r);else{const a=Fn(n.serverSyncTree_,e);o=Zc(n.serverSyncTree_,e._path,r,a)}return Ne(n.eventQueue_,e._path,o),Jc(n.serverSyncTree_,e,t,null,!0),r},s=>(ss(n,"get for query "+re(e)+" failed: "+s),Promise.reject(new Error(s))))}function S_(n,e,t,i,s){ss(n,"set",{path:e.toString(),value:t,priority:i});const r=oo(n),o=ce(t,i),a=Kr(n.serverSyncTree_,e),l=id(o,a,r),c=ud(n),u=Qc(n.serverSyncTree_,e,l,c,!0);dd(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(f,p)=>{const h=f==="ok";h||ve("set at "+e+" failed: "+f);const m=vt(n.serverSyncTree_,c,!h);Ne(n.eventQueue_,e,m),x_(n,s,f,p)});const d=gd(n,e);rs(n,d),Ne(n.eventQueue_,d,[])}function C_(n){ss(n,"onDisconnectEvents");const e=oo(n),t=Ri();nr(n.onDisconnect_,K(),(s,r)=>{const o=i_(s,r,n.serverSyncTree_,e);Lc(t,s,o)});let i=[];nr(t,K(),(s,r)=>{i=i.concat(Qn(n.serverSyncTree_,s,r));const o=gd(n,s);rs(n,o)}),n.onDisconnect_=Ri(),Ne(n.eventQueue_,K(),i)}function I_(n){n.persistentConnection_&&n.persistentConnection_.interrupt(v_)}function ss(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ue(t,...e)}function x_(n,e,t,i){e&&sn(()=>{if(t==="ok")e(null);else{const s=(t||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function fd(n,e,t){return Kr(n.serverSyncTree_,e,t)||U.EMPTY_NODE}function lo(n,e=n.transactionQueueTree_){if(e||os(n,e),rn(e)){const t=pd(n,e);F(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&P_(n,Zn(e),t)}else rd(e)&&is(e,t=>{lo(n,t)})}function P_(n,e,t){const i=t.map(c=>c.currentWriteId),s=fd(n,e,i);let r=s;const o=s.hash();for(let c=0;c<t.length;c++){const u=t[c];F(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=he(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;n.server_.put(l.toString(),a,c=>{ss(n,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<t.length;f++)t[f].status=2,u=u.concat(vt(n.serverSyncTree_,t[f].currentWriteId)),t[f].onComplete&&d.push(()=>t[f].onComplete(null,!0,t[f].currentOutputSnapshotResolved)),t[f].unwatcher();os(n,so(n.transactionQueueTree_,e)),lo(n,n.transactionQueueTree_),Ne(n.eventQueue_,e,u);for(let f=0;f<d.length;f++)sn(d[f])}else{if(c==="datastale")for(let d=0;d<t.length;d++)t[d].status===3?t[d].status=4:t[d].status=0;else{ve("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}rs(n,e)}},o)}function rs(n,e){const t=hd(n,e),i=Zn(t),s=pd(n,t);return A_(n,s,i),i}function A_(n,e,t){if(e.length===0)return;const i=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=he(t,l.path);let u=!1,d;if(F(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(vt(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=__)u=!0,d="maxretry",s=s.concat(vt(n.serverSyncTree_,l.currentWriteId,!0));else{const f=fd(n,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){ro("transaction failed: Data returned ",p,l.path);let h=ce(p);typeof p=="object"&&p!=null&&Ge(p,".priority")||(h=h.updatePriority(f.getPriority()));const v=l.currentWriteId,g=oo(n),w=id(h,f,g);l.currentOutputSnapshotRaw=h,l.currentOutputSnapshotResolved=w,l.currentWriteId=ud(n),o.splice(o.indexOf(v),1),s=s.concat(Qc(n.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),s=s.concat(vt(n.serverSyncTree_,v,!0))}else u=!0,d="nodata",s=s.concat(vt(n.serverSyncTree_,l.currentWriteId,!0))}Ne(n.eventQueue_,t,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}os(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)sn(i[a]);lo(n,n.transactionQueueTree_)}function hd(n,e){let t,i=n.transactionQueueTree_;for(t=q(e);t!==null&&rn(i)===void 0;)i=so(i,t),e=Z(e),t=q(e);return i}function pd(n,e){const t=[];return md(n,e,t),t.sort((i,s)=>i.order-s.order),t}function md(n,e,t){const i=rn(e);if(i)for(let s=0;s<i.length;s++)t.push(i[s]);is(e,s=>{md(n,s,t)})}function os(n,e){const t=rn(e);if(t){let i=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[i]=t[s],i++);t.length=i,sd(e,t.length>0?t:void 0)}is(e,i=>{os(n,i)})}function gd(n,e){const t=Zn(hd(n,e)),i=so(n.transactionQueueTree_,e);return r_(i,s=>{Ms(n,s)}),Ms(n,i),od(i,s=>{Ms(n,s)}),t}function Ms(n,e){const t=rn(e);if(t){const i=[];let s=[],r=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(F(r===o-1,"All SENT items should be at beginning of queue."),r=o,t[o].status=3,t[o].abortReason="set"):(F(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),s=s.concat(vt(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&i.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?sd(e,void 0):t.length=r+1,Ne(n.eventQueue_,Zn(e),s);for(let o=0;o<i.length;o++)sn(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let s=t[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function R_(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ve(`Invalid query segment '${t}' in query '${n}'`)}return e}const ka=function(n,e){const t=O_(n),i=t.namespace;t.domain==="firebase.com"&&Ve(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Ve("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||Wm();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new mc(t.host,t.secure,i,s,e,"",i!==t.subdomain),path:new J(t.pathString)}},O_=function(n){let e="",t="",i="",s="",r="",o=!0,a="https",l=443;if(typeof n=="string"){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");u===-1&&(u=n.length);let d=n.indexOf("?");d===-1&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(s=M_(n.substring(u,d)));const f=R_(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")t="localhost";else if(p.split(".").length<=2)t=p;else{const h=e.indexOf(".");i=e.substring(0,h).toLowerCase(),t=e.substring(h+1),r=i}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:t,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t,i,s){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+re(this.snapshot.exportVal())}}class k_{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t,i,s){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=s}get key(){return j(this._path)?null:Sc(this._path)}get ref(){return new qe(this._repo,this._path)}get _queryIdentifier(){const e=ya(this._queryParams),t=Dr(e);return t==="{}"?"default":t}get _queryObject(){return ya(this._queryParams)}isEqual(e){if(e=me(e),!(e instanceof co))return!1;const t=this._repo===e._repo,i=xc(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ig(this._path)}}class qe extends co{constructor(e,t){super(e,t,new Wr,!1)}get parent(){const e=Ic(this._path);return e===null?null:new qe(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Bn{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new J(e),i=lr(this.ref,e);return new Bn(this._node.getChild(t),i,te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Bn(s,lr(this.ref,i),te)))}hasChild(e){const t=new J(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function aE(n,e){return n=me(n),n._checkNotDeleted("ref"),e!==void 0?lr(n._root,e):n._root}function lr(n,e){return n=me(n),q(n._path)===null?u_("child","path",e,!1):cd("child","path",e,!1),new qe(n._repo,oe(n._path,e))}function lE(n,e){n=me(n),f_("set",n._path),d_("set",e,n._path,!1);const t=new ji;return S_(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function cE(n){n=me(n);const e=new L_(()=>{}),t=new uo(e);return T_(n._repo,n,t).then(i=>new Bn(i,new qe(n._repo,n._path),n._queryParams.getIndex()))}class uo{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new N_("value",this,new Bn(e.snapshotNode,new qe(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new k_(this,e,t):null}matches(e){return e instanceof uo?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}Dv(qe);Uv(qe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="FIREBASE_DATABASE_EMULATOR_HOST",cr={};let F_=!1;function B_(n,e,t,i){n.repoInfo_=new mc(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}function z_(n,e,t,i,s){let r=i||n.options.databaseURL;r===void 0&&(n.options.projectId||Ve("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ue("Using default host for project ",n.options.projectId),r=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=ka(r,s),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[D_]),c?(l=!0,r=`http://${c}?ns=${a.namespace}`,o=ka(r,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new zt(zt.OWNER):new eg(n.name,n.options,e);h_("Invalid Firebase Database URL",o),j(o.path)||Ve("Database URL must point to the root of a Firebase Database (not including a child path).");const d=U_(a,n,u,new Zm(n.name,t));return new $_(d,n)}function H_(n,e){const t=cr[e];(!t||t[n.key]!==n)&&Ve(`Database ${e}(${n.repoInfo_}) has already been deleted.`),I_(n),delete t[n.key]}function U_(n,e,t,i){let s=cr[e.name];s||(s={},cr[e.name]=s);let r=s[n.toURLString()];return r&&Ve("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new y_(n,F_,t,i),s[n.toURLString()]=r,r}class $_{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(w_(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qe(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(H_(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ve("Cannot call "+e+" on a deleted database.")}}function dE(n=wl(),e){const t=Ir(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=Ju("database");i&&W_(t,...i)}return t}function W_(n,e,t,i={}){n=me(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&Ve("Cannot call useEmulator() after instance has already been initialized.");const s=n._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Ve('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new zt(zt.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:Zu(i.mockUserToken,n.app.options.projectId);r=new zt(o)}B_(s,e,t,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(n){Bm(en),Vt(new Et("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return z_(i,s,r,t)},"PUBLIC").setMultipleInstances(!0)),st(na,ia,n),st(na,ia,"esm2017")}Ue.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Ue.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};V_();var vd={exports:{}};/*!
 * TOAST UI Pagination
 * @version 3.4.1
 * @author NHN FE Development Team <dl_javascript@nhn.com>
 * @license MIT
 */(function(n,e){(function(i,s){n.exports=s()})(window,function(){return function(t){var i={};function s(r){if(i[r])return i[r].exports;var o=i[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=t,s.c=i,s.d=function(r,o,a){s.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:a})},s.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},s.t=function(r,o){if(o&1&&(r=s(r)),o&8||o&4&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),o&2&&typeof r!="string")for(var l in r)s.d(a,l,(function(c){return r[c]}).bind(null,l));return a},s.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return s.d(o,"a",o),o},s.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},s.p="dist",s(s.s=10)}([function(t,i,s){function r(o,a){var l=Object.prototype.hasOwnProperty,c,u,d,f;for(d=1,f=arguments.length;d<f;d+=1){c=arguments[d];for(u in c)l.call(c,u)&&(o[u]=c[u])}return o}t.exports=r},function(t,i,s){function r(o){return o===void 0}t.exports=r},function(t,i,s){function r(o){return o instanceof Array}t.exports=r},function(t,i,s){var r=s(2),o=s(17),a=s(6);function l(c,u,d){r(c)?o(c,u,d):a(c,u,d)}t.exports=l},function(t,i,s){function r(o){return typeof o=="string"||o instanceof String}t.exports=r},function(t,i,s){function r(o){return o instanceof Function}t.exports=r},function(t,i,s){function r(o,a,l){var c;l=l||null;for(c in o)if(o.hasOwnProperty(c)&&a.call(l,o[c],c,o)===!1)break}t.exports=r},function(t,i,s){var r=s(18),o=s(0);function a(l,c){var u;return c||(c=l,l=null),u=c.init||function(){},l&&r(u,l),c.hasOwnProperty("static")&&(o(u,c.static),delete c.static),o(u.prototype,c),u}t.exports=a},function(t,i,s){var r=s(2);function o(a,l,c){var u,d;if(c=c||0,!r(l))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(l,a,c);for(d=l.length,u=c;c>=0&&u<d;u+=1)if(l[u]===a)return u;return-1}t.exports=o},function(t,i,s){var r=s(29),o=s(30),a=s(5),l={capitalizeFirstLetter:function(c){return c.substring(0,1).toUpperCase()+c.substring(1,c.length)},isContained:function(c,u){return u?c===u?!0:u.contains(c):!1},createElementByTemplate:function(c,u){var d=document.createElement("div"),f=a(c)?c(u):r(c,u);return d.innerHTML=f,d.firstChild},bind:function(c,u){var d=Array.prototype.slice,f;return c.bind?c.bind.apply(c,d.call(arguments,1)):(f=d.call(arguments,2),function(){return c.apply(u,f.length?f.concat(d.call(arguments)):arguments)})},sendHostName:function(){o("pagination","UA-129987462-1")}};t.exports=l},function(t,i,s){s(11),t.exports=s(12)},function(t,i,s){},function(t,i,s){var r=s(13),o=s(7),a=s(0),l=s(1),c=s(20),u=s(9),d={totalItems:10,itemsPerPage:10,visiblePages:10,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",usageStatistics:!0},f=o({init:function(p,h){this._options=a({},d,h),this._currentPage=0,this._view=new c(p,this._options,u.bind(this._onClickHandler,this)),this._paginate(),this._options.usageStatistics&&u.sendHostName()},_setCurrentPage:function(p){this._currentPage=p||this._options.page},_getLastPage:function(){var p=Math.ceil(this._options.totalItems/this._options.itemsPerPage);return p||1},_getPageIndex:function(p){var h,m;return this._options.centerAlign?(h=Math.floor(this._options.visiblePages/2),m=p-h,m=Math.max(m,1),m=Math.min(m,this._getLastPage()-this._options.visiblePages+1),m):Math.ceil(p/this._options.visiblePages)},_getRelativePage:function(p){var h=p==="prev",m=this.getCurrentPage();return h?m-1:m+1},_getMorePageIndex:function(p){var h=this._getPageIndex(this.getCurrentPage()),m=this._options.visiblePages,v=p==="prev",g;return this._options.centerAlign?g=v?h-1:h+m:g=v?(h-1)*m:h*m+1,g},_convertToValidPage:function(p){var h=this._getLastPage();return p=Math.max(p,1),p=Math.min(p,h),p},_paginate:function(p){var h=this._makeViewData(p||this._options.page);this._setCurrentPage(p),this._view.update(h)},_makeViewData:function(p){var h={},m=this._getLastPage(),v=this._getPageIndex(p),g=this._getPageIndex(m),w=this._getEdge(p);return h.leftPageNumber=w.left,h.rightPageNumber=w.right,h.prevMore=v>1,h.nextMore=v<g,h.page=p,h.currentPageIndex=p,h.lastPage=m,h.lastPageListIndex=m,h},_getEdge:function(p){var h,m,v,g=this._getLastPage(),w=this._options.visiblePages,E=this._getPageIndex(p);return this._options.centerAlign?(v=Math.floor(w/2),h=Math.max(p-v,1),m=h+w-1,m>g&&(h=Math.max(g-w+1,1),m=g)):(h=(E-1)*w+1,m=E*w,m=Math.min(m,g)),{left:h,right:m}},_onClickHandler:function(p,h){switch(p){case"first":h=1;break;case"prev":h=this._getRelativePage("prev");break;case"next":h=this._getRelativePage("next");break;case"prevMore":h=this._getMorePageIndex("prev");break;case"nextMore":h=this._getMorePageIndex("next");break;case"last":h=this._getLastPage();break;default:if(!h)return}this.movePageTo(h)},reset:function(p){l(p)&&(p=this._options.totalItems),this._options.totalItems=p,this._paginate(1)},movePageTo:function(p){p=this._convertToValidPage(p),this.invoke("beforeMove",{page:p})&&(this._paginate(p),this.fire("afterMove",{page:p}))},setTotalItems:function(p){this._options.totalItems=p},setItemsPerPage:function(p){this._options.itemsPerPage=p},getCurrentPage:function(){return this._currentPage||this._options.page}});r.mixin(f),t.exports=f},function(t,i,s){var r=s(0),o=s(14),a=s(4),l=s(16),c=s(2),u=s(5),d=s(3),f=/\s+/g;function p(){this.events=null,this.contexts=null}p.mixin=function(h){r(h.prototype,p.prototype)},p.prototype._getHandlerItem=function(h,m){var v={handler:h};return m&&(v.context=m),v},p.prototype._safeEvent=function(h){var m=this.events,v;return m||(m=this.events={}),h&&(v=m[h],v||(v=[],m[h]=v),m=v),m},p.prototype._safeContext=function(){var h=this.contexts;return h||(h=this.contexts=[]),h},p.prototype._indexOfContext=function(h){for(var m=this._safeContext(),v=0;m[v];){if(h===m[v][0])return v;v+=1}return-1},p.prototype._memorizeContext=function(h){var m,v;o(h)&&(m=this._safeContext(),v=this._indexOfContext(h),v>-1?m[v][1]+=1:m.push([h,1]))},p.prototype._forgetContext=function(h){var m,v;o(h)&&(m=this._safeContext(),v=this._indexOfContext(h),v>-1&&(m[v][1]-=1,m[v][1]<=0&&m.splice(v,1)))},p.prototype._bindEvent=function(h,m,v){var g=this._safeEvent(h);this._memorizeContext(v),g.push(this._getHandlerItem(m,v))},p.prototype.on=function(h,m,v){var g=this;a(h)?(h=h.split(f),d(h,function(w){g._bindEvent(w,m,v)})):l(h)&&(v=m,d(h,function(w,E){g.on(E,w,v)}))},p.prototype.once=function(h,m,v){var g=this;if(l(h)){v=m,d(h,function(E,T){g.once(T,E,v)});return}function w(){m.apply(v,arguments),g.off(h,w,v)}this.on(h,w,v)},p.prototype._spliceMatches=function(h,m){var v=0,g;if(c(h))for(g=h.length;v<g;v+=1)m(h[v])===!0&&(h.splice(v,1),g-=1,v-=1)},p.prototype._matchHandler=function(h){var m=this;return function(v){var g=h===v.handler;return g&&m._forgetContext(v.context),g}},p.prototype._matchContext=function(h){var m=this;return function(v){var g=h===v.context;return g&&m._forgetContext(v.context),g}},p.prototype._matchHandlerAndContext=function(h,m){var v=this;return function(g){var w=h===g.handler,E=m===g.context,T=w&&E;return T&&v._forgetContext(g.context),T}},p.prototype._offByEventName=function(h,m){var v=this,g=u(m),w=v._matchHandler(m);h=h.split(f),d(h,function(E){var T=v._safeEvent(E);g?v._spliceMatches(T,w):(d(T,function(A){v._forgetContext(A.context)}),v.events[E]=[])})},p.prototype._offByHandler=function(h){var m=this,v=this._matchHandler(h);d(this._safeEvent(),function(g){m._spliceMatches(g,v)})},p.prototype._offByObject=function(h,m){var v=this,g;this._indexOfContext(h)<0?d(h,function(w,E){v.off(E,w)}):a(m)?(g=this._matchContext(h),v._spliceMatches(this._safeEvent(m),g)):u(m)?(g=this._matchHandlerAndContext(m,h),d(this._safeEvent(),function(w){v._spliceMatches(w,g)})):(g=this._matchContext(h),d(this._safeEvent(),function(w){v._spliceMatches(w,g)}))},p.prototype.off=function(h,m){a(h)?this._offByEventName(h,m):arguments.length?u(h)?this._offByHandler(h):l(h)&&this._offByObject(h,m):(this.events={},this.contexts=[])},p.prototype.fire=function(h){this.invoke.apply(this,arguments)},p.prototype.invoke=function(h){var m,v,g,w;if(!this.hasListener(h))return!0;for(m=this._safeEvent(h),v=Array.prototype.slice.call(arguments,1),g=0;m[g];){if(w=m[g],w.handler.apply(w.context,v)===!1)return!1;g+=1}return!0},p.prototype.hasListener=function(h){return this.getListenerLength(h)>0},p.prototype.getListenerLength=function(h){var m=this._safeEvent(h);return m.length},t.exports=p},function(t,i,s){var r=s(1),o=s(15);function a(l){return!r(l)&&!o(l)}t.exports=a},function(t,i,s){function r(o){return o===null}t.exports=r},function(t,i,s){function r(o){return o===Object(o)}t.exports=r},function(t,i,s){function r(o,a,l){var c=0,u=o.length;for(l=l||null;c<u&&a.call(l,o[c],c,o)!==!1;c+=1);}t.exports=r},function(t,i,s){var r=s(19);function o(a,l){var c=r(l.prototype);c.constructor=a,a.prototype=c}t.exports=o},function(t,i,s){function r(o){function a(){}return a.prototype=o,new a}t.exports=r},function(t,i,s){var r=s(3),o=s(7),a=s(21),l=s(22),c=s(24),u=s(25),d=s(0),f=s(4),p=s(28),h=s(9),m={page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'},v=["first","prev","next","last"],g=["prev","next"],w="The container element is invalid.",E=o({init:function(T,A,I){this._containerElement=null,this._firstItemClassName=A.firstItemClassName,this._lastItemClassName=A.lastItemClassName,this._template=d({},m,A.template),this._buttons={},this._enabledPageElements=[],this._setRootElement(T),this._setMoveButtons(),this._setDisabledMoveButtons(),this._setMoreButtons(),this._attachClickEvent(I)},_setRootElement:function(T){if(f(T)?T=document.getElementById(T)||document.querySelector(T):T.jquery&&(T=T[0]),!p(T))throw new Error(w);this._containerElement=T},_setMoveButtons:function(){r(v,function(T){this._buttons[T]=h.createElementByTemplate(this._template.moveButton,{type:T})},this)},_setDisabledMoveButtons:function(){r(v,function(T){var A="disabled"+h.capitalizeFirstLetter(T);this._buttons[A]=h.createElementByTemplate(this._template.disabledMoveButton,{type:T})},this)},_setMoreButtons:function(){r(g,function(T){var A=T+"More";this._buttons[A]=h.createElementByTemplate(this._template.moreButton,{type:T})},this)},_getContainerElement:function(){return this._containerElement},_appendFirstButton:function(T){var A;T.page>1?A=this._buttons.first:A=this._buttons.disabledFirst,this._getContainerElement().appendChild(A)},_appendPrevButton:function(T){var A;T.currentPageIndex>1?A=this._buttons.prev:A=this._buttons.disabledPrev,this._getContainerElement().appendChild(A)},_appendNextButton:function(T){var A;T.currentPageIndex<T.lastPageListIndex?A=this._buttons.next:A=this._buttons.disabledNext,this._getContainerElement().appendChild(A)},_appendLastButton:function(T){var A;T.page<T.lastPage?A=this._buttons.last:A=this._buttons.disabledLast,this._getContainerElement().appendChild(A)},_appendPrevMoreButton:function(T){var A;T.prevMore&&(A=this._buttons.prevMore,u(A,this._firstItemClassName),this._getContainerElement().appendChild(A))},_appendNextMoreButton:function(T){var A;T.nextMore&&(A=this._buttons.nextMore,u(A,this._lastItemClassName),this._getContainerElement().appendChild(A))},_appendPages:function(T){var A=T.leftPageNumber,I=T.rightPageNumber,P,_;for(_=A;_<=I;_+=1)_===T.page?P=h.createElementByTemplate(this._template.currentPage,{page:_}):(P=h.createElementByTemplate(this._template.page,{page:_}),this._enabledPageElements.push(P)),_===A&&!T.prevMore&&u(P,this._firstItemClassName),_===I&&!T.nextMore&&u(P,this._lastItemClassName),this._getContainerElement().appendChild(P)},_attachClickEvent:function(T){var A=this._getContainerElement();l(A,"click",function(I){var P=a(I),_,y;c(I),y=this._getButtonType(P),y||(_=this._getPageNumber(P)),T(y,_)},this)},_getButtonType:function(T){var A,I=this._buttons;return r(I,function(P,_){return h.isContained(T,P)?(A=_,!1):!0},this),A},_getPageNumber:function(T){var A=this._findPageElement(T),I;return A&&(I=parseInt(A.innerText,10)),I},_findPageElement:function(T){for(var A=0,I=this._enabledPageElements.length,P;A<I;A+=1)if(P=this._enabledPageElements[A],h.isContained(T,P))return P;return null},_empty:function(){this._enabledPageElements=[],r(this._buttons,function(T,A){this._buttons[A]=T.cloneNode(!0)},this),this._getContainerElement().innerHTML=""},update:function(T){this._empty(),this._appendFirstButton(T),this._appendPrevButton(T),this._appendPrevMoreButton(T),this._appendPages(T),this._appendNextMoreButton(T),this._appendNextButton(T),this._appendLastButton(T)}});t.exports=E},function(t,i,s){function r(o){return o.target||o.srcElement}t.exports=r},function(t,i,s){var r=s(4),o=s(3),a=s(23);function l(d,f,p,h){if(r(f)){o(f.split(/\s+/g),function(m){c(d,m,p,h)});return}o(f,function(m,v){c(d,v,m,p)})}function c(d,f,p,h){function m(v){p.call(h||d,v||window.event)}"addEventListener"in d?d.addEventListener(f,m):"attachEvent"in d&&d.attachEvent("on"+f,m),u(d,f,p,m)}function u(d,f,p,h){var m=a(d,f),v=!1;o(m,function(g){return g.handler===p?(v=!0,!1):!0}),v||m.push({handler:p,wrappedHandler:h})}t.exports=l},function(t,i,s){var r="_feEventKey";function o(a,l){var c=a[r],u;return c||(c=a[r]={}),u=c[l],u||(u=c[l]=[]),u}t.exports=o},function(t,i,s){function r(o){if(o.preventDefault){o.preventDefault();return}o.returnValue=!1}t.exports=r},function(t,i,s){var r=s(3),o=s(8),a=s(26),l=s(27);function c(u){var d=Array.prototype.slice.call(arguments,1),f=u.classList,p=[],h;if(f){r(d,function(m){u.classList.add(m)});return}h=a(u),h&&(d=[].concat(h.split(/\s+/),d)),r(d,function(m){o(m,p)<0&&p.push(m)}),l(u,p)}t.exports=c},function(t,i,s){var r=s(1);function o(a){return!a||!a.className?"":r(a.className.baseVal)?a.className:a.className.baseVal}t.exports=o},function(t,i,s){var r=s(2),o=s(1);function a(l,c){if(c=r(c)?c.join(" "):c,c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),o(l.className.baseVal)){l.className=c;return}l.className.baseVal=c}t.exports=a},function(t,i,s){function r(o){return typeof HTMLElement=="object"?o&&(o instanceof HTMLElement||!!o.nodeType):!!(o&&o.nodeType)}t.exports=r},function(t,i,s){var r=s(8),o=s(3),a=s(2),l=s(4),c=s(0),u=/{{\s?|\s?}}/g,d=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,f=/\[\s?|\s?\]/,p=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,m=/^["']\w+["']$/,v=/"|'/g,g=/^-?\d+\.?\d*$/,w=2,E={if:_,each:y,with:x},T="a".split(/a/).length===3,A=function(){return T?function(D,M){return D.split(M)}:function(D,M){var O=[],k=0,H,$;for(M.global||(M=new RegExp(M,"g")),H=M.exec(D);H!==null;)$=H.index,O.push(D.slice(k,$)),k=$+H[0].length,H=M.exec(D);return O.push(D.slice(k)),O}}();function I(D,M){var O,k=M[D];return D==="true"?k=!0:D==="false"?k=!1:m.test(D)?k=D.replace(v,""):d.test(D)?(O=D.split(f),k=I(O[0],M)[I(O[1],M)]):p.test(D)?(O=D.split(h),k=I(O[0],M)[O[1]]):g.test(D)&&(k=parseFloat(D)),k}function P(D,M){var O=[D],k=[],H=0,$=0;return o(M,function(z,V){z.indexOf("if")===0?H+=1:z==="/if"?H-=1:!H&&(z.indexOf("elseif")===0||z==="else")&&(O.push(z==="else"?["true"]:z.split(" ").slice(1)),k.push(M.slice($,V)),$=V+1)}),k.push(M.slice($)),{exps:O,sourcesInsideIf:k}}function _(D,M,O){var k=P(D,M),H=!1,$="";return o(k.exps,function(z,V){return H=b(z,O),H&&($=N(k.sourcesInsideIf[V],O)),!H}),$}function y(D,M,O){var k=b(D,O),H=a(k)?"@index":"@key",$={},z="";return o(k,function(V,ie){$[H]=ie,$["@this"]=V,c(O,$),z+=N(M.slice(),O)}),z}function x(D,M,O){var k=r("as",D),H=D[k+1],$=b(D.slice(0,k),O),z={};return z[H]=$,N(M,c(O,z))||""}function R(D,M,O){var k=D.splice(M+1,O-M);return k.pop(),k}function C(D,M,O){for(var k=E[D],H=1,$=0,z,V=$+w,ie=M[V];H&&l(ie);)ie.indexOf(D)===0?H+=1:ie.indexOf("/"+D)===0&&(H-=1,z=V),V+=w,ie=M[V];if(H)throw Error(D+" needs {{/"+D+"}} expression.");return M[$]=k(M[$].split(" ").slice(1),R(M,$,z),O),M}function b(D,M){var O=I(D[0],M);return O instanceof Function?S(O,D.slice(1),M):O}function S(D,M,O){var k=[];return o(M,function(H){k.push(I(H,O))}),D.apply(null,k)}function N(D,M){for(var O=1,k=D[O],H,$,z;l(k);)H=k.split(" "),$=H[0],E[$]?(z=C($,D.splice(O,D.length-O),M),D=D.concat(z)):D[O]=b(H,M),O+=w,k=D[O];return D.join("")}function B(D,M){return N(A(D,u),M)}t.exports=B},function(t,i,s){var r=s(1),o=s(31),a=7*24*60*60*1e3;function l(u){var d=new Date().getTime();return d-u>a}function c(u,d){var f="https://www.google-analytics.com/collect",p=location.hostname,h="event",m="use",v="TOAST UI "+u+" for "+p+": Statistics",g=window.localStorage.getItem(v);!r(window.tui)&&window.tui.usageStatistics===!1||g&&!l(g)||(window.localStorage.setItem(v,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&o(f,{v:1,t:h,tid:d,cid:p,dp:p,dh:u,el:u,ec:m})},1e3))}t.exports=c},function(t,i,s){var r=s(6);function o(a,l){var c=document.createElement("img"),u="";return r(l,function(d,f){u+="&"+f+"="+d}),u=u.substring(1),c.src=a+"?"+u,c.style.display="none",document.body.appendChild(c),document.body.removeChild(c),c}t.exports=o}])})})(vd);var G_=vd.exports;const uE=yr(G_);function La(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function fo(n,e){n===void 0&&(n={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:La(e[t])&&La(n[t])&&Object.keys(e[t]).length>0&&fo(n[t],e[t])})}const _d={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function pe(){const n=typeof document<"u"?document:{};return fo(n,_d),n}const j_={document:_d,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function ne(){const n=typeof window<"u"?window:{};return fo(n,j_),n}function Ke(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function q_(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Pt(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function be(){return Date.now()}function Y_(n){const e=ne();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function dr(n,e){e===void 0&&(e="x");const t=ne();let i,s,r;const o=Y_(n);return t.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new t.WebKitCSSMatrix(s==="none"?"":s)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=r.m41:i.length===16?s=parseFloat(i[12]):s=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?s=r.m42:i.length===16?s=parseFloat(i[13]):s=parseFloat(i[5])),s||0}function vn(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function X_(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ye(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!X_(i)){const s=Object.keys(Object(i)).filter(r=>e.indexOf(r)<0);for(let r=0,o=s.length;r<o;r+=1){const a=s[r],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(vn(n[a])&&vn(i[a])?i[a].__swiper__?n[a]=i[a]:ye(n[a],i[a]):!vn(n[a])&&vn(i[a])?(n[a]={},i[a].__swiper__?n[a]=i[a]:ye(n[a],i[a])):n[a]=i[a])}}}return n}function _n(n,e,t){n.style.setProperty(e,t)}function yd(n){let{swiper:e,targetPosition:t,side:i}=n;const s=ne(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const c=t>r?"next":"prev",u=(f,p)=>c==="next"&&f>=p||c==="prev"&&f<=p,d=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),p=.5-Math.cos(f*Math.PI)/2;let h=r+p*(t-r);if(u(h,t)&&(h=t),e.wrapperEl.scrollTo({[i]:h}),u(h,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:h})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(d)};d()}function Rt(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function de(n,e){return e===void 0&&(e=""),[...n.children].filter(t=>t.matches(e))}function zi(n){try{console.warn(n);return}catch{}}function we(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:Ke(e)),t}function Hi(n){const e=ne(),t=pe(),i=n.getBoundingClientRect(),s=t.body,r=n.clientTop||s.clientTop||0,o=n.clientLeft||s.clientLeft||0,a=n===e?e.scrollY:n.scrollTop,l=n===e?e.scrollX:n.scrollLeft;return{top:i.top+a-r,left:i.left+l-o}}function K_(n,e){const t=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function Q_(n,e){const t=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function tt(n,e){return ne().getComputedStyle(n,null).getPropertyValue(e)}function zn(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function wt(n,e){const t=[];let i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function Cn(n,e){function t(i){i.target===n&&(e.call(n,i),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function ur(n,e,t){const i=ne();return t?n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):n.offsetWidth}function Y(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let Rs;function J_(){const n=ne(),e=pe();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function wd(){return Rs||(Rs=J_()),Rs}let Os;function Z_(n){let{userAgent:e}=n===void 0?{}:n;const t=wd(),i=ne(),s=i.navigator.platform,r=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=s==="Win32";let h=s==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&h&&t.touch&&m.indexOf(`${a}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),h=!1),c&&!p&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}function Ed(n){return n===void 0&&(n={}),Os||(Os=Z_(n)),Os}let Ns;function ey(){const n=ne(),e=Ed();let t=!1;function i(){const a=n.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(n.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));t=l<16||l===16&&c<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),r=i(),o=r||s&&e.ios;return{isSafari:t||r,needPerspectiveFix:t,need3dFix:o,isWebView:s}}function ty(){return Ns||(Ns=ey()),Ns}function ny(n){let{swiper:e,on:t,emit:i}=n;const s=ne();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(d=>{o=s.requestAnimationFrame(()=>{const{width:f,height:p}=e;let h=f,m=p;d.forEach(v=>{let{contentBoxSize:g,contentRect:w,target:E}=v;E&&E!==e.el||(h=w?w.width:(g[0]||g).inlineSize,m=w?w.height:(g[0]||g).blockSize)}),(h!==f||m!==p)&&a()})}),r.observe(e.el))},c=()=>{o&&s.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){l();return}s.addEventListener("resize",a),s.addEventListener("orientationchange",u)}),t("destroy",()=>{c(),s.removeEventListener("resize",a),s.removeEventListener("orientationchange",u)})}function iy(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r=[],o=ne(),a=function(u,d){d===void 0&&(d={});const f=o.MutationObserver||o.WebkitMutationObserver,p=new f(h=>{if(e.__preventObserver__)return;if(h.length===1){s("observerUpdate",h[0]);return}const m=function(){s("observerUpdate",h[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});p.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(p)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=wt(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var sy={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const s=t?"unshift":"push";return n.split(" ").forEach(r=>{i.eventsListeners[r]||(i.eventsListeners[r]=[]),i.eventsListeners[r][s](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function s(){i.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(i,o)}return s.__emitterProxy=e,i.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((s,r)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[i].splice(r,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],t=r.slice(1,r.length),i=n):(e=r[0].events,t=r[0].data,i=r[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(i,t)})}),n}};function ry(){const n=this;let e,t;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=i.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(tt(i,"padding-left")||0,10)-parseInt(tt(i,"padding-right")||0,10),t=t-parseInt(tt(i,"padding-top")||0,10)-parseInt(tt(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function oy(){const n=this;function e(x,R){return parseFloat(x.getPropertyValue(n.getDirectionLabel(R))||0)}const t=n.params,{wrapperEl:i,slidesEl:s,size:r,rtlTranslate:o,wrongRTL:a}=n,l=n.virtual&&t.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,u=de(s,`.${n.params.slideClass}, swiper-slide`),d=l?n.virtual.slides.length:u.length;let f=[];const p=[],h=[];let m=t.slidesOffsetBefore;typeof m=="function"&&(m=t.slidesOffsetBefore.call(n));let v=t.slidesOffsetAfter;typeof v=="function"&&(v=t.slidesOffsetAfter.call(n));const g=n.snapGrid.length,w=n.slidesGrid.length;let E=t.spaceBetween,T=-m,A=0,I=0;if(typeof r>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*r:typeof E=="string"&&(E=parseFloat(E)),n.virtualSize=-E,u.forEach(x=>{o?x.style.marginLeft="":x.style.marginRight="",x.style.marginBottom="",x.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(_n(i,"--swiper-centered-offset-before",""),_n(i,"--swiper-centered-offset-after",""));const P=t.grid&&t.grid.rows>1&&n.grid;P?n.grid.initSlides(u):n.grid&&n.grid.unsetSlides();let _;const y=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(x=>typeof t.breakpoints[x].slidesPerView<"u").length>0;for(let x=0;x<d;x+=1){_=0;let R;if(u[x]&&(R=u[x]),P&&n.grid.updateSlide(x,R,u),!(u[x]&&tt(R,"display")==="none")){if(t.slidesPerView==="auto"){y&&(u[x].style[n.getDirectionLabel("width")]="");const C=getComputedStyle(R),b=R.style.transform,S=R.style.webkitTransform;if(b&&(R.style.transform="none"),S&&(R.style.webkitTransform="none"),t.roundLengths)_=n.isHorizontal()?ur(R,"width",!0):ur(R,"height",!0);else{const N=e(C,"width"),B=e(C,"padding-left"),D=e(C,"padding-right"),M=e(C,"margin-left"),O=e(C,"margin-right"),k=C.getPropertyValue("box-sizing");if(k&&k==="border-box")_=N+M+O;else{const{clientWidth:H,offsetWidth:$}=R;_=N+B+D+M+O+($-H)}}b&&(R.style.transform=b),S&&(R.style.webkitTransform=S),t.roundLengths&&(_=Math.floor(_))}else _=(r-(t.slidesPerView-1)*E)/t.slidesPerView,t.roundLengths&&(_=Math.floor(_)),u[x]&&(u[x].style[n.getDirectionLabel("width")]=`${_}px`);u[x]&&(u[x].swiperSlideSize=_),h.push(_),t.centeredSlides?(T=T+_/2+A/2+E,A===0&&x!==0&&(T=T-r/2-E),x===0&&(T=T-r/2-E),Math.abs(T)<1/1e3&&(T=0),t.roundLengths&&(T=Math.floor(T)),I%t.slidesPerGroup===0&&f.push(T),p.push(T)):(t.roundLengths&&(T=Math.floor(T)),(I-Math.min(n.params.slidesPerGroupSkip,I))%n.params.slidesPerGroup===0&&f.push(T),p.push(T),T=T+_+E),n.virtualSize+=_+E,A=_,I+=1}}if(n.virtualSize=Math.max(n.virtualSize,r)+v,o&&a&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${n.virtualSize+E}px`),t.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+E}px`),P&&n.grid.updateWrapperSize(_,f),!t.centeredSlides){const x=[];for(let R=0;R<f.length;R+=1){let C=f[R];t.roundLengths&&(C=Math.floor(C)),f[R]<=n.virtualSize-r&&x.push(C)}f=x,Math.floor(n.virtualSize-r)-Math.floor(f[f.length-1])>1&&f.push(n.virtualSize-r)}if(l&&t.loop){const x=h[0]+E;if(t.slidesPerGroup>1){const R=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),C=x*t.slidesPerGroup;for(let b=0;b<R;b+=1)f.push(f[f.length-1]+C)}for(let R=0;R<n.virtual.slidesBefore+n.virtual.slidesAfter;R+=1)t.slidesPerGroup===1&&f.push(f[f.length-1]+x),p.push(p[p.length-1]+x),n.virtualSize+=x}if(f.length===0&&(f=[0]),E!==0){const x=n.isHorizontal()&&o?"marginLeft":n.getDirectionLabel("marginRight");u.filter((R,C)=>!t.cssMode||t.loop?!0:C!==u.length-1).forEach(R=>{R.style[x]=`${E}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let x=0;h.forEach(C=>{x+=C+(E||0)}),x-=E;const R=x-r;f=f.map(C=>C<=0?-m:C>R?R+v:C)}if(t.centerInsufficientSlides){let x=0;if(h.forEach(R=>{x+=R+(E||0)}),x-=E,x<r){const R=(r-x)/2;f.forEach((C,b)=>{f[b]=C-R}),p.forEach((C,b)=>{p[b]=C+R})}}if(Object.assign(n,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:h}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){_n(i,"--swiper-centered-offset-before",`${-f[0]}px`),_n(i,"--swiper-centered-offset-after",`${n.size/2-h[h.length-1]/2}px`);const x=-n.snapGrid[0],R=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(C=>C+x),n.slidesGrid=n.slidesGrid.map(C=>C+R)}if(d!==c&&n.emit("slidesLengthChange"),f.length!==g&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),p.length!==w&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!l&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const x=`${t.containerModifierClass}backface-hidden`,R=n.el.classList.contains(x);d<=t.maxBackfaceHiddenSlides?R||n.el.classList.add(x):R&&n.el.classList.remove(x)}}function ay(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let s=0,r;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{t.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!i)break;t.push(o(a))}else t.push(o(e.activeIndex));for(r=0;r<t.length;r+=1)if(typeof t[r]<"u"){const a=t[r].offsetHeight;s=a>s?a:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function ly(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()}function cy(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:s,snapGrid:r}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-n;s&&(o=n),i.forEach(l=>{l.classList.remove(t.slideVisibleClass,t.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=t.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-r[0]+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),p=-(o-u),h=p+e.slidesSizesGrid[l],m=p>=0&&p<=e.size-e.slidesSizesGrid[l];(p>=0&&p<e.size-1||h>1&&h<=e.size||p<=0&&h>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l),i[l].classList.add(t.slideVisibleClass)),m&&i[l].classList.add(t.slideFullyVisibleClass),c.progress=s?-d:d,c.originalProgress=s?-f:f}}function dy(n){const e=this;if(typeof n>"u"){const u=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*u||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(i===0)s=0,r=!0,o=!0;else{s=(n-e.minTranslate())/i;const u=Math.abs(n-e.minTranslate())<1,d=Math.abs(n-e.maxTranslate())<1;r=u||s<=0,o=d||s>=1,u&&(s=0),d&&(s=1)}if(t.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],p=e.slidesGrid[d],h=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(n);m>=f?a=(m-f)/h:a=(m+h-p)/h,a>1&&(a-=1)}Object.assign(e,{progress:s,progressLoop:a,isBeginning:r,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function uy(){const n=this,{slides:e,params:t,slidesEl:i,activeIndex:s}=n,r=n.virtual&&t.virtual.enabled,o=n.grid&&t.grid&&t.grid.rows>1,a=d=>de(i,`.${t.slideClass}${d}, swiper-slide${d}`)[0];e.forEach(d=>{d.classList.remove(t.slideActiveClass,t.slideNextClass,t.slidePrevClass)});let l,c,u;if(r)if(t.loop){let d=s-n.virtual.slidesBefore;d<0&&(d=n.virtual.slides.length+d),d>=n.virtual.slides.length&&(d-=n.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${s}"]`);else o?(l=e.filter(d=>d.column===s)[0],u=e.filter(d=>d.column===s+1)[0],c=e.filter(d=>d.column===s-1)[0]):l=e[s];l&&(l.classList.add(t.slideActiveClass),o?(u&&u.classList.add(t.slideNextClass),c&&c.classList.add(t.slidePrevClass)):(u=Q_(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!u&&(u=e[0]),u&&u.classList.add(t.slideNextClass),c=K_(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(t.slidePrevClass))),n.emitSlidesClasses()}const mi=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,i=e.closest(t());if(i){let s=i.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(i.shadowRoot?s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},ks=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},fr=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const o=s,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),n.slides.forEach((l,c)=>{a.includes(l.column)&&ks(n,c)});return}const r=s+i-1;if(n.params.rewind||n.params.loop)for(let o=s-e;o<=r+e;o+=1){const a=(o%t+t)%t;(a<s||a>r)&&ks(n,a)}else for(let o=Math.max(s-e,0);o<=Math.min(r+e,t-1);o+=1)o!==s&&(o>r||o<s)&&ks(n,o)};function fy(n){const{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate;let s;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?i>=e[r]&&i<e[r+1]-(e[r+1]-e[r])/2?s=r:i>=e[r]&&i<e[r+1]&&(s=r+1):i>=e[r]&&(s=r);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function hy(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:s,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=n,c;const u=p=>{let h=p-e.virtual.slidesBefore;return h<0&&(h=e.virtual.slides.length+h),h>=e.virtual.slides.length&&(h-=e.virtual.slides.length),h};if(typeof l>"u"&&(l=fy(e)),i.indexOf(t)>=0)c=i.indexOf(t);else{const p=Math.min(s.slidesPerGroupSkip,l);c=p+Math.floor((l-p)/s.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=u(l);else if(d){const p=e.slides.filter(m=>m.column===l)[0];let h=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(h)&&(h=Math.max(e.slides.indexOf(p),0)),f=Math.floor(h/s.grid.rows)}else if(e.slides[l]){const p=e.slides[l].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:r,activeIndex:l}),e.initialized&&fr(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function py(n,e){const t=this,i=t.params;let s=n.closest(`.${i.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(a=>{!s&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(s=a)});let r=!1,o;if(s){for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===s){r=!0,o=a;break}}if(s&&r)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var my={updateSize:ry,updateSlides:oy,updateAutoHeight:ay,updateSlidesOffset:ly,updateSlidesProgress:cy,updateProgress:dy,updateSlidesClasses:uy,updateActiveIndex:hy,updateClickedSlide:py};function gy(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:s,wrapperEl:r}=e;if(t.virtualTranslate)return i?-s:s;if(t.cssMode)return s;let o=dr(r,n);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function vy(n,e){const t=this,{rtlTranslate:i,params:s,wrapperEl:r,progress:o}=t;let a=0,l=0;const c=0;t.isHorizontal()?a=i?-n:n:l=n,s.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?a:l,s.cssMode?r[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-a:-l:s.virtualTranslate||(t.isHorizontal()?a-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=t.maxTranslate()-t.minTranslate();d===0?u=0:u=(n-t.minTranslate())/d,u!==o&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function _y(){return-this.snapGrid[0]}function yy(){return-this.snapGrid[this.snapGrid.length-1]}function wy(n,e,t,i,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(i&&n>l?u=l:i&&n<c?u=c:u=n,r.updateProgress(u),o.cssMode){const d=r.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return yd({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),t&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),t&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,t&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var Ey={getTranslate:gy,setTranslate:vy,minTranslate:_y,maxTranslate:yy,translateTo:wy};function by(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function bd(n){let{swiper:e,runCallbacks:t,direction:i,step:s}=n;const{activeIndex:r,previousIndex:o}=e;let a=i;if(a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${s}`),t&&r!==o){if(a==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),a==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function Ty(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),bd({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function Sy(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),bd({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var Cy={setTransition:by,transitionStart:Ty,transitionEnd:Sy};function Iy(n,e,t,i,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const r=this;let o=n;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:p,enabled:h}=r;if(r.animating&&a.preventInteractionOnTransition||!h&&!i&&!s||r.destroyed)return!1;const m=Math.min(r.params.slidesPerGroupSkip,o);let v=m+Math.floor((o-m)/r.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const g=-l[v];if(a.normalizeSlideIndex)for(let E=0;E<c.length;E+=1){const T=-Math.floor(g*100),A=Math.floor(c[E]*100),I=Math.floor(c[E+1]*100);typeof c[E+1]<"u"?T>=A&&T<I-(I-A)/2?o=E:T>=A&&T<I&&(o=E+1):T>=A&&(o=E)}if(r.initialized&&o!==d&&(!r.allowSlideNext&&(f?g>r.translate&&g>r.minTranslate():g<r.translate&&g<r.minTranslate())||!r.allowSlidePrev&&g>r.translate&&g>r.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&t&&r.emit("beforeSlideChangeStart"),r.updateProgress(g);let w;if(o>d?w="next":o<d?w="prev":w="reset",f&&-g===r.translate||!f&&g===r.translate)return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(g),w!=="reset"&&(r.transitionStart(t,w),r.transitionEnd(t,w)),!1;if(a.cssMode){const E=r.isHorizontal(),T=f?g:-g;if(e===0){const A=r.virtual&&r.params.virtual.enabled;A&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),A&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[E?"scrollLeft":"scrollTop"]=T})):p[E?"scrollLeft":"scrollTop"]=T,A&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1})}else{if(!r.support.smoothScroll)return yd({swiper:r,targetPosition:T,side:E?"left":"top"}),!0;p.scrollTo({[E?"left":"top"]:T,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(g),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(t,w),e===0?r.transitionEnd(t,w):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(T){!r||r.destroyed||T.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(t,w))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function xy(n,e,t,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;const r=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let a;if(r){const f=o*s.params.grid.rows;a=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else a=s.getSlideIndexByData(o);const l=r?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:c}=s.params;let u=s.params.slidesPerView;u==="auto"?u=s.slidesPerViewDynamic():(u=Math.ceil(parseFloat(s.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),d){const f=c?a<s.activeIndex?"prev":"next":a-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?s.realIndex:void 0})}if(r){const f=o*s.params.grid.rows;o=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,t,i)}),s}function Py(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const i=this,{enabled:s,params:r,animating:o}=i;if(!s||i.destroyed)return i;let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<r.slidesPerGroupSkip?1:a,c=i.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,n,e,t)}),!0}return r.rewind&&i.isEnd?i.slideTo(0,n,e,t):i.slideTo(i.activeIndex+l,n,e,t)}function Ay(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const i=this,{params:s,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;const u=i.virtual&&s.virtual.enabled;if(s.loop){if(c&&!u&&s.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const d=a?i.translate:-i.translate;function f(g){return g<0?-Math.floor(Math.abs(g)):Math.floor(g)}const p=f(d),h=r.map(g=>f(g));let m=r[h.indexOf(p)-1];if(typeof m>"u"&&s.cssMode){let g;r.forEach((w,E)=>{p>=w&&(g=E)}),typeof g<"u"&&(m=r[g>0?g-1:g])}let v=0;if(typeof m<"u"&&(v=o.indexOf(m),v<0&&(v=i.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(v=v-i.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),s.rewind&&i.isBeginning){const g=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(g,n,e,t)}else if(s.loop&&i.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(v,n,e,t)}),!0;return i.slideTo(v,n,e,t)}function My(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const i=this;if(!i.destroyed)return i.slideTo(i.activeIndex,n,e,t)}function Ry(n,e,t,i){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=.5);const s=this;if(s.destroyed)return;let r=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],u=s.snapGrid[a+1];l-c>(u-c)*i&&(r+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],u=s.snapGrid[a];l-c<=(u-c)*i&&(r-=s.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,s.slidesGrid.length-1),s.slideTo(r,n,e,t)}function Oy(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,i=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,r;const o=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;r=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-i/2||s>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),s=n.getSlideIndex(de(t,`${o}[data-swiper-slide-index="${r}"]`)[0]),Pt(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-i?(n.loopFix(),s=n.getSlideIndex(de(t,`${o}[data-swiper-slide-index="${r}"]`)[0]),Pt(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var Ny={slideTo:Iy,slideToLoop:xy,slideNext:Py,slidePrev:Ay,slideReset:My,slideToClosest:Ry,slideToClickedSlide:Oy};function ky(n){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{de(i,`.${t.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},r=e.grid&&t.grid&&t.grid.rows>1,o=t.slidesPerGroup*(r?t.grid.rows:1),a=e.slides.length%o!==0,l=r&&e.slides.length%t.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const f=e.isElement?we("swiper-slide",[t.slideBlankClass]):we("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(f)}};if(a){if(t.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else zi("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(l){if(t.loopAddBlankSlides){const u=t.grid.rows-e.slides.length%t.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else zi("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function Ly(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:s,activeSlideIndex:r,byController:o,byMousewheel:a}=n===void 0?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:p}=l,{centeredSlides:h}=p;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){t&&(!p.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let m=p.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(p.slidesPerView,10)),h&&m%2===0&&(m=m+1));const v=p.slidesPerGroupAuto?m:p.slidesPerGroup;let g=v;g%v!==0&&(g+=v-g%v),g+=p.loopAdditionalSlides,l.loopedSlides=g;const w=l.grid&&p.grid&&p.grid.rows>1;c.length<m+g?zi("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&p.grid.fill==="row"&&zi("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const E=[],T=[];let A=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(c.filter(b=>b.classList.contains(p.slideActiveClass))[0]):A=r;const I=i==="next"||!i,P=i==="prev"||!i;let _=0,y=0;const x=w?Math.ceil(c.length/p.grid.rows):c.length,C=(w?c[r].column:r)+(h&&typeof s>"u"?-m/2+.5:0);if(C<g){_=Math.max(g-C,v);for(let b=0;b<g-C;b+=1){const S=b-Math.floor(b/x)*x;if(w){const N=x-S-1;for(let B=c.length-1;B>=0;B-=1)c[B].column===N&&E.push(B)}else E.push(x-S-1)}}else if(C+m>x-g){y=Math.max(C-(x-g*2),v);for(let b=0;b<y;b+=1){const S=b-Math.floor(b/x)*x;w?c.forEach((N,B)=>{N.column===S&&T.push(B)}):T.push(S)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),P&&E.forEach(b=>{c[b].swiperLoopMoveDOM=!0,f.prepend(c[b]),c[b].swiperLoopMoveDOM=!1}),I&&T.forEach(b=>{c[b].swiperLoopMoveDOM=!0,f.append(c[b]),c[b].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"?l.updateSlides():w&&(E.length>0&&P||T.length>0&&I)&&l.slides.forEach((b,S)=>{l.grid.updateSlide(S,b,l.slides)}),p.watchSlidesProgress&&l.updateSlidesOffset(),t){if(E.length>0&&P){if(typeof e>"u"){const b=l.slidesGrid[A],N=l.slidesGrid[A+_]-b;a?l.setTranslate(l.translate-N):(l.slideTo(A+Math.ceil(_),0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-N,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-N))}else if(s){const b=w?E.length/p.grid.rows:E.length;l.slideTo(l.activeIndex+b,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(T.length>0&&I)if(typeof e>"u"){const b=l.slidesGrid[A],N=l.slidesGrid[A-y]-b;a?l.setTranslate(l.translate-N):(l.slideTo(A-y,0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-N,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-N))}else{const b=w?T.length/p.grid.rows:T.length;l.slideTo(l.activeIndex-b,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const b={slideRealIndex:e,direction:i,setTranslate:s,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(S=>{!S.destroyed&&S.params.loop&&S.loopFix({...b,slideTo:S.params.slidesPerView===p.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...b,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView?t:!1})}l.emit("loopFix")}function Dy(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(s=>{const r=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;i[r]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),i.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Fy={loopCreate:ky,loopFix:Ly,loopDestroy:Dy};function By(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function zy(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Hy={setGrabCursor:By,unsetGrabCursor:zy};function Uy(n,e){e===void 0&&(e=this);function t(i){if(!i||i===pe()||i===ne())return null;i.assignedSlot&&(i=i.assignedSlot);const s=i.closest(n);return!s&&!i.getRootNode?null:s||t(i.getRootNode().host)}return t(e)}function Da(n,e,t){const i=ne(),{params:s}=n,r=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return r&&(t<=o||t>=i.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function $y(n){const e=this,t=pe();let i=n;i.originalEvent&&(i=i.originalEvent);const s=e.touchEventsData;if(i.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==i.pointerId)return;s.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(s.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Da(e,i,i.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&i.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=i.target;if(r.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(l)||"which"in i&&i.which===3||"button"in i&&i.button>0||s.isTouched&&s.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&u&&(l=u[0]);const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(i.target&&i.target.shadowRoot);if(r.noSwiping&&(f?Uy(d,l):l.closest(d))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const p=o.currentX,h=o.currentY;if(!Da(e,i,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=h,s.touchStartTime=be(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(s.allowThresholdMove=!1);let m=!0;l.matches(s.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==l&&t.activeElement.blur();const v=m&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||v)&&!l.isContentEditable&&i.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function Wy(n){const e=pe(),t=this,i=t.touchEventsData,{params:s,touches:r,rtlTranslate:o,enabled:a}=t;if(!a||!s.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].filter(I=>I.identifier===i.touchId)[0],!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){r.startX=u,r.startY=d;return}if(!t.allowTouchMove){l.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d}),i.touchStartTime=be());return}if(s.touchReleaseOnEdges&&!s.loop){if(t.isVertical()){if(d<r.startY&&t.translate<=t.maxTranslate()||d>r.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(u<r.startX&&t.translate<=t.maxTranslate()||u>r.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=d;const f=r.currentX-r.startX,p=r.currentY-r.startY;if(t.params.threshold&&Math.sqrt(f**2+p**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let I;t.isHorizontal()&&r.currentY===r.startY||t.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:f*f+p*p>=25&&(I=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,i.isScrolling=t.isHorizontal()?I>s.touchAngle:90-I>s.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(i.startMoving=!0),i.isScrolling){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let h=t.isHorizontal()?f:p,m=t.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;s.oneWayMovement&&(h=Math.abs(h)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),r.diff=h,h*=s.touchRatio,o&&(h=-h,m=-m);const v=t.touchesDirection;t.swipeDirection=h>0?"prev":"next",t.touchesDirection=m>0?"prev":"next";const g=t.params.loop&&!s.cssMode,w=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(g&&w&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const I=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(I)}i.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let E;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&v!==t.touchesDirection&&g&&w&&Math.abs(h)>=1){Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=h+i.startTranslate;let T=!0,A=s.resistanceRatio;if(s.touchReleaseOnEdges&&(A=0),h>0?(g&&w&&!E&&i.allowThresholdMove&&i.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(T=!1,s.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+h)**A))):h<0&&(g&&w&&!E&&i.allowThresholdMove&&i.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]:t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(T=!1,s.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-h)**A))),T&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),s.threshold>0)if(Math.abs(h)>s.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,r.diff=t.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{i.currentTranslate=i.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function Vy(n){const e=this,t=e.touchEventsData;let i=n;i.originalEvent&&(i=i.originalEvent);let s;if(i.type==="touchend"||i.type==="touchcancel"){if(s=[...i.changedTouches].filter(A=>A.identifier===t.touchId)[0],!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;s=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&o.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}o.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=be(),f=d-t.touchStartTime;if(e.allowClick){const A=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(A&&A[0]||i.target,A),e.emit("tap click",i),f<300&&d-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=be(),Pt(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||a.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let p;if(o.followFinger?p=l?e.translate:-e.translate:p=-t.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const h=p>=-e.maxTranslate()&&!e.params.loop;let m=0,v=e.slidesSizesGrid[0];for(let A=0;A<c.length;A+=A<o.slidesPerGroupSkip?1:o.slidesPerGroup){const I=A<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[A+I]<"u"?(h||p>=c[A]&&p<c[A+I])&&(m=A,v=c[A+I]-c[A]):(h||p>=c[A])&&(m=A,v=c[c.length-1]-c[c.length-2])}let g=null,w=null;o.rewind&&(e.isBeginning?w=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(g=0));const E=(p-c[m])/v,T=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?g:m+T):e.slideTo(m)),e.swipeDirection==="prev"&&(E>1-o.longSwipesRatio?e.slideTo(m+T):w!==null&&E<0&&Math.abs(E)>o.longSwipesRatio?e.slideTo(w):e.slideTo(m))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(m+T):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(g!==null?g:m+T),e.swipeDirection==="prev"&&e.slideTo(w!==null?w:m))}}function Fa(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:s,snapGrid:r}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!a?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=i,n.params.watchOverflow&&r!==n.snapGrid&&n.checkOverflow()}function Gy(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function jy(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const r=n.maxTranslate()-n.minTranslate();r===0?s=0:s=(n.translate-n.minTranslate())/r,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function qy(n){const e=this;mi(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Yy(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const Td=(n,e)=>{const t=pe(),{params:i,el:s,wrapperEl:r,device:o}=n,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;t[l]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:a}),s[l]("touchstart",n.onTouchStart,{passive:!1}),s[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("touchmove",n.onTouchMove,{passive:!1,capture:a}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:a}),t[l]("touchend",n.onTouchEnd,{passive:!0}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("touchcancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[l]("click",n.onClick,!0),i.cssMode&&r[l]("scroll",n.onScroll),i.updateOnWindowResize?n[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Fa,!0):n[c]("observerUpdate",Fa,!0),s[l]("load",n.onLoad,{capture:!0})};function Xy(){const n=this,{params:e}=n;n.onTouchStart=$y.bind(n),n.onTouchMove=Wy.bind(n),n.onTouchEnd=Vy.bind(n),n.onDocumentTouchStart=Yy.bind(n),e.cssMode&&(n.onScroll=jy.bind(n)),n.onClick=Gy.bind(n),n.onLoad=qy.bind(n),Td(n,"on")}function Ky(){Td(this,"off")}var Qy={attachEvents:Xy,detachEvents:Ky};const Ba=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function Jy(){const n=this,{realIndex:e,initialized:t,params:i,el:s}=n,r=i.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=n.getBreakpoint(r,n.params.breakpointsBase,n.el);if(!o||n.currentBreakpoint===o)return;const l=(o in r?r[o]:void 0)||n.originalParams,c=Ba(n,i),u=Ba(n,l),d=i.enabled;c&&!u?(s.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!c&&u&&(s.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&i.grid.fill==="column")&&s.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(g=>{if(typeof l[g]>"u")return;const w=i[g]&&i[g].enabled,E=l[g]&&l[g].enabled;w&&!E&&n[g].disable(),!w&&E&&n[g].enable()});const f=l.direction&&l.direction!==i.direction,p=i.loop&&(l.slidesPerView!==i.slidesPerView||f),h=i.loop;f&&t&&n.changeDirection(),ye(n.params,l);const m=n.params.enabled,v=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),d&&!m?n.disable():!d&&m&&n.enable(),n.currentBreakpoint=o,n.emit("_beforeBreakpoint",l),t&&(p?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!h&&v?(n.loopCreate(e),n.updateSlides()):h&&!v&&n.loopDestroy()),n.emit("breakpoint",l)}function Zy(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let i=!1;const s=ne(),r=e==="window"?s.innerHeight:t.clientHeight,o=Object.keys(n).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=t.clientWidth&&(i=l)}return i||"max"}var ew={setBreakpoint:Jy,getBreakpoint:Zy};function tw(n,e){const t=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(s=>{i[s]&&t.push(e+s)}):typeof i=="string"&&t.push(e+i)}),t}function nw(){const n=this,{classNames:e,params:t,rtl:i,el:s,device:r}=n,o=tw(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),s.classList.add(...e),n.emitContainerClasses()}function iw(){const n=this,{el:e,classNames:t}=n;e.classList.remove(...t),n.emitContainerClasses()}var sw={addClasses:nw,removeClasses:iw};function rw(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const s=n.slides.length-1,r=n.slidesGrid[s]+n.slidesSizesGrid[s]+i*2;n.isLocked=n.size>r}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var ow={checkOverflow:rw},za={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function aw(n,e){return function(i){i===void 0&&(i={});const s=Object.keys(i)[0],r=i[s];if(typeof r!="object"||r===null){ye(e,i);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in r)){ye(e,i);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),ye(e,i)}}const Ls={eventsEmitter:sy,update:my,translate:Ey,transition:Cy,slide:Ny,loop:Fy,grabCursor:Hy,events:Qy,breakpoints:ew,checkOverflow:ow,classes:sw},Ds={};class Ee{constructor(){let e,t;for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=ye({},t),e&&!t.el&&(t.el=e);const o=pe();if(t.el&&typeof t.el=="string"&&o.querySelectorAll(t.el).length>1){const u=[];return o.querySelectorAll(t.el).forEach(d=>{const f=ye({},t,{el:d});u.push(new Ee(f))}),u}const a=this;a.__swiper__=!0,a.support=wd(),a.device=Ed({userAgent:t.userAgent}),a.browser=ty(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const l={};a.modules.forEach(u=>{u({params:t,swiper:a,extendParams:aw(t,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=ye({},za,l);return a.params=ye({},c,Ds,t),a.originalParams=ye({},a.params),a.passedParams=ye({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,s=de(t,`.${i.slideClass}, swiper-slide`),r=zn(s[0]);return zn(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=de(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const s=i.minTranslate(),o=(i.maxTranslate()-s)*e+s;i.translateTo(o,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const s=e.getSlideClasses(i);t.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:s,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let u=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let d=r[c]?Math.ceil(r[c].swiperSlideSize):0,f;for(let p=c+1;p<r.length;p+=1)r[p]&&!f&&(d+=Math.ceil(r[p].swiperSlideSize),u+=1,d>l&&(f=!0));for(let p=c-1;p>=0;p-=1)r[p]&&!f&&(d+=r[p].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(t?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&mi(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||s()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,s=i.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${s}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(s()):de(i,s())[0])();return!o&&t.params.createElements&&(o=we("div",t.params.wrapperClass),i.append(o),de(i,`.${t.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(t,{el:i,wrapperEl:o,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||tt(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||tt(i,"direction")==="rtl"),wrongRTL:tt(o,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(r=>{r.complete?mi(t,r):r.addEventListener("load",o=>{mi(t,o.target)})}),fr(t),t.initialized=!0,fr(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:s,el:r,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),t&&(i.removeClasses(),r.removeAttribute("style"),o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el.swiper=null,q_(i)),i.destroyed=!0),null}static extendDefaults(e){ye(Ds,e)}static get extendedDefaults(){return Ds}static get defaults(){return za}static installModule(e){Ee.prototype.__modules__||(Ee.prototype.__modules__=[]);const t=Ee.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Ee.installModule(t)),Ee):(Ee.installModule(e),Ee)}}Object.keys(Ls).forEach(n=>{Object.keys(Ls[n]).forEach(e=>{Ee.prototype[e]=Ls[n][e]})});Ee.use([ny,iy]);function lw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let r;const o=pe();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const a=o.createElement("div");function l(h,m){const v=e.params.virtual;if(v.cache&&e.virtual.cache[m])return e.virtual.cache[m];let g;return v.renderSlide?(g=v.renderSlide.call(e,h,m),typeof g=="string"&&(a.innerHTML=g,g=a.children[0])):e.isElement?g=we("swiper-slide"):g=we("div",e.params.slideClass),g.setAttribute("data-swiper-slide-index",m),v.renderSlide||(g.innerHTML=h),v.cache&&(e.virtual.cache[m]=g),g}function c(h){const{slidesPerView:m,slidesPerGroup:v,centeredSlides:g,loop:w}=e.params,{addSlidesBefore:E,addSlidesAfter:T}=e.params.virtual,{from:A,to:I,slides:P,slidesGrid:_,offset:y}=e.virtual;e.params.cssMode||e.updateActiveIndex();const x=e.activeIndex||0;let R;e.rtlTranslate?R="right":R=e.isHorizontal()?"left":"top";let C,b;g?(C=Math.floor(m/2)+v+T,b=Math.floor(m/2)+v+E):(C=m+(v-1)+T,b=(w?m:v)+E);let S=x-b,N=x+C;w||(S=Math.max(S,0),N=Math.min(N,P.length-1));let B=(e.slidesGrid[S]||0)-(e.slidesGrid[0]||0);w&&x>=b?(S-=b,g||(B+=e.slidesGrid[0])):w&&x<b&&(S=-b,g&&(B+=e.slidesGrid[0])),Object.assign(e.virtual,{from:S,to:N,offset:B,slidesGrid:e.slidesGrid,slidesBefore:b,slidesAfter:C});function D(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),s("virtualUpdate")}if(A===S&&I===N&&!h){e.slidesGrid!==_&&B!==y&&e.slides.forEach(z=>{z.style[R]=`${B-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),s("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:B,from:S,to:N,slides:function(){const V=[];for(let ie=S;ie<=N;ie+=1)V.push(P[ie]);return V}()}),e.params.virtual.renderExternalUpdate?D():s("virtualUpdate");return}const M=[],O=[],k=z=>{let V=z;return z<0?V=P.length+z:V>=P.length&&(V=V-P.length),V};if(h)e.slides.filter(z=>z.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(z=>{z.remove()});else for(let z=A;z<=I;z+=1)if(z<S||z>N){const V=k(z);e.slides.filter(ie=>ie.matches(`.${e.params.slideClass}[data-swiper-slide-index="${V}"], swiper-slide[data-swiper-slide-index="${V}"]`)).forEach(ie=>{ie.remove()})}const H=w?-P.length:0,$=w?P.length*2:P.length;for(let z=H;z<$;z+=1)if(z>=S&&z<=N){const V=k(z);typeof I>"u"||h?O.push(V):(z>I&&O.push(V),z<A&&M.push(V))}if(O.forEach(z=>{e.slidesEl.append(l(P[z],z))}),w)for(let z=M.length-1;z>=0;z-=1){const V=M[z];e.slidesEl.prepend(l(P[V],V))}else M.sort((z,V)=>V-z),M.forEach(z=>{e.slidesEl.prepend(l(P[z],z))});de(e.slidesEl,".swiper-slide, swiper-slide").forEach(z=>{z.style[R]=`${B-Math.abs(e.cssOverflowAdjustment())}px`}),D()}function u(h){if(typeof h=="object"&&"length"in h)for(let m=0;m<h.length;m+=1)h[m]&&e.virtual.slides.push(h[m]);else e.virtual.slides.push(h);c(!0)}function d(h){const m=e.activeIndex;let v=m+1,g=1;if(Array.isArray(h)){for(let w=0;w<h.length;w+=1)h[w]&&e.virtual.slides.unshift(h[w]);v=m+h.length,g=h.length}else e.virtual.slides.unshift(h);if(e.params.virtual.cache){const w=e.virtual.cache,E={};Object.keys(w).forEach(T=>{const A=w[T],I=A.getAttribute("data-swiper-slide-index");I&&A.setAttribute("data-swiper-slide-index",parseInt(I,10)+g),E[parseInt(T,10)+g]=A}),e.virtual.cache=E}c(!0),e.slideTo(v,0)}function f(h){if(typeof h>"u"||h===null)return;let m=e.activeIndex;if(Array.isArray(h))for(let v=h.length-1;v>=0;v-=1)e.params.virtual.cache&&(delete e.virtual.cache[h[v]],Object.keys(e.virtual.cache).forEach(g=>{g>h&&(e.virtual.cache[g-1]=e.virtual.cache[g],e.virtual.cache[g-1].setAttribute("data-swiper-slide-index",g-1),delete e.virtual.cache[g])})),e.virtual.slides.splice(h[v],1),h[v]<m&&(m-=1),m=Math.max(m,0);else e.params.virtual.cache&&(delete e.virtual.cache[h],Object.keys(e.virtual.cache).forEach(v=>{v>h&&(e.virtual.cache[v-1]=e.virtual.cache[v],e.virtual.cache[v-1].setAttribute("data-swiper-slide-index",v-1),delete e.virtual.cache[v])})),e.virtual.slides.splice(h,1),h<m&&(m-=1),m=Math.max(m,0);c(!0),e.slideTo(m,0)}function p(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),c(!0),e.slideTo(0,0)}i("beforeInit",()=>{if(!e.params.virtual.enabled)return;let h;if(typeof e.passedParams.virtual.slides>"u"){const m=[...e.slidesEl.children].filter(v=>v.matches(`.${e.params.slideClass}, swiper-slide`));m&&m.length&&(e.virtual.slides=[...m],h=!0,m.forEach((v,g)=>{v.setAttribute("data-swiper-slide-index",g),e.virtual.cache[g]=v,v.remove()}))}h||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,c()}),i("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(r),r=setTimeout(()=>{c()},100)):c())}),i("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&_n(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:u,prependSlide:d,removeSlide:f,removeAllSlides:p,update:c})}function cw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r=pe(),o=ne();e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function a(u){if(!e.enabled)return;const{rtlTranslate:d}=e;let f=u;f.originalEvent&&(f=f.originalEvent);const p=f.keyCode||f.charCode,h=e.params.keyboard.pageUpDown,m=h&&p===33,v=h&&p===34,g=p===37,w=p===39,E=p===38,T=p===40;if(!e.allowSlideNext&&(e.isHorizontal()&&w||e.isVertical()&&T||v)||!e.allowSlidePrev&&(e.isHorizontal()&&g||e.isVertical()&&E||m))return!1;if(!(f.shiftKey||f.altKey||f.ctrlKey||f.metaKey)&&!(r.activeElement&&r.activeElement.nodeName&&(r.activeElement.nodeName.toLowerCase()==="input"||r.activeElement.nodeName.toLowerCase()==="textarea"))){if(e.params.keyboard.onlyInViewport&&(m||v||g||w||E||T)){let A=!1;if(wt(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&wt(e.el,`.${e.params.slideActiveClass}`).length===0)return;const I=e.el,P=I.clientWidth,_=I.clientHeight,y=o.innerWidth,x=o.innerHeight,R=Hi(I);d&&(R.left-=I.scrollLeft);const C=[[R.left,R.top],[R.left+P,R.top],[R.left,R.top+_],[R.left+P,R.top+_]];for(let b=0;b<C.length;b+=1){const S=C[b];if(S[0]>=0&&S[0]<=y&&S[1]>=0&&S[1]<=x){if(S[0]===0&&S[1]===0)continue;A=!0}}if(!A)return}e.isHorizontal()?((m||v||g||w)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),((v||w)&&!d||(m||g)&&d)&&e.slideNext(),((m||g)&&!d||(v||w)&&d)&&e.slidePrev()):((m||v||E||T)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),(v||T)&&e.slideNext(),(m||E)&&e.slidePrev()),s("keyPress",p)}}function l(){e.keyboard.enabled||(r.addEventListener("keydown",a),e.keyboard.enabled=!0)}function c(){e.keyboard.enabled&&(r.removeEventListener("keydown",a),e.keyboard.enabled=!1)}i("init",()=>{e.params.keyboard.enabled&&l()}),i("destroy",()=>{e.keyboard.enabled&&c()}),Object.assign(e.keyboard,{enable:l,disable:c})}function dw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r=ne();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,a=be(),l;const c=[];function u(E){let P=0,_=0,y=0,x=0;return"detail"in E&&(_=E.detail),"wheelDelta"in E&&(_=-E.wheelDelta/120),"wheelDeltaY"in E&&(_=-E.wheelDeltaY/120),"wheelDeltaX"in E&&(P=-E.wheelDeltaX/120),"axis"in E&&E.axis===E.HORIZONTAL_AXIS&&(P=_,_=0),y=P*10,x=_*10,"deltaY"in E&&(x=E.deltaY),"deltaX"in E&&(y=E.deltaX),E.shiftKey&&!y&&(y=x,x=0),(y||x)&&E.deltaMode&&(E.deltaMode===1?(y*=40,x*=40):(y*=800,x*=800)),y&&!P&&(P=y<1?-1:1),x&&!_&&(_=x<1?-1:1),{spinX:P,spinY:_,pixelX:y,pixelY:x}}function d(){e.enabled&&(e.mouseEntered=!0)}function f(){e.enabled&&(e.mouseEntered=!1)}function p(E){return e.params.mousewheel.thresholdDelta&&E.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&be()-a<e.params.mousewheel.thresholdTime?!1:E.delta>=6&&be()-a<60?!0:(E.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),s("scroll",E.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),s("scroll",E.raw)),a=new r.Date().getTime(),!1)}function h(E){const T=e.params.mousewheel;if(E.direction<0){if(e.isEnd&&!e.params.loop&&T.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&T.releaseOnEdges)return!0;return!1}function m(E){let T=E,A=!0;if(!e.enabled||E.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const I=e.params.mousewheel;e.params.cssMode&&T.preventDefault();let P=e.el;e.params.mousewheel.eventsTarget!=="container"&&(P=document.querySelector(e.params.mousewheel.eventsTarget));const _=P&&P.contains(T.target);if(!e.mouseEntered&&!_&&!I.releaseOnEdges)return!0;T.originalEvent&&(T=T.originalEvent);let y=0;const x=e.rtlTranslate?-1:1,R=u(T);if(I.forceToAxis)if(e.isHorizontal())if(Math.abs(R.pixelX)>Math.abs(R.pixelY))y=-R.pixelX*x;else return!0;else if(Math.abs(R.pixelY)>Math.abs(R.pixelX))y=-R.pixelY;else return!0;else y=Math.abs(R.pixelX)>Math.abs(R.pixelY)?-R.pixelX*x:-R.pixelY;if(y===0)return!0;I.invert&&(y=-y);let C=e.getTranslate()+y*I.sensitivity;if(C>=e.minTranslate()&&(C=e.minTranslate()),C<=e.maxTranslate()&&(C=e.maxTranslate()),A=e.params.loop?!0:!(C===e.minTranslate()||C===e.maxTranslate()),A&&e.params.nested&&T.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const b={time:be(),delta:Math.abs(y),direction:Math.sign(y),raw:E};c.length>=2&&c.shift();const S=c.length?c[c.length-1]:void 0;if(c.push(b),S?(b.direction!==S.direction||b.delta>S.delta||b.time>S.time+150)&&p(b):p(b),h(b))return!0}else{const b={time:be(),delta:Math.abs(y),direction:Math.sign(y)},S=l&&b.time<l.time+500&&b.delta<=l.delta&&b.direction===l.direction;if(!S){l=void 0;let N=e.getTranslate()+y*I.sensitivity;const B=e.isBeginning,D=e.isEnd;if(N>=e.minTranslate()&&(N=e.minTranslate()),N<=e.maxTranslate()&&(N=e.maxTranslate()),e.setTransition(0),e.setTranslate(N),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!B&&e.isBeginning||!D&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:b.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();const M=c.length?c[c.length-1]:void 0,O=c[0];if(c.push(b),M&&(b.delta>M.delta||b.direction!==M.direction))c.splice(0);else if(c.length>=15&&b.time-O.time<500&&O.delta-b.delta>=1&&b.delta<=6){const k=y>0?.8:.2;l=b,c.splice(0),o=Pt(()=>{e.slideToClosest(e.params.speed,!0,void 0,k)},0)}o||(o=Pt(()=>{l=b,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(S||s("scroll",T),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),I.releaseOnEdges&&(N===e.minTranslate()||N===e.maxTranslate()))return!0}}return T.preventDefault?T.preventDefault():T.returnValue=!1,!1}function v(E){let T=e.el;e.params.mousewheel.eventsTarget!=="container"&&(T=document.querySelector(e.params.mousewheel.eventsTarget)),T[E]("mouseenter",d),T[E]("mouseleave",f),T[E]("wheel",m)}function g(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",m),!0):e.mousewheel.enabled?!1:(v("addEventListener"),e.mousewheel.enabled=!0,!0)}function w(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,m),!0):e.mousewheel.enabled?(v("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&w(),e.params.mousewheel.enabled&&g()}),i("destroy",()=>{e.params.cssMode&&g(),e.mousewheel.enabled&&w()}),Object.assign(e.mousewheel,{enable:g,disable:w})}function ho(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(s=>{if(!t[s]&&t.auto===!0){let r=de(n.el,`.${i[s]}`)[0];r||(r=we("div",i[s]),r.className=i[s],n.el.append(r)),t[s]=r,e[s]=r}}),t}function uw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(h){let m;return h&&typeof h=="string"&&e.isElement&&(m=e.el.querySelector(h),m)?m:(h&&(typeof h=="string"&&(m=[...document.querySelectorAll(h)]),e.params.uniqueNavElements&&typeof h=="string"&&m.length>1&&e.el.querySelectorAll(h).length===1&&(m=e.el.querySelector(h))),h&&!m?h:m)}function o(h,m){const v=e.params.navigation;h=Y(h),h.forEach(g=>{g&&(g.classList[m?"add":"remove"](...v.disabledClass.split(" ")),g.tagName==="BUTTON"&&(g.disabled=m),e.params.watchOverflow&&e.enabled&&g.classList[e.isLocked?"add":"remove"](v.lockClass))})}function a(){const{nextEl:h,prevEl:m}=e.navigation;if(e.params.loop){o(m,!1),o(h,!1);return}o(m,e.isBeginning&&!e.params.rewind),o(h,e.isEnd&&!e.params.rewind)}function l(h){h.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function c(h){h.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function u(){const h=e.params.navigation;if(e.params.navigation=ho(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(h.nextEl||h.prevEl))return;let m=r(h.nextEl),v=r(h.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:v}),m=Y(m),v=Y(v);const g=(w,E)=>{w&&w.addEventListener("click",E==="next"?c:l),!e.enabled&&w&&w.classList.add(...h.lockClass.split(" "))};m.forEach(w=>g(w,"next")),v.forEach(w=>g(w,"prev"))}function d(){let{nextEl:h,prevEl:m}=e.navigation;h=Y(h),m=Y(m);const v=(g,w)=>{g.removeEventListener("click",w==="next"?c:l),g.classList.remove(...e.params.navigation.disabledClass.split(" "))};h.forEach(g=>v(g,"next")),m.forEach(g=>v(g,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?p():(u(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{d()}),i("enable disable",()=>{let{nextEl:h,prevEl:m}=e.navigation;if(h=Y(h),m=Y(m),e.enabled){a();return}[...h,...m].filter(v=>!!v).forEach(v=>v.classList.add(e.params.navigation.lockClass))}),i("click",(h,m)=>{let{nextEl:v,prevEl:g}=e.navigation;v=Y(v),g=Y(g);const w=m.target;if(e.params.navigation.hideOnClick&&!g.includes(w)&&!v.includes(w)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===w||e.pagination.el.contains(w)))return;let E;v.length?E=v[0].classList.contains(e.params.navigation.hiddenClass):g.length&&(E=g[0].classList.contains(e.params.navigation.hiddenClass)),s(E===!0?"navigationShow":"navigationHide"),[...v,...g].filter(T=>!!T).forEach(T=>T.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:f,disable:p,update:a,init:u,destroy:d})}function De(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function fw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:g=>g,formatFractionTotal:g=>g,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(g,w){const{bulletActiveClass:E}=e.params.pagination;g&&(g=g[`${w==="prev"?"previous":"next"}ElementSibling`],g&&(g.classList.add(`${E}-${w}`),g=g[`${w==="prev"?"previous":"next"}ElementSibling`],g&&g.classList.add(`${E}-${w}-${w}`)))}function u(g){const w=g.target.closest(De(e.params.pagination.bulletClass));if(!w)return;g.preventDefault();const E=zn(w)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===E)return;e.slideToLoop(E)}else e.slideTo(E)}function d(){const g=e.rtl,w=e.params.pagination;if(l())return;let E=e.pagination.el;E=Y(E);let T,A;const I=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,P=e.params.loop?Math.ceil(I/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(A=e.previousRealIndex||0,T=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(T=e.snapIndex,A=e.previousSnapIndex):(A=e.previousIndex||0,T=e.activeIndex||0),w.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const _=e.pagination.bullets;let y,x,R;if(w.dynamicBullets&&(o=ur(_[0],e.isHorizontal()?"width":"height",!0),E.forEach(C=>{C.style[e.isHorizontal()?"width":"height"]=`${o*(w.dynamicMainBullets+4)}px`}),w.dynamicMainBullets>1&&A!==void 0&&(a+=T-(A||0),a>w.dynamicMainBullets-1?a=w.dynamicMainBullets-1:a<0&&(a=0)),y=Math.max(T-a,0),x=y+(Math.min(_.length,w.dynamicMainBullets)-1),R=(x+y)/2),_.forEach(C=>{const b=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(S=>`${w.bulletActiveClass}${S}`)].map(S=>typeof S=="string"&&S.includes(" ")?S.split(" "):S).flat();C.classList.remove(...b)}),E.length>1)_.forEach(C=>{const b=zn(C);b===T?C.classList.add(...w.bulletActiveClass.split(" ")):e.isElement&&C.setAttribute("part","bullet"),w.dynamicBullets&&(b>=y&&b<=x&&C.classList.add(...`${w.bulletActiveClass}-main`.split(" ")),b===y&&c(C,"prev"),b===x&&c(C,"next"))});else{const C=_[T];if(C&&C.classList.add(...w.bulletActiveClass.split(" ")),e.isElement&&_.forEach((b,S)=>{b.setAttribute("part",S===T?"bullet-active":"bullet")}),w.dynamicBullets){const b=_[y],S=_[x];for(let N=y;N<=x;N+=1)_[N]&&_[N].classList.add(...`${w.bulletActiveClass}-main`.split(" "));c(b,"prev"),c(S,"next")}}if(w.dynamicBullets){const C=Math.min(_.length,w.dynamicMainBullets+4),b=(o*C-o)/2-R*o,S=g?"right":"left";_.forEach(N=>{N.style[e.isHorizontal()?S:"top"]=`${b}px`})}}E.forEach((_,y)=>{if(w.type==="fraction"&&(_.querySelectorAll(De(w.currentClass)).forEach(x=>{x.textContent=w.formatFractionCurrent(T+1)}),_.querySelectorAll(De(w.totalClass)).forEach(x=>{x.textContent=w.formatFractionTotal(P)})),w.type==="progressbar"){let x;w.progressbarOpposite?x=e.isHorizontal()?"vertical":"horizontal":x=e.isHorizontal()?"horizontal":"vertical";const R=(T+1)/P;let C=1,b=1;x==="horizontal"?C=R:b=R,_.querySelectorAll(De(w.progressbarFillClass)).forEach(S=>{S.style.transform=`translate3d(0,0,0) scaleX(${C}) scaleY(${b})`,S.style.transitionDuration=`${e.params.speed}ms`})}w.type==="custom"&&w.renderCustom?(_.innerHTML=w.renderCustom(e,T+1,P),y===0&&s("paginationRender",_)):(y===0&&s("paginationRender",_),s("paginationUpdate",_)),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](w.lockClass)})}function f(){const g=e.params.pagination;if(l())return;const w=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let E=e.pagination.el;E=Y(E);let T="";if(g.type==="bullets"){let A=e.params.loop?Math.ceil(w/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&A>w&&(A=w);for(let I=0;I<A;I+=1)g.renderBullet?T+=g.renderBullet.call(e,I,g.bulletClass):T+=`<${g.bulletElement} ${e.isElement?'part="bullet"':""} class="${g.bulletClass}"></${g.bulletElement}>`}g.type==="fraction"&&(g.renderFraction?T=g.renderFraction.call(e,g.currentClass,g.totalClass):T=`<span class="${g.currentClass}"></span> / <span class="${g.totalClass}"></span>`),g.type==="progressbar"&&(g.renderProgressbar?T=g.renderProgressbar.call(e,g.progressbarFillClass):T=`<span class="${g.progressbarFillClass}"></span>`),e.pagination.bullets=[],E.forEach(A=>{g.type!=="custom"&&(A.innerHTML=T||""),g.type==="bullets"&&e.pagination.bullets.push(...A.querySelectorAll(De(g.bulletClass)))}),g.type!=="custom"&&s("paginationRender",E[0])}function p(){e.params.pagination=ho(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const g=e.params.pagination;if(!g.el)return;let w;typeof g.el=="string"&&e.isElement&&(w=e.el.querySelector(g.el)),!w&&typeof g.el=="string"&&(w=[...document.querySelectorAll(g.el)]),w||(w=g.el),!(!w||w.length===0)&&(e.params.uniqueNavElements&&typeof g.el=="string"&&Array.isArray(w)&&w.length>1&&(w=[...e.el.querySelectorAll(g.el)],w.length>1&&(w=w.filter(E=>wt(E,".swiper")[0]===e.el)[0])),Array.isArray(w)&&w.length===1&&(w=w[0]),Object.assign(e.pagination,{el:w}),w=Y(w),w.forEach(E=>{g.type==="bullets"&&g.clickable&&E.classList.add(...(g.clickableClass||"").split(" ")),E.classList.add(g.modifierClass+g.type),E.classList.add(e.isHorizontal()?g.horizontalClass:g.verticalClass),g.type==="bullets"&&g.dynamicBullets&&(E.classList.add(`${g.modifierClass}${g.type}-dynamic`),a=0,g.dynamicMainBullets<1&&(g.dynamicMainBullets=1)),g.type==="progressbar"&&g.progressbarOpposite&&E.classList.add(g.progressbarOppositeClass),g.clickable&&E.addEventListener("click",u),e.enabled||E.classList.add(g.lockClass)}))}function h(){const g=e.params.pagination;if(l())return;let w=e.pagination.el;w&&(w=Y(w),w.forEach(E=>{E.classList.remove(g.hiddenClass),E.classList.remove(g.modifierClass+g.type),E.classList.remove(e.isHorizontal()?g.horizontalClass:g.verticalClass),g.clickable&&(E.classList.remove(...(g.clickableClass||"").split(" ")),E.removeEventListener("click",u))})),e.pagination.bullets&&e.pagination.bullets.forEach(E=>E.classList.remove(...g.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const g=e.params.pagination;let{el:w}=e.pagination;w=Y(w),w.forEach(E=>{E.classList.remove(g.horizontalClass,g.verticalClass),E.classList.add(e.isHorizontal()?g.horizontalClass:g.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?v():(p(),f(),d())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&d()}),i("snapIndexChange",()=>{d()}),i("snapGridLengthChange",()=>{f(),d()}),i("destroy",()=>{h()}),i("enable disable",()=>{let{el:g}=e.pagination;g&&(g=Y(g),g.forEach(w=>w.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{d()}),i("click",(g,w)=>{const E=w.target,T=Y(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&T&&T.length>0&&!E.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&E===e.navigation.nextEl||e.navigation.prevEl&&E===e.navigation.prevEl))return;const A=T[0].classList.contains(e.params.pagination.hiddenClass);s(A===!0?"paginationShow":"paginationHide"),T.forEach(I=>I.classList.toggle(e.params.pagination.hiddenClass))}});const m=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:g}=e.pagination;g&&(g=Y(g),g.forEach(w=>w.classList.remove(e.params.pagination.paginationDisabledClass))),p(),f(),d()},v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:g}=e.pagination;g&&(g=Y(g),g.forEach(w=>w.classList.add(e.params.pagination.paginationDisabledClass))),h()};Object.assign(e.pagination,{enable:m,disable:v,render:f,update:d,init:p,destroy:h})}function hw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r=pe();let o=!1,a=null,l=null,c,u,d,f;t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function p(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:C,rtlTranslate:b}=e,{dragEl:S,el:N}=C,B=e.params.scrollbar,D=e.params.loop?e.progressLoop:e.progress;let M=u,O=(d-u)*D;b?(O=-O,O>0?(M=u-O,O=0):-O+u>d&&(M=d+O)):O<0?(M=u+O,O=0):O+u>d&&(M=d-O),e.isHorizontal()?(S.style.transform=`translate3d(${O}px, 0, 0)`,S.style.width=`${M}px`):(S.style.transform=`translate3d(0px, ${O}px, 0)`,S.style.height=`${M}px`),B.hide&&(clearTimeout(a),N.style.opacity=1,a=setTimeout(()=>{N.style.opacity=0,N.style.transitionDuration="400ms"},1e3))}function h(C){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${C}ms`)}function m(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:C}=e,{dragEl:b,el:S}=C;b.style.width="",b.style.height="",d=e.isHorizontal()?S.offsetWidth:S.offsetHeight,f=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?u=d*f:u=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?b.style.width=`${u}px`:b.style.height=`${u}px`,f>=1?S.style.display="none":S.style.display="",e.params.scrollbar.hide&&(S.style.opacity=0),e.params.watchOverflow&&e.enabled&&C.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function v(C){return e.isHorizontal()?C.clientX:C.clientY}function g(C){const{scrollbar:b,rtlTranslate:S}=e,{el:N}=b;let B;B=(v(C)-Hi(N)[e.isHorizontal()?"left":"top"]-(c!==null?c:u/2))/(d-u),B=Math.max(Math.min(B,1),0),S&&(B=1-B);const D=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*B;e.updateProgress(D),e.setTranslate(D),e.updateActiveIndex(),e.updateSlidesClasses()}function w(C){const b=e.params.scrollbar,{scrollbar:S,wrapperEl:N}=e,{el:B,dragEl:D}=S;o=!0,c=C.target===D?v(C)-C.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,C.preventDefault(),C.stopPropagation(),N.style.transitionDuration="100ms",D.style.transitionDuration="100ms",g(C),clearTimeout(l),B.style.transitionDuration="0ms",b.hide&&(B.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),s("scrollbarDragStart",C)}function E(C){const{scrollbar:b,wrapperEl:S}=e,{el:N,dragEl:B}=b;o&&(C.preventDefault?C.preventDefault():C.returnValue=!1,g(C),S.style.transitionDuration="0ms",N.style.transitionDuration="0ms",B.style.transitionDuration="0ms",s("scrollbarDragMove",C))}function T(C){const b=e.params.scrollbar,{scrollbar:S,wrapperEl:N}=e,{el:B}=S;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",N.style.transitionDuration=""),b.hide&&(clearTimeout(l),l=Pt(()=>{B.style.opacity=0,B.style.transitionDuration="400ms"},1e3)),s("scrollbarDragEnd",C),b.snapOnRelease&&e.slideToClosest())}function A(C){const{scrollbar:b,params:S}=e,N=b.el;if(!N)return;const B=N,D=S.passiveListeners?{passive:!1,capture:!1}:!1,M=S.passiveListeners?{passive:!0,capture:!1}:!1;if(!B)return;const O=C==="on"?"addEventListener":"removeEventListener";B[O]("pointerdown",w,D),r[O]("pointermove",E,D),r[O]("pointerup",T,M)}function I(){!e.params.scrollbar.el||!e.scrollbar.el||A("on")}function P(){!e.params.scrollbar.el||!e.scrollbar.el||A("off")}function _(){const{scrollbar:C,el:b}=e;e.params.scrollbar=ho(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const S=e.params.scrollbar;if(!S.el)return;let N;if(typeof S.el=="string"&&e.isElement&&(N=e.el.querySelector(S.el)),!N&&typeof S.el=="string"){if(N=r.querySelectorAll(S.el),!N.length)return}else N||(N=S.el);e.params.uniqueNavElements&&typeof S.el=="string"&&N.length>1&&b.querySelectorAll(S.el).length===1&&(N=b.querySelector(S.el)),N.length>0&&(N=N[0]),N.classList.add(e.isHorizontal()?S.horizontalClass:S.verticalClass);let B;N&&(B=N.querySelector(De(e.params.scrollbar.dragClass)),B||(B=we("div",e.params.scrollbar.dragClass),N.append(B))),Object.assign(C,{el:N,dragEl:B}),S.draggable&&I(),N&&N.classList[e.enabled?"remove":"add"](...Ke(e.params.scrollbar.lockClass))}function y(){const C=e.params.scrollbar,b=e.scrollbar.el;b&&b.classList.remove(...Ke(e.isHorizontal()?C.horizontalClass:C.verticalClass)),P()}i("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const C=e.params.scrollbar;let{el:b}=e.scrollbar;b=Y(b),b.forEach(S=>{S.classList.remove(C.horizontalClass,C.verticalClass),S.classList.add(e.isHorizontal()?C.horizontalClass:C.verticalClass)})}),i("init",()=>{e.params.scrollbar.enabled===!1?R():(_(),m(),p())}),i("update resize observerUpdate lock unlock changeDirection",()=>{m()}),i("setTranslate",()=>{p()}),i("setTransition",(C,b)=>{h(b)}),i("enable disable",()=>{const{el:C}=e.scrollbar;C&&C.classList[e.enabled?"remove":"add"](...Ke(e.params.scrollbar.lockClass))}),i("destroy",()=>{y()});const x=()=>{e.el.classList.remove(...Ke(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...Ke(e.params.scrollbar.scrollbarDisabledClass)),_(),m(),p()},R=()=>{e.el.classList.add(...Ke(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...Ke(e.params.scrollbar.scrollbarDisabledClass)),y()};Object.assign(e.scrollbar,{enable:x,disable:R,updateSize:m,setTranslate:p,init:_,destroy:y})}function pw(n){let{swiper:e,extendParams:t,on:i}=n;t({parallax:{enabled:!1}});const s="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",r=(l,c)=>{const{rtl:u}=e,d=u?-1:1,f=l.getAttribute("data-swiper-parallax")||"0";let p=l.getAttribute("data-swiper-parallax-x"),h=l.getAttribute("data-swiper-parallax-y");const m=l.getAttribute("data-swiper-parallax-scale"),v=l.getAttribute("data-swiper-parallax-opacity"),g=l.getAttribute("data-swiper-parallax-rotate");if(p||h?(p=p||"0",h=h||"0"):e.isHorizontal()?(p=f,h="0"):(h=f,p="0"),p.indexOf("%")>=0?p=`${parseInt(p,10)*c*d}%`:p=`${p*c*d}px`,h.indexOf("%")>=0?h=`${parseInt(h,10)*c}%`:h=`${h*c}px`,typeof v<"u"&&v!==null){const E=v-(v-1)*(1-Math.abs(c));l.style.opacity=E}let w=`translate3d(${p}, ${h}, 0px)`;if(typeof m<"u"&&m!==null){const E=m-(m-1)*(1-Math.abs(c));w+=` scale(${E})`}if(g&&typeof g<"u"&&g!==null){const E=g*c*-1;w+=` rotate(${E}deg)`}l.style.transform=w},o=()=>{const{el:l,slides:c,progress:u,snapGrid:d,isElement:f}=e,p=de(l,s);e.isElement&&p.push(...de(e.hostEl,s)),p.forEach(h=>{r(h,u)}),c.forEach((h,m)=>{let v=h.progress;e.params.slidesPerGroup>1&&e.params.slidesPerView!=="auto"&&(v+=Math.ceil(m/2)-u*(d.length-1)),v=Math.min(Math.max(v,-1),1),h.querySelectorAll(`${s}, [data-swiper-parallax-rotate]`).forEach(g=>{r(g,v)})})},a=function(l){l===void 0&&(l=e.params.speed);const{el:c,hostEl:u}=e,d=[...c.querySelectorAll(s)];e.isElement&&d.push(...u.querySelectorAll(s)),d.forEach(f=>{let p=parseInt(f.getAttribute("data-swiper-parallax-duration"),10)||l;l===0&&(p=0),f.style.transitionDuration=`${p}ms`})};i("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),i("init",()=>{e.params.parallax.enabled&&o()}),i("setTranslate",()=>{e.params.parallax.enabled&&o()}),i("setTransition",(l,c)=>{e.params.parallax.enabled&&a(c)})}function mw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r=ne();t({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let o=1,a=!1,l,c;const u=[],d={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},f={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},p={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let h=1;Object.defineProperty(e.zoom,"scale",{get(){return h},set(M){if(h!==M){const O=d.imageEl,k=d.slideEl;s("zoomChange",M,O,k)}h=M}});function m(){if(u.length<2)return 1;const M=u[0].pageX,O=u[0].pageY,k=u[1].pageX,H=u[1].pageY;return Math.sqrt((k-M)**2+(H-O)**2)}function v(){const M=e.params.zoom,O=d.imageWrapEl.getAttribute("data-swiper-zoom")||M.maxRatio;if(M.limitToOriginalSize&&d.imageEl&&d.imageEl.naturalWidth){const k=d.imageEl.naturalWidth/d.imageEl.offsetWidth;return Math.min(k,O)}return O}function g(){if(u.length<2)return{x:null,y:null};const M=d.imageEl.getBoundingClientRect();return[(u[0].pageX+(u[1].pageX-u[0].pageX)/2-M.x-r.scrollX)/o,(u[0].pageY+(u[1].pageY-u[0].pageY)/2-M.y-r.scrollY)/o]}function w(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}function E(M){const O=w();return!!(M.target.matches(O)||e.slides.filter(k=>k.contains(M.target)).length>0)}function T(M){const O=`.${e.params.zoom.containerClass}`;return!!(M.target.matches(O)||[...e.hostEl.querySelectorAll(O)].filter(k=>k.contains(M.target)).length>0)}function A(M){if(M.pointerType==="mouse"&&u.splice(0,u.length),!E(M))return;const O=e.params.zoom;if(l=!1,c=!1,u.push(M),!(u.length<2)){if(l=!0,d.scaleStart=m(),!d.slideEl){d.slideEl=M.target.closest(`.${e.params.slideClass}, swiper-slide`),d.slideEl||(d.slideEl=e.slides[e.activeIndex]);let k=d.slideEl.querySelector(`.${O.containerClass}`);if(k&&(k=k.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=k,k?d.imageWrapEl=wt(d.imageEl,`.${O.containerClass}`)[0]:d.imageWrapEl=void 0,!d.imageWrapEl){d.imageEl=void 0;return}d.maxRatio=v()}if(d.imageEl){const[k,H]=g();d.originX=k,d.originY=H,d.imageEl.style.transitionDuration="0ms"}a=!0}}function I(M){if(!E(M))return;const O=e.params.zoom,k=e.zoom,H=u.findIndex($=>$.pointerId===M.pointerId);H>=0&&(u[H]=M),!(u.length<2)&&(c=!0,d.scaleMove=m(),d.imageEl&&(k.scale=d.scaleMove/d.scaleStart*o,k.scale>d.maxRatio&&(k.scale=d.maxRatio-1+(k.scale-d.maxRatio+1)**.5),k.scale<O.minRatio&&(k.scale=O.minRatio+1-(O.minRatio-k.scale+1)**.5),d.imageEl.style.transform=`translate3d(0,0,0) scale(${k.scale})`))}function P(M){if(!E(M)||M.pointerType==="mouse"&&M.type==="pointerout")return;const O=e.params.zoom,k=e.zoom,H=u.findIndex($=>$.pointerId===M.pointerId);H>=0&&u.splice(H,1),!(!l||!c)&&(l=!1,c=!1,d.imageEl&&(k.scale=Math.max(Math.min(k.scale,d.maxRatio),O.minRatio),d.imageEl.style.transitionDuration=`${e.params.speed}ms`,d.imageEl.style.transform=`translate3d(0,0,0) scale(${k.scale})`,o=k.scale,a=!1,k.scale>1&&d.slideEl?d.slideEl.classList.add(`${O.zoomedSlideClass}`):k.scale<=1&&d.slideEl&&d.slideEl.classList.remove(`${O.zoomedSlideClass}`),k.scale===1&&(d.originX=0,d.originY=0,d.slideEl=void 0)))}function _(M){const O=e.device;if(!d.imageEl||f.isTouched)return;O.android&&M.cancelable&&M.preventDefault(),f.isTouched=!0;const k=u.length>0?u[0]:M;f.touchesStart.x=k.pageX,f.touchesStart.y=k.pageY}function y(M){if(!E(M)||!T(M))return;const O=e.zoom;if(!d.imageEl||!f.isTouched||!d.slideEl)return;f.isMoved||(f.width=d.imageEl.offsetWidth,f.height=d.imageEl.offsetHeight,f.startX=dr(d.imageWrapEl,"x")||0,f.startY=dr(d.imageWrapEl,"y")||0,d.slideWidth=d.slideEl.offsetWidth,d.slideHeight=d.slideEl.offsetHeight,d.imageWrapEl.style.transitionDuration="0ms");const k=f.width*O.scale,H=f.height*O.scale;if(k<d.slideWidth&&H<d.slideHeight)return;if(f.minX=Math.min(d.slideWidth/2-k/2,0),f.maxX=-f.minX,f.minY=Math.min(d.slideHeight/2-H/2,0),f.maxY=-f.minY,f.touchesCurrent.x=u.length>0?u[0].pageX:M.pageX,f.touchesCurrent.y=u.length>0?u[0].pageY:M.pageY,Math.max(Math.abs(f.touchesCurrent.x-f.touchesStart.x),Math.abs(f.touchesCurrent.y-f.touchesStart.y))>5&&(e.allowClick=!1),!f.isMoved&&!a){if(e.isHorizontal()&&(Math.floor(f.minX)===Math.floor(f.startX)&&f.touchesCurrent.x<f.touchesStart.x||Math.floor(f.maxX)===Math.floor(f.startX)&&f.touchesCurrent.x>f.touchesStart.x)){f.isTouched=!1;return}if(!e.isHorizontal()&&(Math.floor(f.minY)===Math.floor(f.startY)&&f.touchesCurrent.y<f.touchesStart.y||Math.floor(f.maxY)===Math.floor(f.startY)&&f.touchesCurrent.y>f.touchesStart.y)){f.isTouched=!1;return}}M.cancelable&&M.preventDefault(),M.stopPropagation(),f.isMoved=!0;const z=(O.scale-o)/(d.maxRatio-e.params.zoom.minRatio),{originX:V,originY:ie}=d;f.currentX=f.touchesCurrent.x-f.touchesStart.x+f.startX+z*(f.width-V*2),f.currentY=f.touchesCurrent.y-f.touchesStart.y+f.startY+z*(f.height-ie*2),f.currentX<f.minX&&(f.currentX=f.minX+1-(f.minX-f.currentX+1)**.8),f.currentX>f.maxX&&(f.currentX=f.maxX-1+(f.currentX-f.maxX+1)**.8),f.currentY<f.minY&&(f.currentY=f.minY+1-(f.minY-f.currentY+1)**.8),f.currentY>f.maxY&&(f.currentY=f.maxY-1+(f.currentY-f.maxY+1)**.8),p.prevPositionX||(p.prevPositionX=f.touchesCurrent.x),p.prevPositionY||(p.prevPositionY=f.touchesCurrent.y),p.prevTime||(p.prevTime=Date.now()),p.x=(f.touchesCurrent.x-p.prevPositionX)/(Date.now()-p.prevTime)/2,p.y=(f.touchesCurrent.y-p.prevPositionY)/(Date.now()-p.prevTime)/2,Math.abs(f.touchesCurrent.x-p.prevPositionX)<2&&(p.x=0),Math.abs(f.touchesCurrent.y-p.prevPositionY)<2&&(p.y=0),p.prevPositionX=f.touchesCurrent.x,p.prevPositionY=f.touchesCurrent.y,p.prevTime=Date.now(),d.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}function x(){const M=e.zoom;if(!d.imageEl)return;if(!f.isTouched||!f.isMoved){f.isTouched=!1,f.isMoved=!1;return}f.isTouched=!1,f.isMoved=!1;let O=300,k=300;const H=p.x*O,$=f.currentX+H,z=p.y*k,V=f.currentY+z;p.x!==0&&(O=Math.abs(($-f.currentX)/p.x)),p.y!==0&&(k=Math.abs((V-f.currentY)/p.y));const ie=Math.max(O,k);f.currentX=$,f.currentY=V;const ti=f.width*M.scale,Le=f.height*M.scale;f.minX=Math.min(d.slideWidth/2-ti/2,0),f.maxX=-f.minX,f.minY=Math.min(d.slideHeight/2-Le/2,0),f.maxY=-f.minY,f.currentX=Math.max(Math.min(f.currentX,f.maxX),f.minX),f.currentY=Math.max(Math.min(f.currentY,f.maxY),f.minY),d.imageWrapEl.style.transitionDuration=`${ie}ms`,d.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}function R(){const M=e.zoom;d.slideEl&&e.activeIndex!==e.slides.indexOf(d.slideEl)&&(d.imageEl&&(d.imageEl.style.transform="translate3d(0,0,0) scale(1)"),d.imageWrapEl&&(d.imageWrapEl.style.transform="translate3d(0,0,0)"),d.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),M.scale=1,o=1,d.slideEl=void 0,d.imageEl=void 0,d.imageWrapEl=void 0,d.originX=0,d.originY=0)}function C(M){const O=e.zoom,k=e.params.zoom;if(!d.slideEl){M&&M.target&&(d.slideEl=M.target.closest(`.${e.params.slideClass}, swiper-slide`)),d.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?d.slideEl=de(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:d.slideEl=e.slides[e.activeIndex]);let ln=d.slideEl.querySelector(`.${k.containerClass}`);ln&&(ln=ln.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=ln,ln?d.imageWrapEl=wt(d.imageEl,`.${k.containerClass}`)[0]:d.imageWrapEl=void 0}if(!d.imageEl||!d.imageWrapEl)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),d.slideEl.classList.add(`${k.zoomedSlideClass}`);let H,$,z,V,ie,ti,Le,ft,po,mo,go,vo,ni,ii,cs,ds,us,fs;typeof f.touchesStart.x>"u"&&M?(H=M.pageX,$=M.pageY):(H=f.touchesStart.x,$=f.touchesStart.y);const an=typeof M=="number"?M:null;o===1&&an&&(H=void 0,$=void 0);const _o=v();O.scale=an||_o,o=an||_o,M&&!(o===1&&an)?(us=d.slideEl.offsetWidth,fs=d.slideEl.offsetHeight,z=Hi(d.slideEl).left+r.scrollX,V=Hi(d.slideEl).top+r.scrollY,ie=z+us/2-H,ti=V+fs/2-$,po=d.imageEl.offsetWidth,mo=d.imageEl.offsetHeight,go=po*O.scale,vo=mo*O.scale,ni=Math.min(us/2-go/2,0),ii=Math.min(fs/2-vo/2,0),cs=-ni,ds=-ii,Le=ie*O.scale,ft=ti*O.scale,Le<ni&&(Le=ni),Le>cs&&(Le=cs),ft<ii&&(ft=ii),ft>ds&&(ft=ds)):(Le=0,ft=0),an&&O.scale===1&&(d.originX=0,d.originY=0),d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform=`translate3d(${Le}px, ${ft}px,0)`,d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform=`translate3d(0,0,0) scale(${O.scale})`}function b(){const M=e.zoom,O=e.params.zoom;if(!d.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?d.slideEl=de(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:d.slideEl=e.slides[e.activeIndex];let k=d.slideEl.querySelector(`.${O.containerClass}`);k&&(k=k.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=k,k?d.imageWrapEl=wt(d.imageEl,`.${O.containerClass}`)[0]:d.imageWrapEl=void 0}!d.imageEl||!d.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),M.scale=1,o=1,d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform="translate3d(0,0,0)",d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform="translate3d(0,0,0) scale(1)",d.slideEl.classList.remove(`${O.zoomedSlideClass}`),d.slideEl=void 0,d.originX=0,d.originY=0)}function S(M){const O=e.zoom;O.scale&&O.scale!==1?b():C(M)}function N(){const M=e.params.passiveListeners?{passive:!0,capture:!1}:!1,O=e.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:M,activeListenerWithCapture:O}}function B(){const M=e.zoom;if(M.enabled)return;M.enabled=!0;const{passiveListener:O,activeListenerWithCapture:k}=N();e.wrapperEl.addEventListener("pointerdown",A,O),e.wrapperEl.addEventListener("pointermove",I,k),["pointerup","pointercancel","pointerout"].forEach(H=>{e.wrapperEl.addEventListener(H,P,O)}),e.wrapperEl.addEventListener("pointermove",y,k)}function D(){const M=e.zoom;if(!M.enabled)return;M.enabled=!1;const{passiveListener:O,activeListenerWithCapture:k}=N();e.wrapperEl.removeEventListener("pointerdown",A,O),e.wrapperEl.removeEventListener("pointermove",I,k),["pointerup","pointercancel","pointerout"].forEach(H=>{e.wrapperEl.removeEventListener(H,P,O)}),e.wrapperEl.removeEventListener("pointermove",y,k)}i("init",()=>{e.params.zoom.enabled&&B()}),i("destroy",()=>{D()}),i("touchStart",(M,O)=>{e.zoom.enabled&&_(O)}),i("touchEnd",(M,O)=>{e.zoom.enabled&&x()}),i("doubleTap",(M,O)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&S(O)}),i("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&R()}),i("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&R()}),Object.assign(e.zoom,{enable:B,disable:D,in:C,out:b,toggle:S})}function gw(n){let{swiper:e,extendParams:t,on:i}=n;t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function s(c,u){const d=function(){let m,v,g;return(w,E)=>{for(v=-1,m=w.length;m-v>1;)g=m+v>>1,w[g]<=E?v=g:m=g;return m}}();this.x=c,this.y=u,this.lastIndex=c.length-1;let f,p;return this.interpolate=function(m){return m?(p=d(this.x,m),f=p-1,(m-this.x[f])*(this.y[p]-this.y[f])/(this.x[p]-this.x[f])+this.y[f]):0},this}function r(c){e.controller.spline=e.params.loop?new s(e.slidesGrid,c.slidesGrid):new s(e.snapGrid,c.snapGrid)}function o(c,u){const d=e.controller.control;let f,p;const h=e.constructor;function m(v){if(v.destroyed)return;const g=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(r(v),p=-e.controller.spline.interpolate(-g)),(!p||e.params.controller.by==="container")&&(f=(v.maxTranslate()-v.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(f)||!Number.isFinite(f))&&(f=1),p=(g-e.minTranslate())*f+v.minTranslate()),e.params.controller.inverse&&(p=v.maxTranslate()-p),v.updateProgress(p),v.setTranslate(p,e),v.updateActiveIndex(),v.updateSlidesClasses()}if(Array.isArray(d))for(let v=0;v<d.length;v+=1)d[v]!==u&&d[v]instanceof h&&m(d[v]);else d instanceof h&&u!==d&&m(d)}function a(c,u){const d=e.constructor,f=e.controller.control;let p;function h(m){m.destroyed||(m.setTransition(c,e),c!==0&&(m.transitionStart(),m.params.autoHeight&&Pt(()=>{m.updateAutoHeight()}),Cn(m.wrapperEl,()=>{f&&m.transitionEnd()})))}if(Array.isArray(f))for(p=0;p<f.length;p+=1)f[p]!==u&&f[p]instanceof d&&h(f[p]);else f instanceof d&&u!==f&&h(f)}function l(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}i("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){const c=document.querySelector(e.params.controller.control);if(c&&c.swiper)e.controller.control=c.swiper;else if(c){const u=d=>{e.controller.control=d.detail[0],e.update(),c.removeEventListener("init",u)};c.addEventListener("init",u)}return}e.controller.control=e.params.controller.control}),i("update",()=>{l()}),i("resize",()=>{l()}),i("observerUpdate",()=>{l()}),i("setTranslate",(c,u,d)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(u,d)}),i("setTransition",(c,u,d)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(u,d)}),Object.assign(e.controller,{setTranslate:o,setTransition:a})}function vw(n){let{swiper:e,extendParams:t,on:i}=n;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let s=null;function r(b){const S=s;S.length!==0&&(S.innerHTML="",S.innerHTML=b)}function o(b){b===void 0&&(b=16);const S=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(b).replace(/x/g,S)}function a(b){b=Y(b),b.forEach(S=>{S.setAttribute("tabIndex","0")})}function l(b){b=Y(b),b.forEach(S=>{S.setAttribute("tabIndex","-1")})}function c(b,S){b=Y(b),b.forEach(N=>{N.setAttribute("role",S)})}function u(b,S){b=Y(b),b.forEach(N=>{N.setAttribute("aria-roledescription",S)})}function d(b,S){b=Y(b),b.forEach(N=>{N.setAttribute("aria-controls",S)})}function f(b,S){b=Y(b),b.forEach(N=>{N.setAttribute("aria-label",S)})}function p(b,S){b=Y(b),b.forEach(N=>{N.setAttribute("id",S)})}function h(b,S){b=Y(b),b.forEach(N=>{N.setAttribute("aria-live",S)})}function m(b){b=Y(b),b.forEach(S=>{S.setAttribute("aria-disabled",!0)})}function v(b){b=Y(b),b.forEach(S=>{S.setAttribute("aria-disabled",!1)})}function g(b){if(b.keyCode!==13&&b.keyCode!==32)return;const S=e.params.a11y,N=b.target;e.pagination&&e.pagination.el&&(N===e.pagination.el||e.pagination.el.contains(b.target))&&!b.target.matches(De(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&N===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?r(S.lastSlideMessage):r(S.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&N===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?r(S.firstSlideMessage):r(S.prevSlideMessage)),e.pagination&&N.matches(De(e.params.pagination.bulletClass))&&N.click())}function w(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:b,prevEl:S}=e.navigation;S&&(e.isBeginning?(m(S),l(S)):(v(S),a(S))),b&&(e.isEnd?(m(b),l(b)):(v(b),a(b)))}function E(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function T(){return E()&&e.params.pagination.clickable}function A(){const b=e.params.a11y;E()&&e.pagination.bullets.forEach(S=>{e.params.pagination.clickable&&(a(S),e.params.pagination.renderBullet||(c(S,"button"),f(S,b.paginationBulletMessage.replace(/\{\{index\}\}/,zn(S)+1)))),S.matches(De(e.params.pagination.bulletActiveClass))?S.setAttribute("aria-current","true"):S.removeAttribute("aria-current")})}const I=(b,S,N)=>{a(b),b.tagName!=="BUTTON"&&(c(b,"button"),b.addEventListener("keydown",g)),f(b,N),d(b,S)},P=()=>{e.a11y.clicked=!0},_=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},y=b=>{if(e.a11y.clicked)return;const S=b.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!S||!e.slides.includes(S))return;const N=e.slides.indexOf(S)===e.activeIndex,B=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(S);N||B||b.sourceCapabilities&&b.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(S),0))},x=()=>{const b=e.params.a11y;b.itemRoleDescriptionMessage&&u(e.slides,b.itemRoleDescriptionMessage),b.slideRole&&c(e.slides,b.slideRole);const S=e.slides.length;b.slideLabelMessage&&e.slides.forEach((N,B)=>{const D=e.params.loop?parseInt(N.getAttribute("data-swiper-slide-index"),10):B,M=b.slideLabelMessage.replace(/\{\{index\}\}/,D+1).replace(/\{\{slidesLength\}\}/,S);f(N,M)})},R=()=>{const b=e.params.a11y;e.el.append(s);const S=e.el;b.containerRoleDescriptionMessage&&u(S,b.containerRoleDescriptionMessage),b.containerMessage&&f(S,b.containerMessage);const N=e.wrapperEl,B=b.id||N.getAttribute("id")||`swiper-wrapper-${o(16)}`,D=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";p(N,B),h(N,D),x();let{nextEl:M,prevEl:O}=e.navigation?e.navigation:{};M=Y(M),O=Y(O),M&&M.forEach(k=>I(k,B,b.nextSlideMessage)),O&&O.forEach(k=>I(k,B,b.prevSlideMessage)),T()&&Y(e.pagination.el).forEach(H=>{H.addEventListener("keydown",g)}),e.el.addEventListener("focus",y,!0),e.el.addEventListener("pointerdown",P,!0),e.el.addEventListener("pointerup",_,!0)};function C(){s&&s.remove();let{nextEl:b,prevEl:S}=e.navigation?e.navigation:{};b=Y(b),S=Y(S),b&&b.forEach(N=>N.removeEventListener("keydown",g)),S&&S.forEach(N=>N.removeEventListener("keydown",g)),T()&&Y(e.pagination.el).forEach(B=>{B.removeEventListener("keydown",g)}),e.el.removeEventListener("focus",y,!0),e.el.removeEventListener("pointerdown",P,!0),e.el.removeEventListener("pointerup",_,!0)}i("beforeInit",()=>{s=we("span",e.params.a11y.notificationClass),s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&R()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&x()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&w()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&A()}),i("destroy",()=>{e.params.a11y.enabled&&C()})}function _w(n){let{swiper:e,extendParams:t,on:i}=n;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let s=!1,r={};const o=p=>p.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=p=>{const h=ne();let m;p?m=new URL(p):m=h.location;const v=m.pathname.slice(1).split("/").filter(T=>T!==""),g=v.length,w=v[g-2],E=v[g-1];return{key:w,value:E}},l=(p,h)=>{const m=ne();if(!s||!e.params.history.enabled)return;let v;e.params.url?v=new URL(e.params.url):v=m.location;const g=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${h}"]`):e.slides[h];let w=o(g.getAttribute("data-history"));if(e.params.history.root.length>0){let T=e.params.history.root;T[T.length-1]==="/"&&(T=T.slice(0,T.length-1)),w=`${T}/${p?`${p}/`:""}${w}`}else v.pathname.includes(p)||(w=`${p?`${p}/`:""}${w}`);e.params.history.keepQuery&&(w+=v.search);const E=m.history.state;E&&E.value===w||(e.params.history.replaceState?m.history.replaceState({value:w},null,w):m.history.pushState({value:w},null,w))},c=(p,h,m)=>{if(h)for(let v=0,g=e.slides.length;v<g;v+=1){const w=e.slides[v];if(o(w.getAttribute("data-history"))===h){const T=e.getSlideIndex(w);e.slideTo(T,p,m)}}else e.slideTo(0,p,m)},u=()=>{r=a(e.params.url),c(e.params.speed,r.value,!1)},d=()=>{const p=ne();if(e.params.history){if(!p.history||!p.history.pushState){e.params.history.enabled=!1,e.params.hashNavigation.enabled=!0;return}if(s=!0,r=a(e.params.url),!r.key&&!r.value){e.params.history.replaceState||p.addEventListener("popstate",u);return}c(0,r.value,e.params.runCallbacksOnInit),e.params.history.replaceState||p.addEventListener("popstate",u)}},f=()=>{const p=ne();e.params.history.replaceState||p.removeEventListener("popstate",u)};i("init",()=>{e.params.history.enabled&&d()}),i("destroy",()=>{e.params.history.enabled&&f()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{s&&l(e.params.history.key,e.activeIndex)}),i("slideChange",()=>{s&&e.params.cssMode&&l(e.params.history.key,e.activeIndex)})}function yw(n){let{swiper:e,extendParams:t,emit:i,on:s}=n,r=!1;const o=pe(),a=ne();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(f,p){if(e.virtual&&e.params.virtual.enabled){const h=e.slides.filter(v=>v.getAttribute("data-hash")===p)[0];return h?parseInt(h.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(de(e.slidesEl,`.${e.params.slideClass}[data-hash="${p}"], swiper-slide[data-hash="${p}"]`)[0])}}});const l=()=>{i("hashChange");const f=o.location.hash.replace("#",""),p=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],h=p?p.getAttribute("data-hash"):"";if(f!==h){const m=e.params.hashNavigation.getSlideIndex(e,f);if(typeof m>"u"||Number.isNaN(m))return;e.slideTo(m)}},c=()=>{if(!r||!e.params.hashNavigation.enabled)return;const f=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],p=f?f.getAttribute("data-hash")||f.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&a.history&&a.history.replaceState?(a.history.replaceState(null,null,`#${p}`||""),i("hashSet")):(o.location.hash=p||"",i("hashSet"))},u=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;r=!0;const f=o.location.hash.replace("#","");if(f){const h=e.params.hashNavigation.getSlideIndex(e,f);e.slideTo(h||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&a.addEventListener("hashchange",l)},d=()=>{e.params.hashNavigation.watchState&&a.removeEventListener("hashchange",l)};s("init",()=>{e.params.hashNavigation.enabled&&u()}),s("destroy",()=>{e.params.hashNavigation.enabled&&d()}),s("transitionEnd _freeModeNoMomentumRelease",()=>{r&&c()}),s("slideChange",()=>{r&&e.params.cssMode&&c()})}function ww(n){let{swiper:e,extendParams:t,on:i,emit:s,params:r}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=r&&r.autoplay?r.autoplay.delay:3e3,c=r&&r.autoplay?r.autoplay.delay:3e3,u,d=new Date().getTime(),f,p,h,m,v,g,w;function E(M){!e||e.destroyed||!e.wrapperEl||M.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",E),!w&&x())}const T=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(c=u,f=!1);const M=e.autoplay.paused?u:d+c-new Date().getTime();e.autoplay.timeLeft=M,s("autoplayTimeLeft",M,M/l),a=requestAnimationFrame(()=>{T()})},A=()=>{let M;return e.virtual&&e.params.virtual.enabled?M=e.slides.filter(k=>k.classList.contains("swiper-slide-active"))[0]:M=e.slides[e.activeIndex],M?parseInt(M.getAttribute("data-swiper-autoplay"),10):void 0},I=M=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),T();let O=typeof M>"u"?e.params.autoplay.delay:M;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const k=A();!Number.isNaN(k)&&k>0&&typeof M>"u"&&(O=k,l=k,c=k),u=O;const H=e.params.speed,$=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(H,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,H,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(H,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,H,!0,!0),s("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{I()})))};return O>0?(clearTimeout(o),o=setTimeout(()=>{$()},O)):requestAnimationFrame(()=>{$()}),O},P=()=>{d=new Date().getTime(),e.autoplay.running=!0,I(),s("autoplayStart")},_=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),s("autoplayStop")},y=(M,O)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),M||(g=!0);const k=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",E):x()};if(e.autoplay.paused=!0,O){v&&(u=e.params.autoplay.delay),v=!1,k();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),k())},x=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),g?(g=!1,I(u)):I(),e.autoplay.paused=!1,s("autoplayResume"))},R=()=>{if(e.destroyed||!e.autoplay.running)return;const M=pe();M.visibilityState==="hidden"&&(g=!0,y(!0)),M.visibilityState==="visible"&&x()},C=M=>{M.pointerType==="mouse"&&(g=!0,w=!0,!(e.animating||e.autoplay.paused)&&y(!0))},b=M=>{M.pointerType==="mouse"&&(w=!1,e.autoplay.paused&&x())},S=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",C),e.el.addEventListener("pointerleave",b))},N=()=>{e.el.removeEventListener("pointerenter",C),e.el.removeEventListener("pointerleave",b)},B=()=>{pe().addEventListener("visibilitychange",R)},D=()=>{pe().removeEventListener("visibilitychange",R)};i("init",()=>{e.params.autoplay.enabled&&(S(),B(),P())}),i("destroy",()=>{N(),D(),e.autoplay.running&&_()}),i("_freeModeStaticRelease",()=>{(h||g)&&x()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?_():y(!0,!0)}),i("beforeTransitionStart",(M,O,k)=>{e.destroyed||!e.autoplay.running||(k||!e.params.autoplay.disableOnInteraction?y(!0,!0):_())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){_();return}p=!0,h=!1,g=!1,m=setTimeout(()=>{g=!0,h=!0,y(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(m),clearTimeout(o),e.params.autoplay.disableOnInteraction){h=!1,p=!1;return}h&&e.params.cssMode&&x(),h=!1,p=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(v=!0)}),Object.assign(e.autoplay,{start:P,stop:_,pause:y,resume:x})}function Ew(n){let{swiper:e,extendParams:t,on:i}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let s=!1,r=!1;e.thumbs={swiper:null};function o(){const c=e.thumbs.swiper;if(!c||c.destroyed)return;const u=c.clickedIndex,d=c.clickedSlide;if(d&&d.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof u>"u"||u===null)return;let f;c.params.loop?f=parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):f=u,e.params.loop?e.slideToLoop(f):e.slideTo(f)}function a(){const{thumbs:c}=e.params;if(s)return!1;s=!0;const u=e.constructor;if(c.swiper instanceof u)e.thumbs.swiper=c.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(vn(c.swiper)){const d=Object.assign({},c.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new u(d),r=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function l(c){const u=e.thumbs.swiper;if(!u||u.destroyed)return;const d=u.params.slidesPerView==="auto"?u.slidesPerViewDynamic():u.params.slidesPerView;let f=1;const p=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(f=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(f=1),f=Math.floor(f),u.slides.forEach(v=>v.classList.remove(p)),u.params.loop||u.params.virtual&&u.params.virtual.enabled)for(let v=0;v<f;v+=1)de(u.slidesEl,`[data-swiper-slide-index="${e.realIndex+v}"]`).forEach(g=>{g.classList.add(p)});else for(let v=0;v<f;v+=1)u.slides[e.realIndex+v]&&u.slides[e.realIndex+v].classList.add(p);const h=e.params.thumbs.autoScrollOffset,m=h&&!u.params.loop;if(e.realIndex!==u.realIndex||m){const v=u.activeIndex;let g,w;if(u.params.loop){const E=u.slides.filter(T=>T.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];g=u.slides.indexOf(E),w=e.activeIndex>e.previousIndex?"next":"prev"}else g=e.realIndex,w=g>e.previousIndex?"next":"prev";m&&(g+=w==="next"?h:-1*h),u.visibleSlidesIndexes&&u.visibleSlidesIndexes.indexOf(g)<0&&(u.params.centeredSlides?g>v?g=g-Math.floor(d/2)+1:g=g+Math.floor(d/2)-1:g>v&&u.params.slidesPerGroup,u.slideTo(g,c?0:void 0))}}i("beforeInit",()=>{const{thumbs:c}=e.params;if(!(!c||!c.swiper))if(typeof c.swiper=="string"||c.swiper instanceof HTMLElement){const u=pe(),d=()=>{const p=typeof c.swiper=="string"?u.querySelector(c.swiper):c.swiper;if(p&&p.swiper)c.swiper=p.swiper,a(),l(!0);else if(p){const h=m=>{c.swiper=m.detail[0],p.removeEventListener("init",h),a(),l(!0),c.swiper.update(),e.update()};p.addEventListener("init",h)}return p},f=()=>{if(e.destroyed)return;d()||requestAnimationFrame(f)};requestAnimationFrame(f)}else a(),l(!0)}),i("slideChange update resize observerUpdate",()=>{l()}),i("setTransition",(c,u)=>{const d=e.thumbs.swiper;!d||d.destroyed||d.setTransition(u)}),i("beforeDestroy",()=>{const c=e.thumbs.swiper;!c||c.destroyed||r&&c.destroy()}),Object.assign(e.thumbs,{init:a,update:l})}function bw(n){let{swiper:e,extendParams:t,emit:i,once:s}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;const{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:be()})}function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:f,snapGrid:p,touchEventsData:h}=e,v=be()-h.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<p.length?e.slideTo(p.length-1):e.slideTo(e.slides.length-1);return}if(u.freeMode.momentum){if(h.velocities.length>1){const _=h.velocities.pop(),y=h.velocities.pop(),x=_.position-y.position,R=_.time-y.time;e.velocity=x/R,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(R>150||be()-_.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,h.velocities.length=0;let g=1e3*u.freeMode.momentumRatio;const w=e.velocity*g;let E=e.translate+w;f&&(E=-E);let T=!1,A;const I=Math.abs(e.velocity)*20*u.freeMode.momentumBounceRatio;let P;if(E<e.maxTranslate())u.freeMode.momentumBounce?(E+e.maxTranslate()<-I&&(E=e.maxTranslate()-I),A=e.maxTranslate(),T=!0,h.allowMomentumBounce=!0):E=e.maxTranslate(),u.loop&&u.centeredSlides&&(P=!0);else if(E>e.minTranslate())u.freeMode.momentumBounce?(E-e.minTranslate()>I&&(E=e.minTranslate()+I),A=e.minTranslate(),T=!0,h.allowMomentumBounce=!0):E=e.minTranslate(),u.loop&&u.centeredSlides&&(P=!0);else if(u.freeMode.sticky){let _;for(let y=0;y<p.length;y+=1)if(p[y]>-E){_=y;break}Math.abs(p[_]-E)<Math.abs(p[_-1]-E)||e.swipeDirection==="next"?E=p[_]:E=p[_-1],E=-E}if(P&&s("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?g=Math.abs((-E-e.translate)/e.velocity):g=Math.abs((E-e.translate)/e.velocity),u.freeMode.sticky){const _=Math.abs((f?-E:E)-e.translate),y=e.slidesSizesGrid[e.activeIndex];_<y?g=u.speed:_<2*y?g=u.speed*1.5:g=u.speed*2.5}}else if(u.freeMode.sticky){e.slideToClosest();return}u.freeMode.momentumBounce&&T?(e.updateProgress(A),e.setTransition(g),e.setTranslate(E),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Cn(d,()=>{!e||e.destroyed||!h.allowMomentumBounce||(i("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(A),Cn(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(E),e.setTransition(g),e.setTranslate(E),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Cn(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(E),e.updateActiveIndex(),e.updateSlidesClasses()}else if(u.freeMode.sticky){e.slideToClosest();return}else u.freeMode&&i("_freeModeNoMomentumRelease");(!u.freeMode.momentum||v>=u.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:o,onTouchEnd:a}})}function Tw(n){let{swiper:e,extendParams:t,on:i}=n;t({grid:{rows:1,fill:"column"}});let s,r,o,a;const l=()=>{let m=e.params.spaceBetween;return typeof m=="string"&&m.indexOf("%")>=0?m=parseFloat(m.replace("%",""))/100*e.size:typeof m=="string"&&(m=parseFloat(m)),m},c=m=>{const{slidesPerView:v}=e.params,{rows:g,fill:w}=e.params.grid,E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:m.length;o=Math.floor(E/g),Math.floor(E/g)===E/g?s=E:s=Math.ceil(E/g)*g,v!=="auto"&&w==="row"&&(s=Math.max(s,v*g)),r=s/g},u=()=>{e.slides&&e.slides.forEach(m=>{m.swiperSlideGridSet&&(m.style.height="",m.style[e.getDirectionLabel("margin-top")]="")})},d=(m,v,g)=>{const{slidesPerGroup:w}=e.params,E=l(),{rows:T,fill:A}=e.params.grid,I=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:g.length;let P,_,y;if(A==="row"&&w>1){const x=Math.floor(m/(w*T)),R=m-T*w*x,C=x===0?w:Math.min(Math.ceil((I-x*T*w)/T),w);y=Math.floor(R/C),_=R-y*C+x*w,P=_+y*s/T,v.style.order=P}else A==="column"?(_=Math.floor(m/T),y=m-_*T,(_>o||_===o&&y===T-1)&&(y+=1,y>=T&&(y=0,_+=1))):(y=Math.floor(m/r),_=m-y*r);v.row=y,v.column=_,v.style.height=`calc((100% - ${(T-1)*E}px) / ${T})`,v.style[e.getDirectionLabel("margin-top")]=y!==0?E&&`${E}px`:"",v.swiperSlideGridSet=!0},f=(m,v)=>{const{centeredSlides:g,roundLengths:w}=e.params,E=l(),{rows:T}=e.params.grid;if(e.virtualSize=(m+E)*s,e.virtualSize=Math.ceil(e.virtualSize/T)-E,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+E}px`),g){const A=[];for(let I=0;I<v.length;I+=1){let P=v[I];w&&(P=Math.floor(P)),v[I]<e.virtualSize+v[0]&&A.push(P)}v.splice(0,v.length),v.push(...A)}},p=()=>{a=e.params.grid&&e.params.grid.rows>1},h=()=>{const{params:m,el:v}=e,g=m.grid&&m.grid.rows>1;a&&!g?(v.classList.remove(`${m.containerModifierClass}grid`,`${m.containerModifierClass}grid-column`),o=1,e.emitContainerClasses()):!a&&g&&(v.classList.add(`${m.containerModifierClass}grid`),m.grid.fill==="column"&&v.classList.add(`${m.containerModifierClass}grid-column`),e.emitContainerClasses()),a=g};i("init",p),i("update",h),e.grid={initSlides:c,unsetSlides:u,updateSlide:d,updateWrapperSize:f}}function Sw(n){const e=this,{params:t,slidesEl:i}=e;t.loop&&e.loopDestroy();const s=r=>{if(typeof r=="string"){const o=document.createElement("div");o.innerHTML=r,i.append(o.children[0]),o.innerHTML=""}else i.append(r)};if(typeof n=="object"&&"length"in n)for(let r=0;r<n.length;r+=1)n[r]&&s(n[r]);else s(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update()}function Cw(n){const e=this,{params:t,activeIndex:i,slidesEl:s}=e;t.loop&&e.loopDestroy();let r=i+1;const o=a=>{if(typeof a=="string"){const l=document.createElement("div");l.innerHTML=a,s.prepend(l.children[0]),l.innerHTML=""}else s.prepend(a)};if(typeof n=="object"&&"length"in n){for(let a=0;a<n.length;a+=1)n[a]&&o(n[a]);r=i+n.length}else o(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(r,0,!1)}function Iw(n,e){const t=this,{params:i,activeIndex:s,slidesEl:r}=t;let o=s;i.loop&&(o-=t.loopedSlides,t.loopDestroy(),t.recalcSlides());const a=t.slides.length;if(n<=0){t.prependSlide(e);return}if(n>=a){t.appendSlide(e);return}let l=o>n?o+1:o;const c=[];for(let u=a-1;u>=n;u-=1){const d=t.slides[u];d.remove(),c.unshift(d)}if(typeof e=="object"&&"length"in e){for(let u=0;u<e.length;u+=1)e[u]&&r.append(e[u]);l=o>n?o+e.length:o}else r.append(e);for(let u=0;u<c.length;u+=1)r.append(c[u]);t.recalcSlides(),i.loop&&t.loopCreate(),(!i.observer||t.isElement)&&t.update(),i.loop?t.slideTo(l+t.loopedSlides,0,!1):t.slideTo(l,0,!1)}function xw(n){const e=this,{params:t,activeIndex:i}=e;let s=i;t.loop&&(s-=e.loopedSlides,e.loopDestroy());let r=s,o;if(typeof n=="object"&&"length"in n){for(let a=0;a<n.length;a+=1)o=n[a],e.slides[o]&&e.slides[o].remove(),o<r&&(r-=1);r=Math.max(r,0)}else o=n,e.slides[o]&&e.slides[o].remove(),o<r&&(r-=1),r=Math.max(r,0);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),t.loop?e.slideTo(r+e.loopedSlides,0,!1):e.slideTo(r,0,!1)}function Pw(){const n=this,e=[];for(let t=0;t<n.slides.length;t+=1)e.push(t);n.removeSlide(e)}function Aw(n){let{swiper:e}=n;Object.assign(e,{appendSlide:Sw.bind(e),prependSlide:Cw.bind(e),addSlide:Iw.bind(e),removeSlide:xw.bind(e),removeAllSlides:Pw.bind(e)})}function on(n){const{effect:e,swiper:t,on:i,setTranslate:s,setTransition:r,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=n;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),a&&a()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const d=o?o():{};Object.assign(t.params,d),Object.assign(t.originalParams,d)}),i("setTranslate",()=>{t.params.effect===e&&s()}),i("setTransition",(d,f)=>{t.params.effect===e&&r(f)}),i("transitionEnd",()=>{if(t.params.effect===e&&l){if(!c||!c().slideShadows)return;t.slides.forEach(d=>{d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>f.remove())}),l()}});let u;i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(u=!0),requestAnimationFrame(()=>{u&&t.slides&&t.slides.length&&(s(),u=!1)}))})}function ei(n,e){const t=Rt(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function as(n){let{swiper:e,duration:t,transformElements:i,allSlides:s}=n;const{activeIndex:r}=e,o=a=>a.parentElement?a.parentElement:e.slides.filter(c=>c.shadowRoot&&c.shadowRoot===a.parentNode)[0];if(e.params.virtualTranslate&&t!==0){let a=!1,l;s?l=i:l=i.filter(c=>{const u=c.classList.contains("swiper-slide-transform")?o(c):c;return e.getSlideIndex(u)===r}),l.forEach(c=>{Cn(c,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;const u=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(u)})})}}function Mw(n){let{swiper:e,extendParams:t,on:i}=n;t({fadeEffect:{crossFade:!1}}),on({effect:"fade",swiper:e,on:i,setTranslate:()=>{const{slides:o}=e,a=e.params.fadeEffect;for(let l=0;l<o.length;l+=1){const c=e.slides[l];let d=-c.swiperSlideOffset;e.params.virtualTranslate||(d-=e.translate);let f=0;e.isHorizontal()||(f=d,d=0);const p=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),h=ei(a,c);h.style.opacity=p,h.style.transform=`translate3d(${d}px, ${f}px, 0px)`}},setTransition:o=>{const a=e.slides.map(l=>Rt(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),as({swiper:e,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Rw(n){let{swiper:e,extendParams:t,on:i}=n;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const s=(l,c,u)=>{let d=u?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),f=u?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");d||(d=we("div",`swiper-slide-shadow-cube swiper-slide-shadow-${u?"left":"top"}`.split(" ")),l.append(d)),f||(f=we("div",`swiper-slide-shadow-cube swiper-slide-shadow-${u?"right":"bottom"}`.split(" ")),l.append(f)),d&&(d.style.opacity=Math.max(-c,0)),f&&(f.style.opacity=Math.max(c,0))};on({effect:"cube",swiper:e,on:i,setTranslate:()=>{const{el:l,wrapperEl:c,slides:u,width:d,height:f,rtlTranslate:p,size:h,browser:m}=e,v=e.params.cubeEffect,g=e.isHorizontal(),w=e.virtual&&e.params.virtual.enabled;let E=0,T;v.shadow&&(g?(T=e.wrapperEl.querySelector(".swiper-cube-shadow"),T||(T=we("div","swiper-cube-shadow"),e.wrapperEl.append(T)),T.style.height=`${d}px`):(T=l.querySelector(".swiper-cube-shadow"),T||(T=we("div","swiper-cube-shadow"),l.append(T))));for(let I=0;I<u.length;I+=1){const P=u[I];let _=I;w&&(_=parseInt(P.getAttribute("data-swiper-slide-index"),10));let y=_*90,x=Math.floor(y/360);p&&(y=-y,x=Math.floor(-y/360));const R=Math.max(Math.min(P.progress,1),-1);let C=0,b=0,S=0;_%4===0?(C=-x*4*h,S=0):(_-1)%4===0?(C=0,S=-x*4*h):(_-2)%4===0?(C=h+x*4*h,S=h):(_-3)%4===0&&(C=-h,S=3*h+h*4*x),p&&(C=-C),g||(b=C,C=0);const N=`rotateX(${g?0:-y}deg) rotateY(${g?y:0}deg) translate3d(${C}px, ${b}px, ${S}px)`;R<=1&&R>-1&&(E=_*90+R*90,p&&(E=-_*90-R*90),e.browser&&e.browser.need3dFix&&Math.abs(E)/90%2===1&&(E+=.001)),P.style.transform=N,v.slideShadows&&s(P,R,g)}if(c.style.transformOrigin=`50% 50% -${h/2}px`,c.style["-webkit-transform-origin"]=`50% 50% -${h/2}px`,v.shadow)if(g)T.style.transform=`translate3d(0px, ${d/2+v.shadowOffset}px, ${-d/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${v.shadowScale})`;else{const I=Math.abs(E)-Math.floor(Math.abs(E)/90)*90,P=1.5-(Math.sin(I*2*Math.PI/360)/2+Math.cos(I*2*Math.PI/360)/2),_=v.shadowScale,y=v.shadowScale/P,x=v.shadowOffset;T.style.transform=`scale3d(${_}, 1, ${y}) translate3d(0px, ${f/2+x}px, ${-f/2/y}px) rotateX(-89.99deg)`}const A=(m.isSafari||m.isWebView)&&m.needPerspectiveFix?-h/2:0;c.style.transform=`translate3d(0px,0,${A}px) rotateX(${e.isHorizontal()?0:E}deg) rotateY(${e.isHorizontal()?-E:0}deg)`,c.style.setProperty("--swiper-cube-translate-z",`${A}px`)},setTransition:l=>{const{el:c,slides:u}=e;if(u.forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${l}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const d=c.querySelector(".swiper-cube-shadow");d&&(d.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{const l=e.isHorizontal();e.slides.forEach(c=>{const u=Math.max(Math.min(c.progress,1),-1);s(c,u,l)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function Xt(n,e,t){const i=`swiper-slide-shadow${t?`-${t}`:""}${n?` swiper-slide-shadow-${n}`:""}`,s=Rt(e);let r=s.querySelector(`.${i.split(" ").join(".")}`);return r||(r=we("div",i.split(" ")),s.append(r)),r}function Ow(n){let{swiper:e,extendParams:t,on:i}=n;t({flipEffect:{slideShadows:!0,limitRotation:!0}});const s=(l,c)=>{let u=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),d=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");u||(u=Xt("flip",l,e.isHorizontal()?"left":"top")),d||(d=Xt("flip",l,e.isHorizontal()?"right":"bottom")),u&&(u.style.opacity=Math.max(-c,0)),d&&(d.style.opacity=Math.max(c,0))};on({effect:"flip",swiper:e,on:i,setTranslate:()=>{const{slides:l,rtlTranslate:c}=e,u=e.params.flipEffect;for(let d=0;d<l.length;d+=1){const f=l[d];let p=f.progress;e.params.flipEffect.limitRotation&&(p=Math.max(Math.min(f.progress,1),-1));const h=f.swiperSlideOffset;let v=-180*p,g=0,w=e.params.cssMode?-h-e.translate:-h,E=0;e.isHorizontal()?c&&(v=-v):(E=w,w=0,g=-v,v=0),e.browser&&e.browser.need3dFix&&(Math.abs(v)/90%2===1&&(v+=.001),Math.abs(g)/90%2===1&&(g+=.001)),f.style.zIndex=-Math.abs(Math.round(p))+l.length,u.slideShadows&&s(f,p);const T=`translate3d(${w}px, ${E}px, 0px) rotateX(${g}deg) rotateY(${v}deg)`,A=ei(u,f);A.style.transform=T}},setTransition:l=>{const c=e.slides.map(u=>Rt(u));c.forEach(u=>{u.style.transitionDuration=`${l}ms`,u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(d=>{d.style.transitionDuration=`${l}ms`})}),as({swiper:e,duration:l,transformElements:c})},recreateShadows:()=>{e.params.flipEffect,e.slides.forEach(l=>{let c=l.progress;e.params.flipEffect.limitRotation&&(c=Math.max(Math.min(l.progress,1),-1)),s(l,c)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Nw(n){let{swiper:e,extendParams:t,on:i}=n;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),on({effect:"coverflow",swiper:e,on:i,setTranslate:()=>{const{width:o,height:a,slides:l,slidesSizesGrid:c}=e,u=e.params.coverflowEffect,d=e.isHorizontal(),f=e.translate,p=d?-f+o/2:-f+a/2,h=d?u.rotate:-u.rotate,m=u.depth;for(let v=0,g=l.length;v<g;v+=1){const w=l[v],E=c[v],T=w.swiperSlideOffset,A=(p-T-E/2)/E,I=typeof u.modifier=="function"?u.modifier(A):A*u.modifier;let P=d?h*I:0,_=d?0:h*I,y=-m*Math.abs(I),x=u.stretch;typeof x=="string"&&x.indexOf("%")!==-1&&(x=parseFloat(u.stretch)/100*E);let R=d?0:x*I,C=d?x*I:0,b=1-(1-u.scale)*Math.abs(I);Math.abs(C)<.001&&(C=0),Math.abs(R)<.001&&(R=0),Math.abs(y)<.001&&(y=0),Math.abs(P)<.001&&(P=0),Math.abs(_)<.001&&(_=0),Math.abs(b)<.001&&(b=0),e.browser&&e.browser.need3dFix&&(Math.abs(P)/90%2===1&&(P+=.001),Math.abs(_)/90%2===1&&(_+=.001));const S=`translate3d(${C}px,${R}px,${y}px)  rotateX(${_}deg) rotateY(${P}deg) scale(${b})`,N=ei(u,w);if(N.style.transform=S,w.style.zIndex=-Math.abs(Math.round(I))+1,u.slideShadows){let B=d?w.querySelector(".swiper-slide-shadow-left"):w.querySelector(".swiper-slide-shadow-top"),D=d?w.querySelector(".swiper-slide-shadow-right"):w.querySelector(".swiper-slide-shadow-bottom");B||(B=Xt("coverflow",w,d?"left":"top")),D||(D=Xt("coverflow",w,d?"right":"bottom")),B&&(B.style.opacity=I>0?I:0),D&&(D.style.opacity=-I>0?-I:0)}}},setTransition:o=>{e.slides.map(l=>Rt(l)).forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>{c.style.transitionDuration=`${o}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function kw(n){let{swiper:e,extendParams:t,on:i}=n;t({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const s=a=>typeof a=="string"?a:`${a}px`;on({effect:"creative",swiper:e,on:i,setTranslate:()=>{const{slides:a,wrapperEl:l,slidesSizesGrid:c}=e,u=e.params.creativeEffect,{progressMultiplier:d}=u,f=e.params.centeredSlides;if(f){const p=c[0]/2-e.params.slidesOffsetBefore||0;l.style.transform=`translateX(calc(50% - ${p}px))`}for(let p=0;p<a.length;p+=1){const h=a[p],m=h.progress,v=Math.min(Math.max(h.progress,-u.limitProgress),u.limitProgress);let g=v;f||(g=Math.min(Math.max(h.originalProgress,-u.limitProgress),u.limitProgress));const w=h.swiperSlideOffset,E=[e.params.cssMode?-w-e.translate:-w,0,0],T=[0,0,0];let A=!1;e.isHorizontal()||(E[1]=E[0],E[0]=0);let I={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};v<0?(I=u.next,A=!0):v>0&&(I=u.prev,A=!0),E.forEach((b,S)=>{E[S]=`calc(${b}px + (${s(I.translate[S])} * ${Math.abs(v*d)}))`}),T.forEach((b,S)=>{let N=I.rotate[S]*Math.abs(v*d);e.browser&&e.browser.need3dFix&&Math.abs(N)/90%2===1&&(N+=.001),T[S]=N}),h.style.zIndex=-Math.abs(Math.round(m))+a.length;const P=E.join(", "),_=`rotateX(${T[0]}deg) rotateY(${T[1]}deg) rotateZ(${T[2]}deg)`,y=g<0?`scale(${1+(1-I.scale)*g*d})`:`scale(${1-(1-I.scale)*g*d})`,x=g<0?1+(1-I.opacity)*g*d:1-(1-I.opacity)*g*d,R=`translate3d(${P}) ${_} ${y}`;if(A&&I.shadow||!A){let b=h.querySelector(".swiper-slide-shadow");if(!b&&I.shadow&&(b=Xt("creative",h)),b){const S=u.shadowPerProgress?v*(1/u.limitProgress):v;b.style.opacity=Math.min(Math.max(Math.abs(S),0),1)}}const C=ei(u,h);C.style.transform=R,C.style.opacity=x,I.origin&&(C.style.transformOrigin=I.origin)}},setTransition:a=>{const l=e.slides.map(c=>Rt(c));l.forEach(c=>{c.style.transitionDuration=`${a}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(u=>{u.style.transitionDuration=`${a}ms`})}),as({swiper:e,duration:a,transformElements:l,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function Lw(n){let{swiper:e,extendParams:t,on:i}=n;t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),on({effect:"cards",swiper:e,on:i,setTranslate:()=>{const{slides:o,activeIndex:a,rtlTranslate:l}=e,c=e.params.cardsEffect,{startTranslate:u,isTouched:d}=e.touchEventsData,f=l?-e.translate:e.translate;for(let p=0;p<o.length;p+=1){const h=o[p],m=h.progress,v=Math.min(Math.max(m,-4),4);let g=h.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(g-=o[0].swiperSlideOffset);let w=e.params.cssMode?-g-e.translate:-g,E=0;const T=-100*Math.abs(v);let A=1,I=-c.perSlideRotate*v,P=c.perSlideOffset-Math.abs(v)*.75;const _=e.virtual&&e.params.virtual.enabled?e.virtual.from+p:p,y=(_===a||_===a-1)&&v>0&&v<1&&(d||e.params.cssMode)&&f<u,x=(_===a||_===a+1)&&v<0&&v>-1&&(d||e.params.cssMode)&&f>u;if(y||x){const S=(1-Math.abs((Math.abs(v)-.5)/.5))**.5;I+=-28*v*S,A+=-.5*S,P+=96*S,E=`${-25*S*Math.abs(v)}%`}if(v<0?w=`calc(${w}px ${l?"-":"+"} (${P*Math.abs(v)}%))`:v>0?w=`calc(${w}px ${l?"-":"+"} (-${P*Math.abs(v)}%))`:w=`${w}px`,!e.isHorizontal()){const S=E;E=w,w=S}const R=v<0?`${1+(1-A)*v}`:`${1-(1-A)*v}`,C=`
        translate3d(${w}, ${E}, ${T}px)
        rotateZ(${c.rotate?l?-I:I:0}deg)
        scale(${R})
      `;if(c.slideShadows){let S=h.querySelector(".swiper-slide-shadow");S||(S=Xt("cards",h)),S&&(S.style.opacity=Math.min(Math.max((Math.abs(v)-.5)/.5,0),1))}h.style.zIndex=-Math.abs(Math.round(m))+o.length;const b=ei(c,h);b.style.transform=C}},setTransition:o=>{const a=e.slides.map(l=>Rt(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${o}ms`})}),as({swiper:e,duration:o,transformElements:a})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}const Dw=[lw,cw,dw,uw,fw,hw,pw,mw,gw,vw,_w,yw,ww,Ew,bw,Tw,Aw,Mw,Rw,Ow,Nw,kw,Lw];Ee.use(Dw);var Sd={};(function(n){n.linear=function(e){return e},n.inQuad=function(e){return e*e},n.outQuad=function(e){return e*(2-e)},n.inOutQuad=function(e){return e*=2,e<1?.5*e*e:-.5*(--e*(e-2)-1)},n.inCube=function(e){return e*e*e},n.outCube=function(e){return--e*e*e+1},n.inOutCube=function(e){return e*=2,e<1?.5*e*e*e:.5*((e-=2)*e*e+2)},n.inQuart=function(e){return e*e*e*e},n.outQuart=function(e){return 1- --e*e*e*e},n.inOutQuart=function(e){return e*=2,e<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},n.inQuint=function(e){return e*e*e*e*e},n.outQuint=function(e){return--e*e*e*e*e+1},n.inOutQuint=function(e){return e*=2,e<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},n.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},n.outSine=function(e){return Math.sin(e*Math.PI/2)},n.inOutSine=function(e){return .5*(1-Math.cos(Math.PI*e))},n.inExpo=function(e){return e==0?0:Math.pow(1024,e-1)},n.outExpo=function(e){return e==1?e:1-Math.pow(2,-10*e)},n.inOutExpo=function(e){return e==0?0:e==1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},n.inCirc=function(e){return 1-Math.sqrt(1-e*e)},n.outCirc=function(e){return Math.sqrt(1- --e*e)},n.inOutCirc=function(e){return e*=2,e<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},n.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},n.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},n.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},n.inBounce=function(e){return 1-n.outBounce(1-e)},n.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},n.inOutBounce=function(e){return e<.5?n.inBounce(e*2)*.5:n.outBounce(e*2-1)*.5+.5},n.inElastic=function(e){var t,i=.1,s=.4;return e===0?0:e===1?1:(!i||i<1?(i=1,t=s/4):t=s*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/s)))},n.outElastic=function(e){var t,i=.1,s=.4;return e===0?0:e===1?1:(!i||i<1?(i=1,t=s/4):t=s*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/s)+1)},n.inOutElastic=function(e){var t,i=.1,s=.4;return e===0?0:e===1?1:(!i||i<1?(i=1,t=s/4):t=s*Math.asin(1/i)/(2*Math.PI),(e*=2)<1?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/s)):i*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/s)*.5+1)},n["in-quad"]=n.inQuad,n["out-quad"]=n.outQuad,n["in-out-quad"]=n.inOutQuad,n["in-cube"]=n.inCube,n["out-cube"]=n.outCube,n["in-out-cube"]=n.inOutCube,n["in-quart"]=n.inQuart,n["out-quart"]=n.outQuart,n["in-out-quart"]=n.inOutQuart,n["in-quint"]=n.inQuint,n["out-quint"]=n.outQuint,n["in-out-quint"]=n.inOutQuint,n["in-sine"]=n.inSine,n["out-sine"]=n.outSine,n["in-out-sine"]=n.inOutSine,n["in-expo"]=n.inExpo,n["out-expo"]=n.outExpo,n["in-out-expo"]=n.inOutExpo,n["in-circ"]=n.inCirc,n["out-circ"]=n.outCirc,n["in-out-circ"]=n.inOutCirc,n["in-back"]=n.inBack,n["out-back"]=n.outBack,n["in-out-back"]=n.inOutBack,n["in-bounce"]=n.inBounce,n["out-bounce"]=n.outBounce,n["in-out-bounce"]=n.inOutBounce,n["in-elastic"]=n.inElastic,n["out-elastic"]=n.outElastic,n["in-out-elastic"]=n.inOutElastic})(Sd);var Cd={exports:{}};(function(n){function e(i){if(i)return t(i)}function t(i){for(var s in e.prototype)i[s]=e.prototype[s];return i}e.prototype.on=e.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},e.prototype.once=function(i,s){function r(){this.off(i,r),s.apply(this,arguments)}return r.fn=s,this.on(i,r),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+i];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var o,a=0;a<r.length;a++)if(o=r[a],o===s||o.fn===s){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+i],this},e.prototype.emit=function(i){this._callbacks=this._callbacks||{};var s=[].slice.call(arguments,1),r=this._callbacks["$"+i];if(r){r=r.slice(0);for(var o=0,a=r.length;o<a;++o)r[o].apply(this,s)}return this},e.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},e.prototype.hasListeners=function(i){return!!this.listeners(i).length},n.exports=e})(Cd);var Fw=Cd.exports,Bw=Sd,zw=Fw;function Hw(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Ae(n){if(!(this instanceof Ae))return new Ae(n);this._from=n,this.ease("linear"),this.duration(500)}zw(Ae.prototype);Ae.prototype.reset=function(){return this.isArray=Object.prototype.toString.call(this._from)==="[object Array]",this._curr=Hw({},this._from),this._done=!1,this._start=Date.now(),this};Ae.prototype.to=function(n){return this.reset(),this._to=n,this};Ae.prototype.duration=function(n){return this._duration=n,this};Ae.prototype.ease=function(n){if(n=typeof n=="function"?n:Bw[n],!n)throw new TypeError("invalid easing function");return this._ease=n,this};Ae.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this};Ae.prototype.step=function(){if(!this._done){var n=this._duration,e=Date.now(),t=e-this._start,i=t>=n;if(i)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var s=this._from,r=this._to,o=this._curr,a=this._ease,l=(e-this._start)/n,c=a(l);if(this.isArray){for(var u=0;u<s.length;++u)o[u]=s[u]+(r[u]-s[u])*c;return this._update(o),this}for(var d in s)o[d]=s[d]+(r[d]-s[d])*c;return this._update(o),this}};Ae.prototype.update=function(n){return arguments.length==0?this.step():(this._update=n,this)};var Uw=Ae,ls={exports:{}},yn={exports:{}};(function(){var n,e,t,i,s,r;typeof performance<"u"&&performance!==null&&performance.now?yn.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(yn.exports=function(){return(n()-s)/1e6},e=process.hrtime,n=function(){var o;return o=e(),o[0]*1e9+o[1]},i=n(),r=process.uptime()*1e9,s=i-r):Date.now?(yn.exports=function(){return Date.now()-t},t=Date.now()):(yn.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(Nt);var $w=yn.exports,Ww=$w,$e=typeof window>"u"?Nt:window,ai=["moz","webkit"],Ut="AnimationFrame",Kt=$e["request"+Ut],Hn=$e["cancel"+Ut]||$e["cancelRequest"+Ut];for(var pn=0;!Kt&&pn<ai.length;pn++)Kt=$e[ai[pn]+"Request"+Ut],Hn=$e[ai[pn]+"Cancel"+Ut]||$e[ai[pn]+"CancelRequest"+Ut];if(!Kt||!Hn){var Fs=0,Ha=0,ht=[],Vw=1e3/60;Kt=function(n){if(ht.length===0){var e=Ww(),t=Math.max(0,Vw-(e-Fs));Fs=t+e,setTimeout(function(){var i=ht.slice(0);ht.length=0;for(var s=0;s<i.length;s++)if(!i[s].cancelled)try{i[s].callback(Fs)}catch(r){setTimeout(function(){throw r},0)}},Math.round(t))}return ht.push({handle:++Ha,callback:n,cancelled:!1}),Ha},Hn=function(n){for(var e=0;e<ht.length;e++)ht[e].handle===n&&(ht[e].cancelled=!0)}}ls.exports=function(n){return Kt.call($e,n)};ls.exports.cancel=function(){Hn.apply($e,arguments)};ls.exports.polyfill=function(n){n||(n=$e),n.requestAnimationFrame=Kt,n.cancelAnimationFrame=Hn};var Gw=ls.exports,jw=Uw,qw=Gw;function Yw(){var n=window.pageYOffset||document.documentElement.scrollTop,e=window.pageXOffset||document.documentElement.scrollLeft;return{top:n,left:e}}function Xw(n,e,t){t=t||{};var i=Yw(),s=jw(i).ease(t.ease||"out-circ").to({top:e,left:n}).duration(t.duration||1e3);s.update(function(o){window.scrollTo(o.left|0,o.top|0)}),s.on("end",function(){r=function(){}});function r(){qw(r),s.update()}return r(),s}var Kw=Xw,Qw=Kw;function Jw(n,e,t){var i=document.body,s=document.documentElement,r=n.getBoundingClientRect(),o=s.clientHeight,a=Math.max(i.scrollHeight,i.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight);e=e||0;var l;t==="bottom"?l=r.bottom-o:t==="middle"?l=r.bottom-o/2-r.height/2:l=r.top;var c=a-o;return Math.min(l+e+window.pageYOffset,c)}var Zw=function(n,e){if(e=e||{},typeof n=="string"&&(n=document.querySelector(n)),n)return Qw(0,Jw(n,e.offset,e.align),e)};const fE=yr(Zw);export{uE as P,Ee as S,eE as a,uh as b,nE as c,dE as d,lE as e,cE as f,oE as g,fE as h,tE as i,rE as o,aE as r,iE as s,sE as u};
//# sourceMappingURL=vendor-da35e067.js.map
